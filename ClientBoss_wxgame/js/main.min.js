var egret=window.egret,__reflect=this&&this.__reflect||function(e,t,o){e.__class__=t,o?o.push(t):o=[t],e.__types__=e.__types__?o.concat(e.__types__):o},__extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);o.prototype=t.prototype,e.prototype=new o},__awaiter=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{l(n.next(e))}catch(t){a(t)}}function s(e){try{l(n["throw"](e))}catch(t){a(t)}}function l(e){e.done?i(e.value):new o(function(t){t(e.value)}).then(r,s)}l((n=n.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(r=a[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(n){o=[6,n],a=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var i,a,r,s,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),"throw":o(1),"return":o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},game;!function(e){var t=function(t){function o(){var e=t.call(this)||this;return e.skinName=e.getSkinName(),e.init(),e}return __extends(o,t),o.prototype.init=function(){},o.prototype.getSkinName=function(){},o.prototype.addEventAndNotify=function(){if(this._touchEvent&&this._touchEvent.length>0&&this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.callTouchEvent,this),this._notify&&this._notify.length>0)for(var t=0;t<this._notify.length;t++){var o=this._notify[t];o.execute?e.BINDING_EXEC(o.source,o.target,o.callBackFunc,o.notifyName):e.BINDING_ONLY(o.source,o.target,o.callBackFunc,o.notifyName)}},o.prototype.removeEventAndNotify=function(){if(this._touchEvent&&this._touchEvent.length>0&&this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.callTouchEvent,this),this._notify&&this._notify.length>0)for(var t=0;t<this._notify.length;t++){var o=this._notify[t];e.UNBINDING(o.source,o.target,o.notifyName)}},o.prototype.callTouchEvent=function(e){for(var t=e.target,o=0;o<this._touchEvent.length;o++)t==this._touchEvent[o].target&&this._touchEvent[o].callBackFunc.bind(this)(t,e)},o.prototype.removeFromParent=function(){this.parent&&this.parent.removeChild(this)},o}(eui.Component);e.GameComponent=t,__reflect(t.prototype,"game.GameComponent")}(game||(game={}));var game;!function(e){function t(e,t,o,n){t?e.addObserver(t,o,n)&&o.call(t):o.call(t)}function o(e,t,o,n){t&&e.addObserver(t,o,n)}function n(e,t){t&&e.removeAllObservers(t)}function i(e,t,o){t&&e.removeObserver(t,o)}e.BINDING_EXEC=t,e.BINDING_ONLY=o,e.UNBINDING_ALL=n,e.UNBINDING=i;var a=function(){function e(e,t,o){this.m_name=e,this.m_target=t,this.m_selector=o}return e.create=function(t,o,n,i){var a=new e(t,n,i);return egret.setTimeout(a.scheduleUpdate,a,o),a},e.prototype.scheduleUpdate=function(e){var t=this;t.m_target&&(t.m_selector.call(t.m_target,t.m_name),t.m_target=null,t.m_selector=null)},e}();e.NotificationInfo=a,__reflect(a.prototype,"game.NotificationInfo");var r=function(){function e(){this.m_observers=[]}return e.prototype.observerExisted=function(e,t){for(var o=this.m_observers,n=0,i=o.length;i>n;n++){var a=o[n];if(a.target==e&&a.name==t)return!0}return!1},e.prototype.addObserver=function(e,t,o){if(this.observerExisted(e,o))return!1;var n={target:e,selector:t,name:o,once:!1};return this.m_observers.push(n),!0},e.prototype.once=function(e,t,o){if(this.observerExisted(e,o))return!1;var n={target:e,selector:t,name:o,once:!0};return this.m_observers.push(n),!0},e.prototype.removeObserver=function(e,t){for(var o=this.m_observers,n=0,i=o.length;i>n;n++){var a=o[n];if(a.name==t&&a.target==e)return void o.splice(n,1)}},e.prototype.removeAllObservers=function(e){for(var t=this.m_observers,o=0,n=t.length-1;n>=0;--n){var i=t[n];i.target==e&&(t.splice(n,1),o++)}return o},e.prototype.postNotification=function(e,t){return void 0===t&&(t=null),__awaiter(this,void 0,void 0,function(){var o,n,i;return __generator(this,function(a){switch(a.label){case 0:o=this.m_observers,i=0,a.label=1;case 1:return i<o.length?(n=o[i],n.name!==e?[3,3]:[4,n.selector.call(n.target,t)]):[3,4];case 2:a.sent(),n.once&&(this.removeObserver(n.target,n.name),i--),a.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e}();e.Notification=r,__reflect(r.prototype,"game.Notification");var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t.once=function(e,t,o){this.getInstance().once(e,t,o)},t.addObserver=function(e,t,o){this.getInstance().addObserver(e,t,o)},t.removeObserver=function(e,t){this.getInstance().removeObserver(e,t)},t.postNotification=function(e,t){void 0===t&&(t=null),this.getInstance().postNotification(e,t)},t}(r);e.NotificationCenter=s,__reflect(s.prototype,"game.NotificationCenter")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onTouchBegin,t),t._buttonMusic=3,t._showEffect=!0,t}return __extends(t,e),t.prototype.onTouchBegin=function(e){if(this._buttonMusic,this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this._showEffect){this._lastScaleX||(this._lastScaleX=this.scaleX),this._lastScaleY||(this._lastScaleY=this.scaleY);var t=this._lastScaleX,o=this._lastScaleY;this._lastScaleX>0?t+=.2:t-=.2,this._lastScaleY>0?o+=.2:o-=.2,this.setScale(t,o)}},t.prototype.onStageTouchEnd=function(e){var t=e.currentTarget;t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this._showEffect&&this.setScale(this._lastScaleX||1,this._lastScaleY||1)},t.prototype.setScale=function(e,t){this.scaleX=e,this.scaleY=t},t.prototype.setButtonMusic=function(e){this._buttonMusic=e},t}(eui.Component);e.EffectButton=t,__reflect(t.prototype,"game.EffectButton"),window["game.EffectButton"]=e.EffectButton}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(e.Notification);e.BaseModel=t,__reflect(t.prototype,"game.BaseModel")}(game||(game={}));var game;!function(e){e.$netIp="https://bf.giantfun.cn",e.$neiNetIp="https://bfp.giantfun.cn",e.$shuangshuangIp="http://192.168.30.202",e.$kaiIp="http://192.168.30.206:30002",e.$isWx=!1,e.$goodsIp="http://logistics.giantfun.cn:8083",e.$goodsPath="/v1/logistics/query",e.$registIp="http://192.168.30.203:7003",e._netIp="192.168.30.203",e._netPort="7002",e.$uploadScore="/score/uploadScore",e.$getRankList="/score/getRankList"}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onCreate=function(){},t.prototype.onDestroy=function(){},t}(e.GameComponent);e.BattleBody=t,__reflect(t.prototype,"game.BattleBody",["game.PoolItem"])}(game||(game={}));var gameConfig;!function(e){function t(){var e=window.navigator.userAgent.toLowerCase(),t=""+e.match(/MicroMessenger/i);return"null"==t?!1:"micromessenger"==t?!0:void 0}function o(){return document.body.clientHeight/document.body.clientWidth>1.32}function n(){var e=window.navigator.userAgent.toLowerCase();""+e.match(/MicroMessenger/i);return""+e.match(/windows nt/i)=="windows nt"?"windows":""+e.match(/iphone/i)=="iphone"?"ios":""+e.match(/android/i)=="android"?"android":""+e.match(/ipad/i)=="ipad"?"ipad":""+e.match(/linux/i)=="linux"?"linux":""+e.match(/mac/i)=="mac"?"mac":""+e.match(/ucbrower/i)=="ucbrower"?"ucbrower":void egret.log("未知系统类型")}function i(){return/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?!1:!0}function a(){var e=window.navigator.userAgent.toLowerCase();return""+e.match(/micromessenger/i)=="micromessenger"?"micromessenger":""+e.match(/qzone/i)=="qzone"?"qzone":""+e.match(/weibo/i)=="weibo"?"weibo":""+e.match(/qq/i)=="qq"?"qq":""+e.match(/renren/i)=="renren"?"renren":""+e.match(/txmicroblog/i)=="txmicroblog"?"txmicroblog":""+e.match(/douban/i)=="douban"?"douban":"other"}function r(){return egret.MainContext.instance.stage}function s(){return egret.MainContext.instance.stage.stageWidth}function l(){return egret.MainContext.instance.stage.stageHeight}function c(e){var t=/^1[3,5,8]\d{9}$/;return t.test(e)}function h(){return 375==window.screen.availWidth&&812==window.screen.availHeight}e.isOnLine=navigator.onLine,e.TextColors={white:16777215,milkWhite:16051129,grayWhite:13547170,yellow:16776960,lightYellow:16765813,orangeYellow:16750848,red:15799040,green:58624,blue:1742039,grayBlue:3101047,purple:15284466,pink:16724016,black:3026221,golden:16766720,pinkRed:16738190},e.LabelFontSize={littleSize:12,middleSize:18,normalSize:24,bigSize:36},e.isWeiXin=t,e.isBigScreen=o,e.systemType=n,e.isPC=i,e.platformType=a,e.curStage=r,e.curWidth=s,e.curHeight=l,e.checkIsPhone=c,e.factor=30,e.perBrickSize=36,e.paddleMoveX=350,e.ballCollisionGroup=Math.pow(2,0),e.wallCollisionGroup=Math.pow(2,1),e.brickCollisionGroup=Math.pow(2,2),e.buffCollisionGroup=Math.pow(2,3),e.paddleCollisionGroup=Math.pow(2,4),e.hang=15,e.isIphoneX=h}(gameConfig||(gameConfig={}));var game;!function(e){var t=function(){function e(e){this._pool=[],this.list=[],this._classFactory=e}return e.prototype.createObject=function(){var e,t=this,o=t._pool;return e=o.length>0?o.pop():new t._classFactory,e.onCreate&&e.onCreate(),this.list.push(e),e},e.prototype.destroyObject=function(e){var t=this.list.indexOf(e);-1!=t&&this.list.splice(t,1),this._pool.push(e),e.onDestroy&&e.onDestroy()},e.prototype.destroyAllObject=function(){for(var e=this,t=e.list.length-1;t>=0;t--)e.destroyObject(e.list[t])},e.prototype.getListItemCount=function(){return this.list.length},e}();e.ObjectPool=t,__reflect(t.prototype,"game.ObjectPool")}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.getSkinName=function(){return LoadingSkin},o.prototype.init=function(){e.NotificationCenter.addObserver(this,this.OnClosePanel,"closeLoadingSkin"),this.height=gameConfig.curHeight()},o.prototype.OnClosePanel=function(){e.NotificationCenter.removeObserver(this,"closeLoadingSkin"),this.removeFromParent()},o.prototype.onProgress=function(e,t){this.loadText.text="游戏加载中.."+Math.ceil(e/t*100)+"%"},o}(e.GameComponent);e.LoadingUI=t,__reflect(t.prototype,"game.LoadingUI",["RES.PromiseTaskReporter"])}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._isShow=!1,e}return __extends(o,t),o.prototype.removeDarkRect=function(){this.darkRect&&(e.DarkRectPool.destroyObject(this.darkRect),this.darkRect.parent&&this.darkRect.parent.removeChild(this.darkRect),this.darkRect=null)},o.prototype.show=function(){this._isShow||(this.beforeShow(),this.resetSize(),this.addEventAndNotify(),this.playShowEffect(),this._isShow=!0)},o.prototype.beforeShow=function(){},o.prototype.resetSize=function(){this.width=gameConfig.curWidth(),this.height=gameConfig.curHeight()},o.prototype.playShowEffect=function(t,o,n){void 0===t&&(t=!0),void 0===o&&(o=1),void 0===n&&(n=!1);var i=this;if(i.scaleX=1,i.scaleY=1,i.x=0,i.y=0,i.alpha=1,t){var a=e.DarkRectPool.createObject();a.fillAlpha=.5,a.fillColor=0,a.width=gameConfig.curWidth(),a.height=gameConfig.curHeight(),a.touchChildren=!1,a.touchEnabled=!0,a.visible=!0,egret.Tween.get(a).to({alpha:1},150),e.GameLayer.panelLayer.addChild(a),i.darkRect=a}e.GameLayer.panelLayer.addChild(i);var r=i.width,s=i.height,l=gameConfig.curWidth()/2-r/2,c=gameConfig.curHeight()/2-s/2;switch(o=0){case 0:break;case 1:i.alpha=0,i.scaleX=.5,i.scaleY=.5,i.x=i.x+r/4,i.y=i.y+s/4,egret.Tween.get(i).to({alpha:1,scaleX:1,scaleY:1,x:i.x-r/4,y:i.y-s/4},300,egret.Ease.backOut);break;case 2:i.alpha=0,i.scaleX=.5,i.scaleY=.5,i.x=i.x+r/4,i.y=i.y+s/4,egret.Tween.get(i).to({alpha:1,scaleX:1,scaleY:1,x:i.x-r/4,y:i.y-s/4},600,egret.Ease.elasticOut);break;case 3:n?(i.x=-r,egret.Tween.get(i).to({x:l},500,egret.Ease.cubicOut)):(i.x=-r,egret.Tween.get(i).to({x:0},500,egret.Ease.cubicOut));break;case 4:n?(i.x=r,egret.Tween.get(i).to({x:l},500,egret.Ease.cubicOut)):(i.x=r,egret.Tween.get(i).to({x:0},500,egret.Ease.cubicOut));break;case 5:n?(i.y=-s,egret.Tween.get(i).to({y:c},500,egret.Ease.cubicOut)):(i.y=-s,egret.Tween.get(i).to({y:0},500,egret.Ease.cubicOut));break;case 6:n?(i.y=1100,egret.Tween.get(i).to({y:c},500,egret.Ease.cubicOut)):(i.y=s,egret.Tween.get(i).to({y:0},500,egret.Ease.cubicOut));break;default:n?(i.x=-r,egret.Tween.get(i).to({x:l},500,egret.Ease.cubicOut)):(i.x=-r,egret.Tween.get(i).to({x:0},500,egret.Ease.cubicOut))}},o.prototype.remove=function(){this._isShow&&(this.beforeRemove(),this.removeEventAndNotify(),this.playRemoveEffect(),this._isShow=!1)},o.prototype.beforeRemove=function(){},o.prototype.playRemoveEffect=function(){var e=this,t=e.stage;e.removeDarkRect(),t.touchChildren=!1;var o=1;switch(o){case 0:break;case 1:egret.Tween.get(e).to({alpha:0,scaleX:0,scaleY:0,x:e.x+e.width/2,y:e.y+e.height/2},300);break;case 3:egret.Tween.get(e).to({x:e.width},400,egret.Ease.cubicOut);break;case 4:egret.Tween.get(e).to({x:-e.width},400,egret.Ease.cubicOut);break;case 5:egret.Tween.get(e).to({y:e.height},400,egret.Ease.cubicOut);break;case 6:egret.Tween.get(e).to({y:-e.height},400,egret.Ease.cubicOut);break;default:egret.Tween.get(e).to({y:-e.height},400,egret.Ease.cubicOut)}var n=400;0==o&&(n=0),egret.setTimeout(function(){t.touchChildren=!0,e.removeFromParent()},this,n)},o}(e.GameComponent);e.PanelComponent=t,__reflect(t.prototype,"game.PanelComponent")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._isShow=!1,e}return __extends(o,t),o.prototype.loadRes=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},o.prototype.show=function(){this.beforeShow(),this.resetSize(),this.addEventAndNotify(),e.GameLayer.sceneLayer.addChild(this),this._isShow=!0},o.prototype.beforeShow=function(){},o.prototype.resetSize=function(){this.width=gameConfig.curWidth(),this.height=gameConfig.curHeight()},o.prototype.remove=function(){this.beforeRemove(),this.removeEventAndNotify(),this.removeFromParent(),this._isShow=!1},o.prototype.beforeRemove=function(){},o}(e.GameComponent);e.SceneComponent=t,__reflect(t.prototype,"game.SceneComponent")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.init(),t}return __extends(t,e),t.prototype.init=function(){this.touchThrough=!0,t.sceneLayer.touchEnabled=!1,t.mainLayer.touchEnabled=!1,t.battleLayer.touchEnabled=!1,t.panelLayer.touchEnabled=!1,t.effectLayer.touchEnabled=!1,t.teachLayer.touchEnabled=!1,t.maskLayer.touchEnabled=!1,t.loadLayer.touchEnabled=!1,t.sceneLayer.touchThrough=!0,t.mainLayer.touchThrough=!0,t.battleLayer.touchThrough=!0,t.panelLayer.touchThrough=!0,t.effectLayer.touchThrough=!0,t.teachLayer.touchThrough=!0,t.maskLayer.touchThrough=!0,t.loadLayer.touchThrough=!0,this.addChild(t.sceneLayer),this.addChild(t.mainLayer),this.addChild(t.battleLayer),this.addChild(t.panelLayer),this.addChild(t.effectLayer),this.addChild(t.teachLayer),this.addChild(t.loadLayer),this.addChild(t.maskLayer)},t.sceneLayer=new eui.UILayer,t.mainLayer=new eui.UILayer,t.battleLayer=new eui.UILayer,t.panelLayer=new eui.UILayer,t.effectLayer=new eui.UILayer,t.teachLayer=new eui.UILayer,t.loadLayer=new eui.UILayer,t.maskLayer=new eui.UILayer,t}(eui.UILayer);e.GameLayer=t,__reflect(t.prototype,"game.GameLayer")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"icon",{set:function(e){this._icon=e,this.iconDisplay&&(this.iconDisplay.source=e)},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.IconButton=t,__reflect(t.prototype,"game.IconButton"),window["game.IconButton"]=e.IconButton}(game||(game={}));var game;!function(e){var t=function(){function t(){this.isRetStartGame=!0,this.roomId=0}return t.prototype.init=function(){e.NotificationCenter.addObserver(this,this.OnGW2C_RetStartGame,"msg.GW2C_RetStartGame"),e.NotificationCenter.addObserver(this,this.OnBT_GameInit,"msg.BT_GameInit"),e.NotificationCenter.addObserver(this,this.OnBT_SendBattleUser,"msg.BT_SendBattleUser"),e.NotificationCenter.addObserver(this,this.OnBT_GameStart,"msg.BT_GameStart")},t.prototype.OnGW2C_RetStartGame=function(t){this.isRetStartGame=!0,this.roomId=t.roomid,""==t.errcode?e.sendMessage("msg.BT_ReqEnterRoom",msg.BT_ReqEnterRoom.encode({roomid:t.roomid,userid:e.DataManager.playerModel.getUserId()})):e.showTips(t.errcode,!0)},t.prototype.OnBT_GameInit=function(e){},t.prototype.OnBT_SendBattleUser=function(t){e.DataManager.playerModel.setScore(t.gold)},t.prototype.OnBT_GameStart=function(t){e.DataManager.playerModel.battleStart(),e.SoundManager.playEffect("play"),e.SceneManager.changeScene(0)},t.prototype.getRoomId=function(){return this.roomId},t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t}();e.BattleManager=t,__reflect(t.prototype,"game.BattleManager")}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.init=function(){t.playerModel=new e.PlayerModel,t.playerModel.RegisterEvent(),table.TBirckInfo=table.TBirckInfo.sort(function(t,o){var n=e.splitStringToNumberArray(t.Info,"-"),i=e.splitStringToNumberArray(o.Info,"-");return n[2]-i[2]})},t}();e.DataManager=t,__reflect(t.prototype,"game.DataManager")}(game||(game={}));var game;!function(e){function t(){e.NotificationCenter.postNotification("closeLoadingSkin"),e.SceneManager.changeScene(2,!1)}function o(t){platform.getUserInfo().then(function(o){console.log(o);var n=o.nickName,a=o.avatarUrl;o.gender,o.country,o.province;e.DataManager.playerModel.userInfo.face=a,console.log("openid: ",t),i.getInstance().wxlogin({openid:t,face:a,nickname:n})})}function n(){platform.login().then(function(t){e.wxCode=t.code,wx.request({url:e.$registIp,data:{gmcmd:"wx_login",tempauthcode:e.wxCode},header:{"content-type":"application/json"},method:"POST",dataType:"",success:function(t){console.log("登录服务器返回：",t),0==t.data.status?o(t.data.msg):e.showDialog("登陆失败 "+t.data.msg,"确定",null)},fail:function(e){return console.log("请求失败",e)},complete:null})})}var i=function(){function t(){}return t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){var o,n;return __generator(this,function(i){switch(i.label){case 0:return[4,this.connectLoginGW()];case 1:return o=i.sent(),1!=o.result?[3,3]:(e.NotificationCenter.once(this,function(){e.NotificationCenter.postNotification(t.LOGIN_STATE,!0),e.createGameScene()},"msg.GW2C_SendUserInfo"),[4,this.connectLoginGate(o,e.loginUserInfo.account)]);case 2:return n=i.sent(),""==n.errcode||(e.NotificationCenter.removeObserver(this,"msg.GW2C_SendUserInfo"),e.NetFailed.getInstance().show(n.errcode),e.NotificationCenter.postNotification(t.LOGIN_STATE,!1)),[3,4];case 3:e.NetFailed.getInstance().show(o.reason),e.NotificationCenter.postNotification(t.LOGIN_STATE,!1),i.label=4;case 4:return[2]}})})},t.prototype.wxlogin=function(o){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(a){switch(a.label){case 0:return[4,this.connectWxLoginGW(o)];case 1:return n=a.sent(),1!=n.result?[3,3]:(e.NotificationCenter.once(this,function(){e.NotificationCenter.postNotification(t.LOGIN_STATE,!0),e.createGameScene()},"msg.GW2C_SendUserInfo"),[4,this.connectLoginGate(n,o.openid)]);case 2:return i=a.sent(),""==i.errcode||(e.NotificationCenter.removeObserver(this,"msg.GW2C_SendUserInfo"),e.NetFailed.getInstance().show(i.errcode),e.NotificationCenter.postNotification(t.LOGIN_STATE,!1)),[3,4];case 3:e.NetFailed.getInstance().show(n.reason),e.NotificationCenter.postNotification(t.LOGIN_STATE,!1),a.label=4;case 4:return[2]}})})},t.prototype.reqLoginFunc=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},t.prototype.connectLoginGate=function(t,o){var n=this;void 0===o&&(o="");var i=e.defer();return e.ClientNet.getInstance().onConnectClose(),e.NotificationCenter.once(this,function(){e.ClientNet.getInstance().onConnectByUrl("ws://"+t.gatehost.ip+":"+t.gatehost.port+"/ws_handler"),e.NotificationCenter.once(n,function(){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(n){return e.NotificationCenter.once(this,function(e){i.resolve(e)},"msg.GW2C_RetLogin"),e.sendMessage("msg.C2GW_ReqLogin",msg.C2GW_ReqLogin.encode({account:o,verifykey:t.verifykey})),[2]})})},e.ClientNet.SOCKET_CONNECT_SUCCESS)},e.ClientNet.SOCKET_CONNECT_CLOSE),i.promise()},t.prototype.connectLoginGW=function(){var t=this,o=e.defer();return e.ClientNet.getInstance().onConnectByUrl("ws://"+e.loginGwIp+":"+e._netPort+"/ws_handler"),e.NotificationCenter.once(this,function(){e.sendMessage("msg.C2L_ReqLogin",msg.C2L_ReqLogin.encode(e.loginUserInfo)),e.NotificationCenter.once(t,function(e){o.resolve(e)},"msg.L2C_RetLogin")},e.ClientNet.SOCKET_CONNECT_SUCCESS),o.promise()},t.prototype.connectWxLoginGW=function(t){var o=this,n=e.defer();return e.ClientNet.getInstance().onConnectByUrl("ws://"+e.loginGwIp+":"+e._netPort+"/ws_handler"),e.NotificationCenter.once(this,function(){e.sendMessage("msg.C2L_ReqLoginWechat",msg.C2L_ReqLoginWechat.encode(t)),e.NotificationCenter.once(o,function(e){n.resolve(e)},"msg.L2C_RetLogin")},e.ClientNet.SOCKET_CONNECT_SUCCESS),n.promise()},t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t.LOGIN_STATE="LoginManager_LOGIN_STATE",t}();e.LoginManager=i,__reflect(i.prototype,"game.LoginManager");e.Login=t,e.wxAutoLogin=n,e.loginGwIp=e._netIp}(game||(game={}));var game;!function(e){function t(t,o){void 0===o&&(o=null);var n;switch(t){case 1:n=e.WinScene.getInstance();break;case 2:n=e.RankPanel.getInstance();break;case 3:n=e.BattleLucky.getInstance();break;case 4:n=e.BattleBag.getInstance();break;case 5:n=e.RegisterPanel.getInstance();break;case 6:n=e.UserPanel.getInstance();break;case 7:n=e.HistoryMoneyPanel.getInstance();break;case 8:n=e.DeliveryPanel.getInstance();break;case 9:n=e.DeliverySetting.getInstance();break;case 10:n=e.BattlePay.getInstance()}n&&n.show()}e.openPanel=t}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.changeScene=function(t,o,n){return void 0===o&&(o=!1),void 0===n&&(n=null),__awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:if(this._curSceneType==t&&!o)return[2];switch(this._curScene&&(this._lastSceneType=this._curSceneType,this._curScene.remove(),this._curScene=null),this._curSceneType=t,t){case 0:this._curScene=e.BattleScene.getInstance(),e.BattleScene.getInstance().setData(n);break;case 1:this._curScene=e.MainScene.getInstance();break;case 2:this._curScene=e.LoginScene.getInstance()}return this._curScene?[4,this._curScene.loadRes()]:[3,2];case 1:i.sent(),this._curScene.show(),i.label=2;case 2:return[2]}})})},t.backLastScene=function(){this._lastSceneType&&this.changeScene(this._lastSceneType)},t}();e.SceneManager=t,__reflect(t.prototype,"game.SceneManager")}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.init=function(){var t=this;e.BINDING_EXEC(e.DataManager.playerModel,this,function(){var o=e.DataManager.playerModel.musicState;t.playMusic="on"==o,t.playMusic?t.resumeBgSound():t.stopBgSound()},e.PlayerModel.MUSIC_CHANGE),e.BINDING_EXEC(e.DataManager.playerModel,this,function(){var o=e.DataManager.playerModel.soundState;t.playSound="on"==o},e.PlayerModel.SOUND_CHANGE)},t.playEffect=function(e,t){return void 0===t&&(t=1),__awaiter(this,void 0,void 0,function(){var o=this;return __generator(this,function(n){return this.playSound?(this.currentSound=e,RES.getResAsync(e+"_mp3",function(n){if(o.currentSound==e){if(!n)return;var i=n;i.type=egret.Sound.EFFECT;var a=i.play(0,1);a.volume=t}},this),[2]):[2]})})},t.playBgSound=function(e,t){var o=this;void 0===t&&(t=!0),this.currentMusic=e,this.currentLoop=t,this.playMusic&&(this.stopBgSound(),RES.getResAsync("music/"+e,function(n){if(o.currentMusic==e){if(!n)return;o.stopBgSound(),o.sdbg=n,o.sdbg.type=egret.Sound.MUSIC,t?(o.channelBG=o.sdbg.play(0,0),o.channelBG.removeEventListener(egret.Event.SOUND_COMPLETE,o.musicLoopFinish,o)):(o.channelBG=o.sdbg.play(0,1),o.channelBG.addEventListener(egret.Event.SOUND_COMPLETE,o.musicLoopFinish,o)),o.channelBG.volume=.5}},this))},t.playTech=function(e){var t=this;this.currentTeach=e,this.playMusic&&(this.stopTeach(),RES.getResAsync("music/"+e,function(o){if(t.currentTeach==e){if(!o)return;var n=o;n.type=egret.Sound.EFFECT,t.channelTeach=n.play(0,1)}},this))},t.musicLoopFinish=function(){},t.stopBgSound=function(){this.channelBG&&this.channelBG.stop()},t.hideBgSound=function(){this.channelBG&&(this.channelBG.volume=0)},t.showBgSound=function(){this.channelBG&&(this.channelBG.volume=.5)},t.stopTeach=function(){this.channelTeach&&this.channelTeach.stop()},t.resumeTeach=function(){this.currentTeach&&this.playTech(this.currentTeach)},t.resumeBgSound=function(){this.currentMusic&&this.playBgSound(this.currentMusic,this.currentLoop)},t.playMusic=!0,t.playSound=!0,t}();e.SoundManager=t,__reflect(t.prototype,"game.SoundManager")}(game||(game={}));var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,o,n){function i(e){t.call(n,e)}function a(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),o.call(n))}"undefined"!=typeof generateEUI?egret.callLater(function(){t.call(n,generateEUI)},this):(RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_TEXT))},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.penetration=0,e._gold=50,e.userInfo={face:"1",name:"",userid:0,rank:0,money:0,openid:"",addrlist:[]},e.bagList=[],e.historyMoneyList=[],e.totalMoney=0,e}return __extends(o,t),o.prototype.RegisterEvent=function(){e.NotificationCenter.addObserver(this,this.OnGW2C_RetUserInfo,"msg.GW2C_SendUserInfo"),e.NotificationCenter.addObserver(this,this.OnGW2C_SendWechatInfo,"msg.GW2C_SendWechatInfo"),e.NotificationCenter.addObserver(this,this.OnGW2C_UpdateGold,"msg.GW2C_UpdateGold"),e.NotificationCenter.addObserver(this,this.OnGW2C_AddPackageItem,"msg.GW2C_AddPackageItem"),e.NotificationCenter.addObserver(this,this.OnGW2C_RemovePackageItem,"msg.GW2C_RemovePackageItem"),e.NotificationCenter.addObserver(this,this.OnGW2C_FreePresentNotify,"msg.GW2C_FreePresentNotify"),e.NotificationCenter.addObserver(this,this.OnGW2C_SendLuckyDrawRecord,"msg.GW2C_SendLuckyDrawRecord"),e.NotificationCenter.addObserver(this,this.OnGW2C_SendDeliveryAddressList,"msg.GW2C_SendDeliveryAddressList")},o.prototype.OnGW2C_RetUserInfo=function(e){this.userInfo.money=e.base.money,this.userInfo.name=e.entity.name,this.userInfo.userid=e.entity.id,this.userInfo.openid=e.base.wechat.openid,this.userInfo.addrlist=e.base.addrlist,this.bagList=e.item.items,this.historyMoneyList=e.base.luckydraw.drawlist,this.totalMoney=e.base.luckydraw.totalvalue},o.prototype.OnGW2C_SendWechatInfo=function(e){this.userInfo.openid=e.openid},o.prototype.OnGW2C_UpdateGold=function(e){this.userInfo.money=e.num,this.setScore(e.num)},o.prototype.OnGW2C_AddPackageItem=function(t){this.addBag(t.itemid,t.num),e.NotificationCenter.postNotification(o.BAG_UPDATE)},o.prototype.OnGW2C_RemovePackageItem=function(t){this.deleteBag(t.itemid,t.num),e.NotificationCenter.postNotification(o.BAG_UPDATE)},o.prototype.OnGW2C_FreePresentNotify=function(t){e.LoginReward.getInstance().show()},o.prototype.OnGW2C_SendLuckyDrawRecord=function(e){this.historyMoneyList=e.luckydraw.drawlist,this.totalMoney=e.luckydraw.totalvalue},o.prototype.OnGW2C_SendDeliveryAddressList=function(e){this.userInfo.addrlist=e.list},o.prototype.setScore=function(e){this.userInfo.money=e,this.postNotification(o.SCORE_UPDATE)},o.prototype.incScore=function(e){this.userInfo.money+=e,this.postNotification(o.SCORE_UPDATE)},o.prototype.getScore=function(){return this.userInfo.money},o.prototype.useScore=function(e){this.userInfo.money-=e,this.userInfo.money<0&&(this.userInfo.money=0),this.postNotification(o.SCORE_UPDATE)},o.prototype.addScore=function(e){this.userInfo.money+=e,this.postNotification(o.SCORE_UPDATE)},o.prototype.getGold=function(){return this._gold},o.prototype.useGold=function(e,t){void 0===t&&(t=null),this._gold-=e,this._gold<0&&(this._gold=0),this.postNotification(o.GOLD_UPDATE),t&&this.postNotification(o.ADD_OR_USE_GOLD,t)},o.prototype.addGold=function(e,t){void 0===t&&(t=null),this._gold+=e,this.postNotification(o.GOLD_UPDATE),t&&this.postNotification(o.ADD_OR_USE_GOLD,t)},o.prototype.addBag=function(e,t){for(var o=!0,n=0;n<this.bagList.length;n++)if(this.bagList[n].id==e){this.bagList[n].num+=t,o=!1;break}o&&this.bagList.push({id:e,num:t})},o.prototype.deleteBag=function(e,t){for(var o=0;o<this.bagList.length;o++)if(this.bagList[o].id==e){this.bagList[o].num-=t,this.bagList[o].num<=0&&this.bagList.splice(o,1);break}},o.prototype.getBag=function(){return this.bagList},Object.defineProperty(o.prototype,"musicState",{get:function(){var e=egret.localStorage.getItem("music");return e||(egret.localStorage.setItem("music","on"),e="on"),e},enumerable:!0,configurable:!0}),o.prototype.changeMusicState=function(){var t=egret.localStorage.getItem("music");"on"==t?(t="off",e.showTips(e.Lang.guanbiyinyue)):(t="on",e.showTips(e.Lang.dakaiyinyue)),egret.localStorage.setItem("music",t),this.postNotification(o.MUSIC_CHANGE)},Object.defineProperty(o.prototype,"soundState",{get:function(){var e=egret.localStorage.getItem("sound");return e||(egret.localStorage.setItem("sound","on"),e="on"),e},enumerable:!0,configurable:!0}),o.prototype.changeSoundState=function(){var t=egret.localStorage.getItem("sound");"on"!=t?(t="on",e.showTips(e.Lang.dakaiyinxiao)):(t="off",e.showTips(e.Lang.guanbiyinxiao)),egret.localStorage.setItem("sound",t),this.postNotification(o.SOUND_CHANGE)},o.prototype.battleStart=function(){this.penetration=0},o.prototype.battleEnd=function(t){return void 0===t&&(t=1),__awaiter(this,void 0,void 0,function(){var t,o,n,i;return __generator(this,function(a){switch(a.label){case 0:return e.SoundManager.playEffect("jiesuan"),t={face:this.userInfo.face,name:this.userInfo.name,openid:this.userInfo.userid+"",score:this.getScore(),token:""},[4,e.SendHttp(e.$uploadScore,t)];case 1:return o=a.sent(),o&&(this.updateUserInfo(o.msg.userInfo),n=o.msg.userInfo.score==this.getScore(),i=e.WinScene.getInstance(),i.setScore(n,this.getScore(),o.msg.ranklist),e.openPanel(1)),[2]}})})},o.prototype.addPenetration=function(e){this.penetration=e,this.postNotification(o.PENETRATION_UPDATE)},o.prototype.usePenetration=function(e){this.penetration-=e,this.postNotification(o.PENETRATION_UPDATE)},o.prototype.openRankPanel=function(){return __awaiter(this,void 0,void 0,function(){var t,o;return __generator(this,function(n){switch(n.label){case 0:return t={face:this.userInfo.face,name:this.userInfo.name,openid:this.userInfo.userid+"",start:0,stop:1,token:""},[4,e.SendHttp(e.$getRankList,t)];case 1:return o=n.sent(),o&&(this.updateUserInfo(o.msg.userInfo),e.openPanel(2)),[2]
}})})},o.prototype.requireRank=function(t){return __awaiter(this,void 0,void 0,function(){var o,n;return __generator(this,function(i){switch(i.label){case 0:return o={face:this.userInfo.face,name:this.userInfo.name,openid:this.userInfo.userid+"",start:t,stop:t+50,token:""},[4,e.SendHttp(e.$getRankList,o)];case 1:return n=i.sent(),n&&(this.updateUserInfo(n.msg.userInfo),e.NotificationCenter.postNotification("msg.GW2C_RetSort",n.msg.ranklist)),[2]}})})},o.prototype.updateUserInfo=function(e){this.userInfo.userid=e.userid,this.userInfo.name=e.name,this.userInfo.face=e.face,this.userInfo.rank=e.rank,this.userInfo.money=e.score,this.postNotification(o.TOP_UPDATE)},o.prototype.getPlayerGoods=function(){return __awaiter(this,void 0,void 0,function(){var t,o;return __generator(this,function(n){switch(n.label){case 0:return[4,e.ajax(""+e.$goodsIp+e.$goodsPath,{uid:this.getUserId(),state:0,gameid:10002})];case 1:return t=n.sent(),o=JSON.parse(t),0==o.code||"操作成功"==o.msg?[2,o.data]:[2,[]]}})})},o.prototype.guideFinish=function(){return egret.localStorage.getItem("guide")?!0:!1},o.prototype.getUserInfo=function(){return this.userInfo},o.prototype.getUserId=function(){return this.userInfo.userid},o.prototype.getOpenId=function(){return this.userInfo.openid},o.prototype.getHistoryMoney=function(){return this.historyMoneyList},o.prototype.getTotalMoney=function(){return this.totalMoney},o.MUSIC_CHANGE="PlayerModel_MUSIC_CHANGE",o.SOUND_CHANGE="PlayerModel_SOUND_CHANGE",o.GOLD_UPDATE="PlayerModel_GOLD_UPDATE",o.SCORE_UPDATE="PlayerModel_SCORE_UPDATE",o.ADD_OR_USE_GOLD="PlayerModel_ADD_OR_USE_GOLD",o.GOLD_NOT_ENOUGH="PlayerModel_GOLD_NOT_ENOUGH",o.PENETRATION_UPDATE="PlayerModel_PENETRATION_UPDATE",o.TOP_UPDATE="PlayerModel_TOP_UPDATE",o.BAG_UPDATE="PlayerModel_BAG_UPDATE",o}(e.BaseModel);e.PlayerModel=t,__reflect(t.prototype,"game.PlayerModel")}(game||(game={}));var game;!function(e){function t(e,t){var n=o(e);if(0==n)return void egret.error("传入了错误的消息名或Proto文件没有初始化");var i=t.finish(),a=new egret.ByteArray,r=new egret.ByteArray(i);a.endian=egret.Endian.LITTLE_ENDIAN,a.writeShort(r.length+4),a.writeShort(n),a.writeBytes(r),s.getInstance().onWriteBytes(a)}function o(e){return table.ProtoIdByName[e]?table.ProtoIdByName[e].Id:0}function n(t,o,n){void 0===n&&(n="GET");var i=e.defer(),a=new XMLHttpRequest,r="";if(o){var s=[];for(var l in o){var c=o[l];s.push(l+"="+encodeURIComponent(c))}r=s.join("&")}return"POST"===n?(a.open(n,t),a.setRequestHeader("Content-type","application/x-www-form-urlencoded")):(r&&(t=t+"?"+r),r=null,a.open(n,t)),a.onload=function(){var e=a.status>=400||!a.status&&!a.responseText;if(e){var t=a.statusText;0==a.status&&(t="timeout"),i.reject(new Error(t))}i.resolve(a.responseText)},a.send(r||null),i.promise()}function i(t,o){return void 0===o&&(o={}),__awaiter(this,void 0,void 0,function(){var i,a,r;return __generator(this,function(s){switch(s.label){case 0:return i=e.$neiNetIp,[4,n(i+t,o,"POST")];case 1:return a=s.sent(),r=JSON.parse(a),200!=r.code?(e.showTips(r.msg,!0),[2,null]):[2,r]}})})}function a(t,o){var n=e.defer(),i=new XMLHttpRequest;return i.open("POST",t),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onload=function(){var e=i.status>=400||!i.status&&!i.responseText;if(e){var t=i.statusText;0==i.status&&(t="timeout"),n.reject(new Error(t))}n.resolve(i.responseText)},i.send(o||null),n.promise()}function r(t,o){return void 0===o&&(o={}),__awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(r){switch(r.label){case 0:return[4,a(t,o)];case 1:return n=r.sent(),i=JSON.parse(n),0!=i.status?(e.showTips(i.msg,!0),[2,null]):[2,i]}})})}var s=function(){function t(){this.isConnect=!1}return t.prototype.init=function(){var t=this;this.socket=new egret.WebSocket,this.socket.type=egret.WebSocket.TYPE_BINARY,this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this),window.addEventListener("offline",function(){t.onConnectClose(),t.onSocketClose(),e.NetFailed.getInstance().show()})},t.prototype.onReceiveMessage=function(){var e=new egret.ByteArray;e.endian=egret.Endian.LITTLE_ENDIAN,this.socket.readBytes(e);var t=(e.readShort(),e.readShort()),o=new egret.ByteArray;e.readBytes(o),this.onNotifyMessage(t,o)},t.prototype.onNotifyMessage=function(t,o){var n=table.ProtoIdById[t],i=msg[n.Name.slice(4)].decode(o.bytes);e.NotificationCenter.postNotification(n.Name,i)},t.prototype.onSocketOpen=function(){this.isConnect=!0,e.NotificationCenter.postNotification(t.SOCKET_CONNECT_SUCCESS)},t.prototype.onSocketClose=function(){this.isConnect=!1,e.NotificationCenter.postNotification(t.SOCKET_CONNECT_CLOSE)},t.prototype.onSocketError=function(){e.NetFailed.getInstance().show()},t.prototype.onConnect=function(e,t){this.socket.connect(e,t)},t.prototype.onConnectByUrl=function(e){this.socket.connectByUrl(e)},t.prototype.onConnectClose=function(){this.isConnect&&this.socket.close()},t.prototype.onWriteBytes=function(e){this.socket.writeBytes(e)},t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t.SOCKET_CONNECT_SUCCESS="ClientNet_SOCKET_CONNECT_SUCCESS",t.SOCKET_CONNECT_CLOSE="ClientNet_SOCKET_CONNECT_CLOSE",t}();e.ClientNet=s,__reflect(s.prototype,"game.ClientNet"),e.sendMessage=t,e.findMsgId=o,e.ajax=n,e.SendHttp=i,e.ajaxJson=a,e.postHttpByJson=r}(game||(game={}));var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,o){function n(n){t.call(o,n,e)}if(RES.hasRes(e)){var i=RES.getRes(e);i?n(i):RES.getResAsync(e,n,this)}else RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._isShow=!1,e}return __extends(o,t),o.prototype.getSkinName=function(){return NetFailedSkin},o.prototype.show=function(t){void 0===t&&(t=null),this._isShow||(this._isShow=!0,this._touchEvent=[{target:this.reconnectButton,callBackFunc:this.reconnectHandle}],this.addEventAndNotify(),e.GameLayer.maskLayer.addChild(this)),this.reconnectButton.label="点击重新登录",this.reasonLabel.visible=!1,t&&(this.reasonLabel.visible=!0,this.reasonLabel.text="失败原因: "+t,e.showTips(t,!0))},o.prototype.reconnectHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.close(),e.SceneManager.changeScene(2),[2]})})},o.prototype.close=function(){this.removeEventAndNotify(),this.removeFromParent(),this._isShow=!1},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.GameComponent);e.NetFailed=t,__reflect(t.prototype,"game.NetFailed")}(game||(game={}));var p2DebugDraw=function(){function e(e,t){this.COLOR_D_SLEEP=10066329,this.COLOR_D_WAKE=15053490,this.COLOR_K=8355813,this.COLOR_S=8381823,this.COLOR_BLACK=0,this.COLOR_RED=16711680,this.isDrawAABB=!1,this.factor=30,this.world=e,this.sprite=t}return e.prototype.drawDebug=function(){this.sprite.graphics.clear();for(var e=this.world.bodies.length,t=0;e>t;t++)for(var o=this.world.bodies[t],n=0;n<o.shapes.length;n++){var i=o.shapes[n];this.drawShape(i,o),this.isDrawAABB&&this.drawAABB(o)}e=this.world.constraints.length;for(var a,n=0;e>n;n++)switch(a=this.world.constraints[n],a.type){case p2.Constraint.DISTANCE:this.drawDistanceJoint(a);break;case p2.Constraint.REVOLUTE:this.drawRevoluteJoint(a);break;case p2.Constraint.GEAR:this.drawGearJoint(a);break;case p2.Constraint.PRISMATIC:this.drawPrismaticJoint(a);break;case p2.Constraint.LOCK:this.drawLockJoint(a)}e=this.world.springs.length;for(var r,s=0;e>s;s++)r=this.world.springs[s],r instanceof p2.LinearSpring?this.drawLinearSpring(r):r instanceof p2.RotationalSpring&&this.drawRotationalSpring(r)},e.prototype.drawAABB=function(e){var t=new Array,o=e.aabb.lowerBound[0],n=e.aabb.lowerBound[1],i=e.aabb.upperBound[0],a=e.aabb.upperBound[1];isFinite(o)&&isFinite(n)&&isFinite(i)&&isFinite(a)&&(t.push([o,n],[i,n],[i,a],[o,a]),this.drawConvex(t,this.COLOR_S,1,!1))},e.prototype.drawDistanceJoint=function(e){var t,o=new Array,n=new Array;t=e.distance,e.upperLimitEnabled&&e.upperLimit>t&&(t=e.upperLimit),e.bodyA.toWorldFrame(o,e.localAnchorA),e.bodyB.toWorldFrame(n,e.localAnchorB);var i=p2.vec2.subtract([],n,o);p2.vec2.normalize(i,i),p2.vec2.scale(i,i,t);var a=p2.vec2.add([],o,i);this.drawSegment(o,e.bodyA.position,this.COLOR_S),this.drawSegment(n,e.bodyB.position,this.COLOR_S),this.drawVecAt(i,o,this.COLOR_BLACK),e.position>t&&this.drawSegment(n,a,this.COLOR_RED),this.drawCircle(o,3/this.factor,this.COLOR_BLACK),this.drawCircle(a,3/this.factor,this.COLOR_BLACK),e.lowerLimitEnabled&&(p2.vec2.normalize(i,i),p2.vec2.scale(i,i,e.lowerLimit),a=p2.vec2.add([],o,i),this.drawCircle(a,2/this.factor,this.COLOR_BLACK))},e.prototype.drawRevoluteJoint=function(e){var t=new Array,o=new Array;e.bodyA.toWorldFrame(t,e.pivotA),e.bodyB.toWorldFrame(o,e.pivotB),this.drawSegment(e.bodyA.position,t,this.COLOR_S),this.drawSegment(e.bodyB.position,o,this.COLOR_S),this.drawSegment(t,o,this.COLOR_RED),this.drawCircle(t,3/this.factor,this.COLOR_BLACK)},e.prototype.drawGearJoint=function(e){var t=e.bodyA.position,o=e.bodyB.position,n=new Array,i=new Array;e.bodyA.toWorldFrame(n,[20/this.factor,0]),e.bodyB.toWorldFrame(i,[20/this.factor,0]);var a=p2.vec2.subtract([],t,n),r=p2.vec2.subtract([],o,i);this.drawVecAt(a,t,this.COLOR_BLACK,!0),this.drawVecAt(r,o,this.COLOR_BLACK,!0),e.bodyB.toWorldFrame(r,[10*(e.bodyB.angle-e.bodyA.angle-e.angle)/this.factor,0]),this.drawSegment(r,o,this.COLOR_RED)},e.prototype.drawPrismaticJoint=function(e){var t=(e.bodyA.position,e.bodyB.position,new Array),o=new Array;e.bodyA.toWorldFrame(t,e.localAnchorA),e.bodyB.toWorldFrame(o,e.localAnchorB);var n=new Array;n=this.toWorldVector(e.localAxisA,e.bodyA);var i=p2.vec2.copy([],n),a=p2.vec2.copy([],n);e.lowerLimitEnabled?p2.vec2.scale(i,n,e.lowerLimit):p2.vec2.scale(i,n,5e3),e.upperLimitEnabled?p2.vec2.scale(a,n,e.upperLimit):p2.vec2.scale(a,n,5e3),this.drawVecAt(i,t,this.COLOR_BLACK,!0),this.drawVecAt(a,t,this.COLOR_BLACK,!0),p2.vec2.add(i,i,t),this.drawCircle(i,2/this.factor,this.COLOR_BLACK,1,!0),p2.vec2.add(a,a,t),this.drawCircle(a,2/this.factor,this.COLOR_BLACK,1,!0)},e.prototype.drawLockJoint=function(e){var t=new Array;new Array;e.bodyA.toWorldFrame(t,e.localOffsetB),this.drawSegment(t,e.bodyA.position,this.COLOR_S),this.drawSegment(t,e.bodyB.position,this.COLOR_RED),this.drawCircle(t,3/this.factor,this.COLOR_BLACK);var o=new Array;e.bodyA.toWorldFrame(o,[20/this.factor,0]),this.drawSegment(o,e.bodyA.position,this.COLOR_BLACK),e.bodyB.toWorldFrame(o,[20/this.factor,0]),this.drawSegment(o,e.bodyB.position,this.COLOR_BLACK)},e.prototype.drawLinearSpring=function(e){var t=new Array,o=new Array;e.bodyA.toWorldFrame(t,e.localAnchorA),e.bodyB.toWorldFrame(o,e.localAnchorB);var n=p2.vec2.subtract([],o,t);p2.vec2.normalize(n,n),p2.vec2.scale(n,n,e.restLength);var i=p2.vec2.add([],e.bodyA.position,n);this.drawSegment(i,e.bodyB.position,this.COLOR_RED),this.drawVecAt(n,t,this.COLOR_BLACK),this.drawCircle(t,3/this.factor,this.COLOR_RED),this.drawCircle(i,3/this.factor,this.COLOR_RED)},e.prototype.drawRotationalSpring=function(e){var t=new Array,o=new Array;t=e.bodyA.position,o=e.bodyB.position;var n=new Array,i=new Array;e.bodyA.toWorldFrame(n,[20/this.factor,0]),e.bodyB.toWorldFrame(i,[10*(e.bodyB.angle-e.bodyA.angle-e.restAngle+2)/this.factor,0]);var a=p2.vec2.subtract([],n,t),r=p2.vec2.subtract([],i,o);this.drawVecAt(a,t,this.COLOR_RED,!0),this.drawVecAt(r,o,this.COLOR_RED,!0),e.bodyB.toWorldFrame(i,[20/this.factor,0]),this.drawCircle(n,2/this.factor,this.COLOR_RED),this.drawCircle(i,2/this.factor,this.COLOR_RED)},e.prototype.drawShape=function(e,t,o,n){var o=void 0==o?this.getColor(t):o,n=void 0==n?!0:n;e instanceof p2.Convex?this.drawConvexShape(e,t,o,n):e instanceof p2.Plane||(e instanceof p2.Circle?this.drawCircleShape(e,t,o,n):e instanceof p2.Capsule?this.drawCapsule(e,t,o):e instanceof p2.Particle?this.drawParticle(e,t,o):e instanceof p2.Line?this.drawLine(e,t,o):e instanceof p2.Heightfield&&this.drawHeightfeild(e,t,o))},e.prototype.drawConvexShape=function(e,t,o,n){var i=(t.shapes.indexOf(e),e.position),a=e.angle,r=[],s=this.transformVec(e.vertices[0],i,a);t.toWorldFrame(r,i),t.toWorldFrame(s,s),this.drawSegment(r,s,o);for(var l=new Array,c=e.vertices.length,h=0;c>h;h++)s=this.transformVec(e.vertices[h],i,a),t.toWorldFrame(s,s),l.push(s);this.drawConvex(l,o,.5,n)},e.prototype.drawParticle=function(e,t,o){this.drawCircle(t.position,1/this.factor,o,.5),this.drawCircle(t.position,5/this.factor,o,1,!1)},e.prototype.drawLine=function(e,t,o){var n=e.length,i=new Array,a=new Array;t.toWorldFrame(i,[-n/2,0]),t.toWorldFrame(a,[n/2,0]),this.drawSegment(i,a,o)},e.prototype.drawHeightfeild=function(e,t,o){var n=this.sprite.graphics;n.lineStyle(1,o),n.beginFill(o,.5);var i,a=e.heights,r=e.elementWidth,s=new Array,l=new Array;a.forEach(function(e,o){i=o*r,s=new Array,t.toWorldFrame(s,[i,e]),l.push(s)}),s=new Array,t.toWorldFrame(s,[i,-500]),l.push(s),s=new Array,t.toWorldFrame(s,[0,-500]),l.push(s),s=new Array,t.toWorldFrame(s,[0,0]),l.push(s),this.drawConvex(l,o,.5)},e.prototype.drawCapsule=function(e,t,o){var n=e.length,i=e.radius,a=new Array,r=new Array,s=new Array,l=new Array,c=new Array,h=new Array;t.toWorldFrame(a,[-n/2,-i]),t.toWorldFrame(r,[n/2,-i]),t.toWorldFrame(s,[n/2,i]),t.toWorldFrame(l,[-n/2,i]),t.toWorldFrame(c,[n/2,0]),t.toWorldFrame(h,[-n/2,0]),this.drawCircle(c,i,o,.5),this.drawCircle(h,i,o,.5),this.drawConvex([a,r,s,l],o,.5)},e.prototype.drawCircleShape=function(e,t,o,n){var i=e.position,a=e.angle,r=new Array;t.toWorldFrame(r,i),this.drawCircle(r,e.radius,o,.5,n);var s=this.transformVec([e.radius,0],i,a);t.toWorldFrame(s,s),this.drawSegment(r,s,o)},e.prototype.drawPlaneShape=function(e,t,o,n){var i=new Array,a=new Array;t.shapes.indexOf(e);t.toWorldFrame(i,[1e3,0]),i=this.transformVec(i,e.position,e.angle),a.push(i),i=new Array,t.toWorldFrame(i,[1e3,-1e5]),i=this.transformVec(i,e.position,e.angle),a.push(i),i=new Array,t.toWorldFrame(i,[-1e3,-1e5]),i=this.transformVec(i,e.position,e.angle),a.push(i),i=new Array,t.toWorldFrame(i,[-1e3,0]),i=this.transformVec(i,e.position,e.angle),a.push(i),this.drawConvex(a,o,.5,n)},e.prototype.getColor=function(e){var t=this.COLOR_D_SLEEP;return e.type==p2.Body.KINEMATIC?t=this.COLOR_K:e.type==p2.Body.STATIC?t=this.COLOR_S:e.sleepState==p2.Body.AWAKE&&(t=this.COLOR_D_WAKE),t},e.prototype.drawVecAt=function(e,t,o,n){void 0===n&&(n=!1);var i=p2.vec2.copy([],t),a=p2.vec2.add([],e,t);n&&this.drawCircle(i,3/this.factor,o),this.drawSegment(i,a,o)},e.prototype.drawVecTo=function(e,t,o,n){void 0===n&&(n=!1);var i=p2.vec2.copy([],t),a=p2.vec2.subtract([],t,e);n&&this.drawCircle(i,3/this.factor,o),this.drawSegment(i,a,o)},e.prototype.drawSegment=function(e,t,o){this.sprite.graphics.lineStyle(1,o),this.sprite.graphics.moveTo(e[0]*this.factor,e[1]*this.factor),this.sprite.graphics.lineTo(t[0]*this.factor,t[1]*this.factor)},e.prototype.drawCircle=function(e,t,o,n,i){void 0===n&&(n=1),this.sprite.graphics.lineStyle(1,o),(i||void 0==i)&&this.sprite.graphics.beginFill(o,n),this.sprite.graphics.drawCircle(e[0]*this.factor,e[1]*this.factor,t*this.factor),this.sprite.graphics.endFill()},e.prototype.drawConvex=function(e,t,o,n){void 0===o&&(o=1),void 0===n&&(n=!0),this.sprite.graphics.lineStyle(1,t),n&&this.sprite.graphics.beginFill(t,o);var i=e.length,a=e[0];this.sprite.graphics.moveTo(a[0]*this.factor,a[1]*this.factor);for(var r=1;i>=r;r++)a=e[r%i],this.sprite.graphics.lineTo(a[0]*this.factor,a[1]*this.factor);this.sprite.graphics.endFill()},e.prototype.toWorldVector=function(e,t){var o=new Array;return p2.vec2.rotate(o,e,t.angle),o},e.prototype.transformVec=function(e,t,o){var n=new Array;return p2.vec2.rotate(n,e,o),p2.vec2.add(n,n,t),n},e.prototype.drawDotLine=function(e,t,o,n){if(void 0===t&&(t=0),void 0===o&&(o=!1),void 0===n&&(n=30),!(e.length<2)){var i=2/this.factor,a=[];p2.vec2.copy(a,e[0]),this.drawCircle(a,i,t,1,!1);for(var r=0;r<e.length-2;r++){var s=e[r];if(o)for(var l=p2.vec2.distance(a,s);l>n/this.factor;){var c=[];p2.vec2.subtract(c,s,a),p2.vec2.scale(c,c,n/this.factor/l),p2.vec2.add(a,a,c),this.drawCircle(a,i,t,1,!1),l=p2.vec2.distance(a,s)}else this.drawCircle(s,i,t,1,!1)}}},e}();__reflect(p2DebugDraw.prototype,"p2DebugDraw");var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.getSkinName=function(){return BattleBagSkin},o.prototype.init=function(){this.closeButton.icon="lucky_json.luckycloseBtn",this.luckyButton.icon="lucky_json.luckyBtn",this.deliveryButton.icon="ui_json.deliveryBtn",this.historyMoneyButton.icon="ui_json.historyMoneyBtn",this._listProvider=new eui.ArrayCollection,this.bagList.dataProvider=this._listProvider,this.bagList.itemRenderer=e.BattleBagItem},o.prototype.beforeShow=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.luckyButton,callBackFunc:this.luckyHandle},{target:this.deliveryButton,callBackFunc:this.deliveryHandle},{target:this.historyMoneyButton,callBackFunc:this.historyHandle}],this.registerEvent(),this.updateList()},o.prototype.beforeRemove=function(){this.removeEvent()},o.prototype.registerEvent=function(){e.NotificationCenter.addObserver(this,this.updateList,e.PlayerModel.BAG_UPDATE)},o.prototype.removeEvent=function(){e.NotificationCenter.removeObserver(this,e.PlayerModel.BAG_UPDATE)},o.prototype.updateList=function(){this._listProvider.removeAll();for(var t=0,o=e.DataManager.playerModel.getBag();t<o.length;t++){var n=o[t];this._listProvider.addItem(n)}this.bagScr.viewport.scrollV=0,this.nogiftTips.visible=0==e.DataManager.playerModel.getBag().length},o.prototype.closeHandle=function(){this.remove()},o.prototype.luckyHandle=function(){this.closeHandle(),e.openPanel(3)},o.prototype.deliveryHandle=function(){this.closeHandle(),e.openPanel(8)},o.prototype.historyHandle=function(){this.closeHandle(),e.openPanel(7)},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.PanelComponent);e.BattleBag=t,__reflect(t.prototype,"game.BattleBag")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=t.call(this)||this;return e.skinName=BattleBagItemSkin,e.getButton.icon="lucky_json.bagget",e.getButton.addEventListener(egret.TouchEvent.TOUCH_TAP,e.getHandle,e),e.itemImg.mask=e.itemMask,e}return __extends(o,t),o.prototype.getHandle=function(){var t=[{itemid:this.data.id,num:this.data.num}];e.sendMessage("msg.C2GW_ReqDeliveryGoods",msg.C2GW_ReqDeliveryGoods.encode({list:t,token:""}))},o.prototype.dataChanged=function(){var t=table.ItemBaseDataById[this.data.id];return t?(this.itemImg.source=e.getItemIconSource(t.Id),this.itemName.text=t.Name,this.itemDesc.text=t.Desc,6003==t.Id?this.itemMoney.text="":this.itemMoney.text="价值："+t.Sold+"元",void(this.itemNum.text="X"+this.data.num)):(egret.log(this.data.id+"找不到道具!"),void(this.visible=!1))},o}(eui.ItemRenderer);e.BattleBagItem=t,__reflect(t.prototype,"game.BattleBagItem")}(game||(game={}));var game;!function(e){var t=gameConfig.ballCollisionGroup,o=gameConfig.wallCollisionGroup,n=gameConfig.paddleCollisionGroup,i=gameConfig.brickCollisionGroup,a=function(a){function r(){var e=null!==a&&a.apply(this,arguments)||this;return e.meetFire=!1,e}return __extends(r,a),r.prototype.init=function(){this.body=new p2.Body,this._shape=new p2.Circle,this.body.displays=[this],this.body.type=p2.Body.DYNAMIC,this.body.damping=0,this.body.mass=1,this.battleBodyType=1,this._shape.radius=16/gameConfig.factor,this._shape.material=e.BattleScene.getInstance().ballMaterial,this._shape.collisionGroup=t,this._shape.collisionMask=o|n|i,this.body.addShape(this._shape)},r.prototype.setData=function(e,t,o){this.meetFire=!1,this.isPenetration=o,this._hitCount=0,this.ballId=e,this._ballData=table.TBallById[e],o?this.ballImage.source="ball_json.3":this.ballImage.source="ball_json."+e,1==e?(this.width=this.height=28,this.anchorOffsetX=this.anchorOffsetY=this.width/2):(this.width=this.height=34,this.anchorOffsetX=this.anchorOffsetY=this.width/2),o&&this.playRotation()},r.prototype.playRotation=function(){egret.Tween.get(this.ballImage,{loop:!0}).to({rotation:360},1e3)},r.prototype.resetPosition=function(e){this.x=e[0],this.y=e[1],this.body.position=[this.x/gameConfig.factor,this.y/gameConfig.factor]},r.prototype.setBaseBall=function(t){this.x=t.x,this.y=t.y-34.5,this.body.position=[this.x/gameConfig.factor,this.y/gameConfig.factor];var o,n;Math.random(),Math.random(),Math.random();var i=Math.random();o=.5>i?5*Math.random()+5:5*-Math.random()+5,n=t.body.velocity[1]>0?e.testSpeed:-e.testSpeed,this.body.velocity=[o,n]},r.prototype.updateView=function(){this.lastVelocity=[this.body.velocity[0],this.body.velocity[1]],this.lastPosition=[this.body.position[0],this.body.position[1]],this.x=this.body.position[0]*gameConfig.factor,this.y=this.body.position[1]*gameConfig.factor},r.prototype.getSkinName=function(){return BattleBallSkin},r.prototype.onDestroy=function(){egret.Tween.removeTweens(this.ballImage),this.body.world&&this.body.world.removeBody(this.body),this.removeFromParent(),this._hitCount=0,this.meetFire=!1,this.y=800},r.prototype.getDamage=function(){var e=0;return this._ballData&&(e=this._ballData.Atk),e},r.prototype.getPrice=function(){var e=0;return this._ballData&&(e=this._ballData.Price),e},r.prototype.addHitCount=function(){this._hitCount++,this.body.velocity[1]<=0&&this.body.velocity[1]>-10?this.body.velocity[1]=-15:this.body.velocity[1]>0&&this.body.velocity[1]<10&&(this.body.velocity[1]=15)},r.prototype.resetV=function(){this.body.velocity=[this.lastVelocity[0],this.lastVelocity[1]],this.body.position=[this.lastPosition[0],this.lastPosition[1]],this.x=this.body.position[0]*gameConfig.factor,this.y=this.body.position[1]*gameConfig.factor},r}(e.BattleBody);e.BattleBall=a,__reflect(a.prototype,"game.BattleBall")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentIndex=0,e.checkBall=[],e}return __extends(o,t),o.prototype.onCreate=function(){this._currentIndex=0,this.playAnim()},o.prototype.playAnim=function(){var e=this;this.holeImage.source="cube_json.blackHole_0000"+this._currentIndex,this._playInterval=egret.setInterval(function(){e._currentIndex++,e._currentIndex>7&&(e._currentIndex=0),e.holeImage.source="cube_json.blackHole_0000"+e._currentIndex},this,100)},o.prototype.onDestroy=function(){this._playInterval&&(egret.clearInterval(this._playInterval),this._playInterval=null),this.linkHole=null,this.removeFromParent()},o.prototype.setLink=function(e){this.linkHole=e},o.prototype.checkMeet=function(t,o){return e.checkPointAtRect(t,o,this.x,this.y,this.width,this.height)},o.prototype.meetBall=function(e,t){var o={checkTime:t,ball:e};this.checkBall.push(o),this.linkHole.checkBall.push(o),e.x=this.linkHole.x+36,e.y=this.linkHole.y+18,e.body.position=[e.x/gameConfig.factor,e.y/gameConfig.factor]},o.prototype.getSkinName=function(){return BattleBlackHoleSkin},o.prototype.isCheck=function(e,t){for(var o=!1,n=this.checkBall.length-1;n>=0;n--){var i=this.checkBall[n];if(i.ball==e){if(t-i.checkTime<=2e3){o=!0;break}this.checkBall.splice(n,1)}}return o},o}(e.GameComponent);e.BattleBlackHole=t,__reflect(t.prototype,"game.BattleBlackHole",["game.PoolItem"])}(game||(game={}));var game;!function(e){e.gameFrame=1/60,e.wxCode="",e.wxState="",e._buyLucky=2e3,e._maxSp=250,e._paddlePrice=20,e._maxEvent=300,e._eventAddMin=100,e._spaceFire=5e3,e._boomUseScore=500,e._goldSharkCrush=.01,e._eventDifferent=.5,e._goodBuffPro=[.8,.2,0,0,0],e._badBuffPro=[.35,.35,.15,.1,.05],e._breakBadBuffMax=10,e._breakBadBuffAdd=[100,200,500,1e3,2e3,3e3],e._breakBadBuffAddPro=[.4,.3,.2,.05,.03,.02],e._eventCdByMoney=[0,1e4,2e4],e._timeBoomTime=[40,30,20],e._blackHoleTime=[60,45,30],e._fireWallTime=[60,45,30],e._iceTime=[45,35,25]}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentIndex=0,e}return __extends(o,t),o.prototype.onCreate=function(){},o.prototype.onDestroy=function(){this._playInterval&&(egret.clearInterval(this._playInterval),this._playInterval=null),this.removeFromParent()},o.prototype.getSkinName=function(){return BattleBoomSkin},o.prototype.play=function(){var t=this,o=e.defer();return this._currentIndex=0,this.boomImage.scaleX=this.boomImage.scaleY=1.5,this.boomImage.source="cube_json.boom_0000"+this._currentIndex,this._playInterval=egret.setInterval(function(){return t._currentIndex++,t._currentIndex>7?void o.resolve(null):void(t.boomImage.source="cube_json.boom_0000"+t._currentIndex)},this,80),o.promise()},o.prototype.playBall=function(){var t=this,o=e.defer();return this._currentIndex=0,this.boomImage.scaleX=this.boomImage.scaleY=1,this.boomImage.source="ball_json.break_0000"+this._currentIndex,this._playInterval=egret.setInterval(function(){return t._currentIndex++,t._currentIndex>7?void o.resolve(null):void(t.boomImage.source="ball_json.break_0000"+t._currentIndex)},this,80),o.promise()},o}(e.GameComponent);e.BattleBoom=t,__reflect(t.prototype,"game.BattleBoom",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=gameConfig.brickCollisionGroup,o=gameConfig.ballCollisionGroup,n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return __extends(i,n),i.prototype.init=function(){this.body=new p2.Body,this.body.displays=[this],this.body.type=p2.Body.STATIC,this.battleBodyType=3},i.prototype.getSkinName=function(){return BattleBrickSkin},i.prototype.setData=function(n,i,a,r,s){switch(this.frozenBrick=null,this._frozen=!1,this.leftFirewall=[],this.rightFirewall=[],this.direction=a,this.brickImage.scaleX=this.crackImage.scaleX=0==a||4!=s?1:-1,this.brickInfo=n,this._brickInfoData=r,this.buffType=s,this.canMove=!0,this.buffType){case 3:case 5:case 6:case 7:this.canMove=!1}var l=e.splitStringToNumberArray(this._brickInfoData.Info,";","-"),c=l[Math.floor(Math.random()*l.length)];this._maxHp=c[0],this._31Hp=this._maxHp/3,this._32Hp=2*this._31Hp,this._brickData=table.TBirckById[this._brickInfoData.Brickid],this.width=this._brickData.Wide,this.height=this._brickData.High,this._shape=new p2.Capsule,this._shape.length=36/gameConfig.factor,this._shape.radius=18/gameConfig.factor,this._shape.material=i,this._shape.collisionGroup=t,this._shape.collisionMask=o,this.body.addShape(this._shape),this.breakScore=c[1],this._score=c[2],this.grade=c[3],this.hp=c[0];var h=this.brickInfo.column*gameConfig.perBrickSize,u=this.brickInfo.row*gameConfig.perBrickSize;switch(this.x=h,this.y=u,this.resetPosition(),this.initCountDown(),this.blackHoleList=[],this.buffType){case 5:case 6:case 7:this.runBuff()}},i.prototype.initCountDown=function(){switch(this.needCountdown=!1,this.countdownLabel.visible=!1,this.countdownLabel.x=0,this.countdownLabel.horizontalCenter=0,this.buffType){case 3:case 5:case 6:case 7:this.needCountdown=!0,this.countdownLabel.visible=!0,this._buffCountdown=this.getBuffTime(),this.countdownLabel.text=e.s2ms(this._buffCountdown/60)}5==this.buffType?(this.countdownLabel.x=-2,this.countdownLabel.textColor=gameConfig.TextColors.red):7==this.buffType?(this.countdownLabel.x=1,this.countdownLabel.horizontalCenter=1,this.countdownLabel.textColor=gameConfig.TextColors.white):3==this.buffType?(this.countdownLabel.x=-1,this.countdownLabel.horizontalCenter=-1,this.countdownLabel.textColor=16187136):6==this.buffType?this.countdownLabel.textColor=5242676:this.countdownLabel.textColor=16711680},i.prototype.minusCountdown=function(){switch(this._buffCountdown--,this._buffCountdown<0&&(this._buffCountdown=this.getBuffTime(),this.runBuff()),this.buffType){case 3:if("alarm"==this.countdownLabel.text)return;this.countdownLabel.text=e.s2ms(this._buffCountdown/60);break;case 5:this.countdownLabel.text=e.s2s(this._buffCountdown/60);break;case 6:this.countdownLabel.text=e.s2s(this._buffCountdown/60);break;case 7:this.countdownLabel.text=e.s2s(this._buffCountdown/60)}},i.prototype.runBuff=function(){switch(this.buffType){case 3:this.needCountdown=!1,e.BattleScene.getInstance().showTimeBoom(this);break;case 5:e.SoundManager.playEffect("heidong",.5),e.BattleScene.getInstance().addBlackHole(this);break;case 6:e.BattleScene.getInstance().addFire(this);break;case 7:e.SoundManager.playEffect("bingqiang",.5),e.BattleScene.getInstance().addIce(this)}},i.prototype.getBuffTime=function(){var t=0;switch(this.buffType){case 3:t=60*e._timeBoomTime[e.BattleScene.getInstance().getCurScoreTimeSp()];break;case 5:t=60*e._blackHoleTime[e.BattleScene.getInstance().getCurScoreTimeSp()];break;case 6:t=60*e._fireWallTime[e.BattleScene.getInstance().getCurScoreTimeSp()];break;case 7:t=60*e._iceTime[e.BattleScene.getInstance().getCurScoreTimeSp()]}return t},i.prototype.resetPosition=function(){var e=(this.x+this.width/2)/gameConfig.factor,t=(this.y+this.height/2)/gameConfig.factor;this.body.position=[e,t]},Object.defineProperty(i.prototype,"breakScore",{set:function(e){this._breakScore=e},enumerable:!0,configurable:!0}),i.prototype.getGrade=function(){return this._grade},i.prototype.getBrickId=function(){return this._brickData.Id},i.prototype.getBuffType=function(){return this.buffType},Object.defineProperty(i.prototype,"grade",{set:function(e){var t=this;if(this.speed=.6,1==this.buffType){switch(e){case 1:this.brickColor="白色",this.brickColorNumber=gameConfig.TextColors.white;break;case 2:this.brickColor="绿色",this.brickColorNumber=gameConfig.TextColors.green;break;case 3:this.brickColor="蓝色",this.brickColorNumber=gameConfig.TextColors.blue;break;case 4:this.brickColor="紫色",this.brickColorNumber=gameConfig.TextColors.purple;break;case 5:this.brickColor="橙色",this.brickColorNumber=gameConfig.TextColors.orangeYellow}this.brickImage.source="cube_json."+this._brickData.Id+"_"+e}else if(9==this.buffType){this.brickImage.source="cube_json.goldShark_00001";var o=0;this._playInterval=egret.setInterval(function(){o++,o>5&&(o=0),t.brickImage.source="cube_json.goldShark_0000"+o},this,200)}else this.brickImage.source="cube_json."+this.buffType;this._grade=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hp",{set:function(t){this._hp=t,this._hp>this._32Hp?this.crackImage.visible=!1:this._hp>this._31Hp?(this.crackImage.visible=!0,this.crackImage.source="cube_json.crack1"):this._hp>0?(this.crackImage.visible=!0,this.crackImage.source="cube_json.crack2"):0==this._hp&&(this.crackImage.visible=!0,this.crackImage.source="cube_json.crack3"),0>t&&e.BattleScene.getInstance().destroyBrick(this)},enumerable:!0,configurable:!0}),i.prototype.hitBySp=function(){this._frozen||this._hp>0&&(this.hp=0)},i.prototype.onDestroy=function(){if(this.body.world&&this.body.world.removeBody(this.body),this.body.shapes.length>0)for(var e=0,t=this.body.shapes;e<t.length;e++){var o=t[e];this.body.removeShape(o)}this._playInterval&&(egret.clearInterval(this._playInterval),this._playInterval=null),this.removeFromParent()},i.prototype.hitByBall=function(t,o,n){var i=this;void 0===n&&(n=!1);var a=o;if(this._hitTime!=a)if(this._frozen||e.BattleScene.getInstance().addHit(this),this.shakeAnim.play(0),this._hitTime=a,n)this.hp=-1;else{if(this._frozen)return;if(6!=this._grade){var r=t.getDamage(),s=this._hp-r;this.hp=s}else if(t.isPenetration){var l=new eui.Image;l.x=this.brickImage.x-23,l.y=this.brickImage.y-18,this.addChild(l);var c=0,h=egret.setInterval(function(){return c++,c>6?(i.removeChild(l),egret.clearInterval(h),void(h=null)):void(l.source="cube_json.sharkPop_0000"+c)},this,150)}else Math.random()<=e._goldSharkCrush&&(this.hp=-1)}},i.prototype.getRewardBall=function(){return this._brickInfoData.Bullet},i.prototype.getBreakScore=function(){return this._breakScore},i.prototype.getScore=function(){return this._score
},i.prototype.frozen=function(e){0!=this.brickInfo.row&&(this.frozenBrick=e,this._frozen=!0,this.crackImage.visible=!0,this.crackImage.source="cube_json.frozen")},i.prototype.unFrozen=function(){this.frozenBrick=null,this._frozen=!1,this.hp=this._hp},i.prototype.isGoldShark=function(){return 9==this.buffType},i.prototype.isBadBuff=function(){return 2==this._brickInfoData.kind},i}(e.BattleBody);e.BattleBrick=n,__reflect(n.prototype,"game.BattleBrick")}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.onCreate=function(){},o.prototype.onDestroy=function(){this._timeout&&(egret.clearTimeout(this._timeout),this._timeout=null),this._particle.stop(!0),this.removeFromParent()},o.prototype.getSkinName=function(){return BattleBrickBreakSkin},o.prototype.setData=function(e){var t=e.getGrade(),o=RES.getRes("cube_json.break_"+t);if(!this._particle){var n=RES.getRes("posui");this._particle=new particle.GravityParticleSystem(o,n),this.breakGroup.addChild(this._particle)}this._particle.changeTexture(o),this.x=e.x,this.y=e.y},o.prototype.setBall=function(e){var t=RES.getRes("cube_json.break_1");if(!this._particle){var o=RES.getRes("posui");this._particle=new particle.GravityParticleSystem(t,o),this.breakGroup.addChild(this._particle)}this._particle.changeTexture(t),this.x=e.x,this.y=e.y},o.prototype.play=function(){var t=this,o=e.defer();return this._particle.x=0,this._particle.y=0,this._particle.start(500),this._timeout=egret.setTimeout(function(){o.resolve(!0),t._timeout=null},this,2e3),o.promise()},o}(e.GameComponent);e.BattleBrickBreak=t,__reflect(t.prototype,"game.BattleBrickBreak",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getSkinName=function(){return BattleBrickInfoSkin},t.prototype.setData=function(e,t,o){this.brickImage.source="cube_json."+e+"_"+t[3],this.priceLabel.textFlow=[{text:""+o,style:{fontFamily:"DynoBold"}}]},t}(e.GameComponent);e.BattleBrickInfo=t,__reflect(t.prototype,"game.BattleBrickInfo")}(game||(game={}));var game;!function(e){var t=gameConfig.buffCollisionGroup,o=gameConfig.paddleCollisionGroup,n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return __extends(n,e),n.prototype.init=function(){this.body=new p2.Body,this.body.displays=[this],this.body.type=p2.Body.DYNAMIC,this.battleBodyType=5},n.prototype.getSkinName=function(){return BattleBuffSkin},n.prototype.setData=function(e,n,i,a){this.buffImage.source="buff/"+e.Id,this.buffId=e.Id,this._buffData=e,3==e.Id?(this.width=76,this.height=60,this.goldLabel.visible=!0,this.goldLabel.text="1"):(this.width=this.height=38,this.goldLabel.visible=!1),this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2,this._shape=new p2.Box({width:this.width/gameConfig.factor,height:this.height/gameConfig.factor}),this.x=n,this.y=i;var r=n/gameConfig.factor,s=i/gameConfig.factor;this.body.position=[r,s],this._shape.collisionGroup=t,this._shape.collisionMask=o,this._shape.material=a,this.body.addShape(this._shape)},n.prototype.updateView=function(){this.x=this.body.position[0]*gameConfig.factor,this.y=this.body.position[1]*gameConfig.factor},n.prototype.onDestroy=function(){if(this.body.world&&this.body.world.removeBody(this.body),this.body.shapes.length>0)for(var e=0,t=this.body.shapes;e<t.length;e++){var o=t[e];this.body.removeShape(o)}this.removeFromParent()},n}(e.BattleBody);e.BattleBuff=n,__reflect(n.prototype,"game.BattleBuff")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onCreate=function(){var e=RES.getRes("huoqiangloop_mp3");e.type=egret.Sound.EFFECT;var t=e.play(0,-1);t.volume=.2,this.channel=t,this.touchEnabled=this.touchChildren=!1},t.prototype.onDestroy=function(){this.channel.stop(),this.removeFromParent()},t.prototype.getSkinName=function(){return BattleFirewallSkin},t.prototype.setData=function(e){this.wallIndex=e},t}(e.GameComponent);e.BattleFirewall=t,__reflect(t.prototype,"game.BattleFirewall",["game.PoolItem"])}(game||(game={}));var game;!function(e){function t(t,o){var a,r,s=[{r:50,c:12},{r:150,c:12},{r:300,c:12},{r:1200,c:12}],l=t/2,c=o/2;i.push([l,c]);for(var h=0,u=s;h<u.length;h++)for(var d=u[h],p=d.r,m=d.c,g=.25*p,f=0;m>f;f++)a=Math.cos(f/m*n)*p+l+e.randomRange(-g,g),r=Math.sin(f/m*n)*p+c+e.randomRange(-g,g),i.push([a,r]);for(var y=0,_=i;y<_.length;y++){var v=_[y];v[0]=e.clamp(v[0],0,t),v[1]=e.clamp(v[1],0,o)}return i.forEach(function(n){n[0]=e.clamp(n[0],0,t),n[1]=e.clamp(n[1],0,o)}),Delaunay.triangulate(i)}function o(e,t){for(var o,n,r,s,l=[],c=0;c<e.length;c+=3)o=i[e[c+0]],n=i[e[c+1]],r=i[e[c+2]],s=new a(o,n,r,t),l.push(s);return l}var n=2*Math.PI,i=[];e.triangulate=t,e.shatter=o;var a=function(){function e(e,t,o,n){this.v0=e,this.v1=t,this.v2=o,this.baseImage=n,this.computeBoundingBox(),this.computeCentroid(),this.createCanvas(),this.clip()}return e.prototype.createCanvas=function(){this.renderTexture=new egret.RenderTexture},e.prototype.clip=function(){var e=new egret.Shape;e.graphics.beginFill(16711680,1),e.graphics.moveTo(this.v0[0],this.v0[1]),e.graphics.lineTo(this.v1[0],this.v1[1]),e.graphics.lineTo(this.v2[0],this.v2[1]),e.graphics.endFill(),this.renderTexture=new egret.RenderTexture,this.renderTexture.drawToTexture(this.baseImage),this.bitmap=new egret.Bitmap(this.renderTexture),this.bitmap.mask=e},e.prototype.computeBoundingBox=function(){var e=Math.min(this.v0[0],this.v1[0],this.v2[0]),t=Math.max(this.v0[0],this.v1[0],this.v2[0]),o=Math.min(this.v0[1],this.v1[1],this.v2[1]),n=Math.max(this.v0[1],this.v1[1],this.v2[1]);this.box={x:e,y:o,w:t-e,h:n-o}},e.prototype.computeCentroid=function(){var e=(this.v0[0]+this.v1[0]+this.v2[0])/3,t=(this.v0[1]+this.v1[1]+this.v2[1])/3;this.centroid=[e,t]},e}();e.GameFragment=a,__reflect(a.prototype,"game.GameFragment")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentIndex=0,e}return __extends(o,t),o.prototype.onCreate=function(){this.touchChildren=this.touchEnabled=!1},o.prototype.onDestroy=function(){this._playInterval&&(egret.clearInterval(this._playInterval),this._playInterval=null),this.removeFromParent()},o.prototype.getSkinName=function(){return BattleIceSkin},o.prototype.play=function(){var t=this,o=e.defer();return this._currentIndex=0,this.boomImage.source="cube_json.blueBoom_0000"+this._currentIndex,this._playInterval=egret.setInterval(function(){return t._currentIndex++,t._currentIndex>5?void o.resolve(null):void(t.boomImage.source="cube_json.blueBoom_0000"+t._currentIndex)},this,80),o.promise()},o}(e.GameComponent);e.BattleIce=t,__reflect(t.prototype,"game.BattleIce",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.getSkinName=function(){return BattleLuckySkin},o.prototype.init=function(){this.closeButton.icon="lucky_json.luckycloseBtn",this.startButton.icon="lucky_json.luckyBtn",this.bagButton.icon="lucky_json.bagBtn",this.initGift()},o.prototype.beforeShow=function(){this._isStart=!1,this._lightIndex=0,this._giftIndex=0,this.luckyLight.x=this.gift_1.x,this.luckyLight.y=this.gift_1.y,this._touchEvent=[{target:this.closeButton,callBackFunc:this.backHandle},{target:this.startButton,callBackFunc:this.startLuckyHandle},{target:this.bagButton,callBackFunc:this.bagHandle}],this.registerEvent()},o.prototype.beforeRemove=function(){this._playInterval&&(egret.clearInterval(this._playInterval),this._playInterval=null),this.removeEvent()},o.prototype.registerEvent=function(){e.NotificationCenter.addObserver(this,this.OnGW2C_LuckyDrawHit,"msg.GW2C_LuckyDrawHit")},o.prototype.removeEvent=function(){e.NotificationCenter.removeObserver(this,"msg.GW2C_LuckyDrawHit")},o.prototype.initGift=function(){this._giftPro=[];for(var e=0;e<table.TBallGift.length;e++){var t=table.TBallGift[e];this["gift_"+(e+1)].setItem(t.Path,t.Name),this._giftPro.push(t.Pro/1e4)}},o.prototype.backHandle=function(){this.remove()},o.prototype.OnGW2C_LuckyDrawHit=function(e){this.showStartLucky(e.id)},o.prototype.startLuckyHandle=function(){this._isStart||(e.DataManager.playerModel.getScore()>=e._buyLucky?e.sendMessage("msg.C2GW_StartLuckyDraw",msg.C2GW_StartLuckyDraw.encode({userid:e.DataManager.playerModel.getUserId()})):e.showTips("需要消耗"+e._buyLucky+"金币抽奖一次"))},o.prototype.showStartLucky=function(t){var o=this._giftIndex;this._giftIndex=t;var n=this._giftIndex+this._giftPro.length*(Math.floor(2*Math.random())+2)+(this._giftPro.length-o),i=0,a=200,r=function(){return i>n-10?a+=20:(a-=10*i,30>a&&(a=30)),a}.bind(this),s=function(){var e=this;this._isStart=!0,this._playInterval=egret.setInterval(function(){i++,i>n?l():(e._lightIndex++,e._lightIndex>e._giftPro.length&&(e._lightIndex=1),e.luckyLight.x=e["gift_"+e._lightIndex].x,e.luckyLight.y=e["gift_"+e._lightIndex].y),e._playInterval&&(egret.clearInterval(e._playInterval),e._isStart&&s())},this,r())}.bind(this),l=function(){this._isStart=!1;var t=table.TBallGiftById[this._giftIndex];t&&e.showTips("恭喜您获得: "+t.Name)}.bind(this);s()},o.prototype.bagHandle=function(){return this._isStart?void e.showTips("抽奖中,请稍后再试.."):(this.backHandle(),void e.openPanel(4))},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.PanelComponent);e.BattleLucky=t,__reflect(t.prototype,"game.BattleLucky")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentIndex=0,e._isWuxian=!1,e._spCurrentIndex=0,e.onChange=!1,e}return __extends(o,t),o.prototype.init=function(){this.boomImage.visible=!1,this.battleBodyType=2,this.waveImage.mask=this.waveMask},o.prototype.setData=function(e){var t=this;this.width=197,this.height=251,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2+27.5,this._currentWave=0,this._waveInterval=egret.setInterval(function(){t.playWave()},this,160),this.waveImage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchWave,this)},o.prototype.touchWave=function(){e.BattleScene.getInstance().useSp()},o.prototype.playWave=function(){this.waveImage.source="paddle_json.wave_0000"+this._currentWave,this._currentWave++,this._currentWave>9&&(this._currentWave=0)},o.prototype.resetPosition=function(e){this.x=gameConfig.curWidth()/2,this.y=gameConfig.curHeight()-200-e},o.prototype.setImageRotation=function(e){this.paddleGroup.rotation=e},o.prototype.getSkinName=function(){return BattlePaddleSkin},o.prototype.onDestroy=function(){this.stopSpAnim(),this.waveImage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchWave,this),egret.clearInterval(this._waveInterval),this._playInterval&&(egret.clearInterval(this._playInterval),this._playInterval=null),this.boomImage.visible=!1,this.removeFromParent()},o.prototype.setPrice=function(e){},o.prototype.playShot=function(){this.onChange||this.shotAnim.play(0)},o.prototype.playBoom=function(){var e=this;this.boomImage.visible=!0,this._currentIndex=0,this.boomImage.source="cube_json.redBoom_0000"+this._currentIndex,this._playInterval=egret.setInterval(function(){return e._currentIndex++,e._currentIndex>7?(e.boomImage.visible=!1,egret.clearInterval(e._playInterval),void(e._playInterval=null)):void(e.boomImage.source="cube_json.redBoom_0000"+e._currentIndex)},this,80)},o.prototype.setSp=function(e){if(0>e)this.spLabel.text="无限炮弹";else{this.costLabel.visible=!0;var t=Math.floor(100*e);this.costLabel.text=t+"%";var o=173-1.14*t;egret.Tween.get(this.waveImage,null,null,!0).to({y:o},500,egret.Ease.quadOut),100==t?(this.playSpAnim(),this.waveImage.touchEnabled=!0,this.spLabel.text="点击发射"):(this.waveImage.touchEnabled=!1,this.spLabel.text="能量",this.stopSpAnim())}},o.prototype.setBigBoomTime=function(e){var t=59+1.14*(100*(1-e/500));this.costLabel.text=""+Math.ceil(e/100),egret.Tween.get(this.waveImage,null,null,!0).to({y:t},500,egret.Ease.quadOut)},o.prototype.playSpAnim=function(){var e=this;this._spPlayInterval||(this._spCurrentIndex=0,this.spImage.visible=!0,this.spImage.source="paddle_json.sp_0000"+this._spCurrentIndex,this._spPlayInterval=egret.setInterval(function(){e._spCurrentIndex++,e._spCurrentIndex>7&&(e._spCurrentIndex=0,e.stopSpAnim()),e.spImage.source="paddle_json.sp_0000"+e._spCurrentIndex},this,60))},o.prototype.stopSpAnim=function(){this._spPlayInterval&&(egret.clearInterval(this._spPlayInterval),this._spPlayInterval=null,this.spImage.visible=!1)},o.prototype.updatePenetrationNum=function(e,t){void 0===t&&(t=!1),(!this.onChange||t)&&("paddle_json.pao2"==this.cannonImage.source&&0>=e?this.playChangeAnim():(this.bg.source=e>0?"paddle_json.bg2":"paddle_json.bg",this.cannonImage.source=e>0?"paddle_json.pao2":"paddle_json.pao",this.ball1.visible=e>=1,this.ball2.visible=e>=2,this.ball3.visible=e>=3))},o.prototype.playChangeAnim=function(){var t=this;this.onChange||(this.onChange=!0,egret.Tween.get(this.group).to({y:81.5},250).call(function(){var o=e.DataManager.playerModel.penetration;0>=o&&"paddle_json.pao2"==t.cannonImage.source&&(t._isWuxian?(t.cannonImage.source="paddle_json.wuxianpao",t.bg.source="paddle_json.wuxianpaobg"):(t.cannonImage.source="paddle_json.pao",t.cannonImage.source="paddle_json.bg")),t.updatePenetrationNum(o,!0)}).to({y:-4},250).call(function(){t.onChange=!1,t.updatePenetrationNum(e.DataManager.playerModel.penetration)}))},o.prototype.updateWuxianPao=function(e){this._isWuxian=e,e?(this.cannonImage.source="paddle_json.wuxianpao",this.bg.source="paddle_json.wuxianpaobg"):(this.cannonImage.source="paddle_json.pao",this.bg.source="paddle_json.bg")},o}(e.BattleBody);e.BattlePaddle=t,__reflect(t.prototype,"game.BattlePaddle")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._checkedItemIndex=1,e}return __extends(o,t),o.prototype.getSkinName=function(){return BattlePaySkin},o.prototype.init=function(){this.closeButton&&(this.closeButton.icon="lucky_json.luckycloseBtn"),this.startButton&&(this.startButton.icon="ui_json.b-recharge");var t=[{rmb:6,gold:60},{rmb:30,gold:300},{rmb:98,gold:980},{rmb:128,gold:2380},{rmb:328,gold:3280},{rmb:648,gold:6480}];this.setGift(t),this.setGoldCnt(e.DataManager.playerModel.getScore())},o.prototype.setGoldCnt=function(e){this.goldCnt&&(this.goldCnt.text=e+"枚")},o.prototype.beforeShow=function(){this._isStart=!1,this._lightIndex=0,this._giftIndex=0,this._touchEvent=[{target:this.closeButton,callBackFunc:this.backHandle},{target:this.startButton,callBackFunc:this.payHandle}],this.addTouchEvent(),this.registerEvent()},o.prototype.addTouchEvent=function(){this.gift_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.giftHandle1,this),this.gift_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.giftHandle2,this),this.gift_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.giftHandle3,this),this.gift_4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.giftHandle4,this),this.gift_5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.giftHandle5,this),this.gift_6.addEventListener(egret.TouchEvent.TOUCH_TAP,this.giftHandle6,this)},o.prototype.giftHandle1=function(){this.uncheckAllGifts(),this.checkGift(1)},o.prototype.giftHandle2=function(){this.uncheckAllGifts(),this.checkGift(2)},o.prototype.giftHandle3=function(){this.uncheckAllGifts(),this.checkGift(3)},o.prototype.giftHandle4=function(){this.uncheckAllGifts(),this.checkGift(4)},o.prototype.giftHandle5=function(){this.uncheckAllGifts(),this.checkGift(5)},o.prototype.giftHandle6=function(){this.uncheckAllGifts(),this.checkGift(6)},o.prototype.registerEvent=function(){},o.prototype.setGift=function(e,t){void 0===t&&(t=1),this._gifts=e;for(var o=0,n=0,i=e;n<i.length;n++){var a=i[n];++o,this["gift_"+o].setItem(a.rmb,a.gold),o==t?this["gift_"+o].setChecked(!0):this["gift_"+o].setChecked(!1)}},o.prototype.uncheckAllGifts=function(){this.gift_1.setChecked(!1),this.gift_2.setChecked(!1),this.gift_3.setChecked(!1),this.gift_4.setChecked(!1),this.gift_5.setChecked(!1),this.gift_6.setChecked(!1)},o.prototype.checkGift=function(e){this["gift_"+e].setChecked(!0),this._checkedItemIndex=e},o.prototype.backHandle=function(){this.remove()},o.prototype.payHandle=function(){var t=this._gifts[this._checkedItemIndex-1],o=10*t.rmb||60,n=egret.Capabilities.os;console.warn("the os is:",n),n.match(/[Aa]ndroid/gi)?Pay.midasPay(o,function(){e.DataManager.playerModel.incScore(o)},function(){e.showDialog("支付失败，请重试","确定",null)}):n.match(/[iOS|ios|IOS]/gi)&&e.showDialog("IOS暂时不支持内购，敬请期待...","确定",null)},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.PanelComponent);e.BattlePay=t,__reflect(t.prototype,"game.BattlePay")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onCreate=function(){},t.prototype.onDestroy=function(){},t.prototype.getSkinName=function(){return BattleRewardBallSkin},t.prototype.init=function(){this.touchChildren=!1,this.touchEnabled=!1},t.prototype.setData=function(e){this.rewardLabel.textFlow=[{text:""+(e>0?"+":"")},{text:""+e,style:{fontFamily:"DynoBold"}}]},t}(e.GameComponent);e.BattleRewardBall=t,__reflect(t.prototype,"game.BattleRewardBall",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=gameConfig.wallCollisionGroup,o=gameConfig.ballCollisionGroup,n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e._nowSp=0,e._spCool=0,e._moneySyn=0,e._nowEvent=0,e.curSpaceFire=0,e.curScoreTimeSp=0,e._curMoney=0,e._onLight=!1,e._onDouble=!1,e}return __extends(i,n),i.prototype.init=function(){gameConfig.isIphoneX()&&(this.mainGroup.y=86,this.topBg.height=172,this.scoreLabel.y=110,this.backButton.y=100),this._lootList={};for(var t=0;t<table.TBirckRefresh.length;t++){var o=table.TBirckRefresh[t];this._lootList[o.Max]=[];for(var n=e.splitStringToNumberArray(o.Pro,";","-"),i=0,a=n;i<a.length;i++){var r=a[i];this._lootList[o.Max].push({Id:r[0],pro:r[1],limit:o.Limitnum})}}this._goodBuff=[],this._badBuff=[];for(var t=0;t<table.TBirckInfo.length;t++){var o=table.TBirckInfo[t];0!=o.Pro&&1==o.kind&&this._goodBuff.push({id:o.Id,pro:o.Pro/1e4}),0!=o.Pro&&2==o.kind&&this._badBuff.push({id:o.Id,pro:o.Pro/1e4})}this.buffLootList=table.TBirckItem,this._buffList=[],this.userButton.icon="ui_json.userGo",this.rechargeButton.icon="ui_json.rechargeGo",this.luckyButton.icon="lucky_json.luckyGo",this.bagButton.icon="ui_json.bagGo",this.backButton.icon="ui_json.gameBack",this.ballButton1.icon="ball_json.1",this.ballButton2.icon="ball_json.2",this.ball1Price.text="价值:"+table.TBallById[1].Price+"炮弹",this.ball2Price.text="价值:"+table.TBallById[2].Price+"炮弹",this._brickPool=new e.ObjectPool(e.BattleBrick),this._ballPool=new e.ObjectPool(e.BattleBall),this._paddlePool=new e.ObjectPool(e.BattlePaddle),this._buffPool=new e.ObjectPool(e.BattleBuff),this._battleTextPool=new e.ObjectPool(egret.TextField),this._breakPool=new e.ObjectPool(e.BattleBrickBreak),this._rewardBallPool=new e.ObjectPool(e.BattleRewardBall),this._blackHolePool=new e.ObjectPool(e.BattleBlackHole),this._boomPool=new e.ObjectPool(e.BattleBoom),this._timeBoomPool=new e.ObjectPool(e.BattleTimeBoom),this._firewallPool=new e.ObjectPool(e.BattleFirewall),this._icePool=new e.ObjectPool(e.BattleIce);for(var s=0,l=table.TBirckInfo;s<l.length;s++){var c=l[s];if(c.Bullet)for(var h=e.splitStringToNumberArray(c.Info,";","-"),t=0;t<h.length;t++){var o=new e.BattleBrickInfo;o.setData(c.Brickid,h[t],c.Bullet),this.brickInfoGroup.addChild(o)}}this.initWorld()},i.prototype.getSkinName=function(){return BattleSceneSkin},i.prototype.initWorld=function(){var n=gameConfig.curWidth(),i=gameConfig.curHeight();this._halfWidth=n/2,this._world=new p2.World({gravity:[0,0]}),this._wallTopShape=new p2.Plane,this._wallTopShape.collisionGroup=t,this._wallTopShape.collisionMask=o;var a=new p2.Body({position:[0,(i-876)/2/gameConfig.factor],mass:1});a.type=p2.Body.STATIC,a.addShape(this._wallTopShape),a.displays=[new e.BattleWall],this._world.addBody(a),this._wallLeftShape=new p2.Plane,this._wallLeftShape.collisionGroup=t,this._wallLeftShape.collisionMask=o,this._wallLeftShape.angle=90*Math.PI/180;var r=new p2.Body({position:[0,i/2/gameConfig.factor],mass:1});r.type=p2.Body.STATIC,r.addShape(this._wallLeftShape),this._leftWall=new e.BattleWall,r.displays=[this._leftWall],this._world.addBody(r),this._wallLeftShape.angle=-90*Math.PI/180,this._wallRightShape=new p2.Plane,this._wallRightShape.collisionGroup=t,this._wallRightShape.collisionMask=o,this._wallRightShape.angle=-90*Math.PI/180;var s=new p2.Body({position:[n/gameConfig.factor,i/2/gameConfig.factor],mass:1});s.type=p2.Body.STATIC,s.addShape(this._wallRightShape),this._rightWall=new e.BattleWall,s.displays=[this._rightWall],this._world.addBody(s),this._wallRightShape.angle=90*Math.PI/180,this._paddleMaterial=new p2.Material(1),this.ballMaterial=new p2.Material(2);var l=new p2.ContactMaterial(this._paddleMaterial,this.ballMaterial);l.restitution=1,l.friction=0,this._world.addContactMaterial(l),this._wallTopShape.material=this._paddleMaterial,this._wallLeftShape.material=this._paddleMaterial,this._wallRightShape.material=this._paddleMaterial},i.prototype.showTimeBoom=function(t){var o=this;t.needCountdown=!1,t.countdownLabel.visible=!0,t.countdownLabel.text="alarm",this._world.removeBody(t.body),egret.Tween.get(t).to({y:gameConfig.curHeight()},1e3).call(function(){o.showBoom(t);var n=e._boomUseScore;e.DataManager.playerModel.useScore(n),o.destroyBrick(t),o.playTimeBoom(t.x),o.showBattleText(-n,t,1,-10,o._rewardBallPool.createObject(),!0)})},i.prototype.playTimeBoom=function(t){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(n){switch(n.label){case 0:return e.SoundManager.playEffect("zhadan",.5),o=this._timeBoomPool.createObject(),o.x=t-100,o.y=gameConfig.curHeight()-100,this.addChild(o),[4,o.play()];case 1:return n.sent(),this._timeBoomPool.destroyObject(o),[2]}})})},i.prototype.setData=function(e){this._missionId=e},i.prototype.loadRes=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return[4,RES.getResAsync("test_json")];case 1:return t=o.sent(),e.testP1=t.number.choushui,e.testP2=t.number.fantan,e.testSpeed=t.speed.ballspd,[2]}})})},i.prototype.beforeShow=function(){this.curSpaceFire=e._spaceFire+e.DataManager.playerModel.getScore();var t=this._paddlePool.createObject();t.setData(1),t.resetPosition(this.mainGroup.y),this.paddleGroup.addChild(t),this._paddle=t,this._diedY=this._paddle.y+this._paddle.height/2,this._diedMinX=-14,this._diedMaxX=734,this._nowSp=0,this.updateSp(),this.doubleGroup.visible=!1,this._leftFirewall=[],this._rightFirewall=[],this._idleLeftFirewall=[],this._idleRightFirewall=[];for(var o=1;15>=o;o+=4)this._idleLeftFirewall.push(o),this._idleRightFirewall.push(o);this._blackHoleList=[],this._spCool=0,this._moneySyn=0,this._topColumn=[];for(var o=0;20>o;o+=2)this._topColumn.push(o);this._boomBrick=[],this._doubleTime=0,this._currentFrame=0,this._breakBad=0,this._breakCount=0,this._touchEvent=[{target:this.ballButton1,callBackFunc:this.ballHandle},{target:this.ballButton2,callBackFunc:this.ballHandle},{target:this.userButton,callBackFunc:this.userGoHandle},{target:this.luckyButton,callBackFunc:this.luckyGoHandle},{target:this.rechargeButton,callBackFunc:this.rechargeGoHandle},{target:this.bagButton,callBackFunc:this.bagGoHandle},{target:this.backButton,callBackFunc:this.backHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateScore,notifyName:e.PlayerModel.SCORE_UPDATE,execute:!0},{source:e.DataManager.playerModel,target:this,callBackFunc:this.addNotice,notifyName:e.PlayerModel.ADD_OR_USE_GOLD,execute:!1},{source:e.DataManager.playerModel,target:this,callBackFunc:this.updatePenetration,notifyName:e.PlayerModel.PENETRATION_UPDATE,execute:!0}],this.touchGroup.touchEnabled=!1,this.ballGroup.visible=!1,this.moreFireImg.visible=!1,this.touchGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this);for(var o=0;7>=o;o++)this.generateBrick(15-2*o);e.DataManager.playerModel.guideFinish()?(this.guideGroup.visible=!1,this.startGame()):(this.guideGroup.visible=!0,this.guideGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.finishGuide,this)),this.badbuffPanel.initView()},i.prototype.finishGuide=function(){egret.localStorage.setItem("guide","finish"),this.guideGroup.visible=!1,this.startGame()},i.prototype.useSp=function(){if(!(this._spCool>0)){e.SoundManager.playEffect("dazhao",.5),this._paddle.playBoom();for(var t=0,o=this._brickPool.list;t<o.length;t++){var n=o[t];n.isGoldShark()||this._boomBrick.push(n)}this._nowSp=0,this.updateSp()}},i.prototype.showBigFire=function(){var e=this;this._spCool=500,this._paddle.setSp(-1),this.moreFireImg.scaleX=2,this.moreFireImg.scaleY=2,this.moreFireImg.visible=!0,egret.Tween.get(this.moreFireImg).to({scaleX:.5,scaleY:.5},300).to({scaleX:1,scaleY:1},400).wait(500).call(function(){e.moreFireImg.visible=!1})},i.prototype.updatePenetration=function(){this._paddle.updatePenetrationNum(e.DataManager.playerModel.penetration)},i.prototype.touchHandle=function(t){var o=t.stageX,n=t.stageY-88;if(!(n>=this._paddle.y)){if(e.DataManager.playerModel.getScore()<e._paddlePrice)return void e.showDialog("您的金币不足!","充值",function(){this.rechargeGoHandle()});0==this._spCool&&(e.DataManager.playerModel.useScore(e._paddlePrice),this.addSp());var i=Math.atan2(o-this._paddle.x,this._paddle.y-n),a=180*i/Math.PI,r=Math.sin(i),s=Math.cos(i),l=153*r+this._paddle.x,c=-153*s+this._paddle.y,h=20,u=r*h,d=-s*h;this._paddle.setImageRotation(a),this.addBall(2,[l,c,u,d]),e.SoundManager.playEffect("fashe",.6),this._paddle.playShot()}},i.prototype.noticeFinish=function(){},i.prototype.addNotice=function(e){var t=this;this.noticeLabel.visible=!0,this.noticeTimeout&&(egret.clearTimeout(this.noticeTimeout),this.noticeTimeout=null),this.noticeLabel.textFlow=e,this.noticeTimeout=egret.setTimeout(function(){t.noticeLabel.visible=!1,t.noticeTimeout=null},this,1e3)},i.prototype.noticeRun=function(){},i.prototype.updateScore=function(){this.scoreLabel.textFlow=[{text:"金币",style:{bold:!0}},{text:":"+e.DataManager.playerModel.getScore(),style:{fontFamily:"DynoBold"}}],e.DataManager.playerModel.getScore()>=this.curSpaceFire&&(this.curSpaceFire+=e._spaceFire,this._paddle.updateWuxianPao(!0),this.showBigFire())},i.prototype.ballHandle=function(e){},i.prototype.addBall=function(t,o){var n=!1;e.DataManager.playerModel.penetration>0&&(n=!0,e.DataManager.playerModel.usePenetration(1));var i=this._ballPool.createObject();i.setData(t,this.ballMaterial,n),i.resetPosition(o),this.showGroup.addChild(i),this._world.addBody(i.body),i.body.velocity=[o[2],o[3]]},i.prototype.startGame=function(){this.touchGroup.touchEnabled=!0,this._world.on("impact",this.contactHandle.bind(this)),this._lastTime=egret.getTimer(),egret.startTick(this.updateView,this)},i.prototype.addBuff=function(e,t){var o=this._buffPool.createObject();o.setData(t,e.x,e.y,this._paddleMaterial),this.showGroup.addChild(o),this._world.addBody(o.body),o.body.velocity=[0,8],this._buffList.push(o)},i.prototype.showLight=function(){this._onLight||(this._onLight=!0,this.doubleAnim.play(0))},i.prototype.hideLight=function(){this._onLight&&(this._onLight=!1,this.doubleAnim.stop(),this.doubleGroup.alpha=1)},i.prototype.showDouble=function(){if(!this._onDouble){this._onDouble=!0,this.doubleGroup.visible=!0,this.doubleGroup.alpha=1,this.light1.y=0,this.light2.y=775,this.light3.y=1550;var e=15e3;egret.Tween.get(this.light1,{loop:!0}).to({y:-775},e).to({y:1550},0).to({y:775},e).to({y:0},e),egret.Tween.get(this.light2,{loop:!0}).to({y:0},e).to({y:-775},e).to({y:1550},0).to({y:775},e),egret.Tween.get(this.light3,{loop:!0}).to({y:775},e).to({y:0},e).to({y:-775},e).to({y:1550},0)}},i.prototype.stopDouble=function(){this._onDouble&&(this._onDouble=!1,this.doubleGroup.visible=!1,egret.Tween.removeTweens(this.light1),egret.Tween.removeTweens(this.light2),egret.Tween.removeTweens(this.light3))},i.prototype.updateView=function(t){this._spCool>0&&(this._spCool--,0==this._spCool?(this.updateSp(),this._paddle.updateWuxianPao(!1)):this._paddle.setBigBoomTime(this._spCool));for(var o=0;o<e._eventCdByMoney.length;o++)if(o<e._eventCdByMoney.length-1){if(e.DataManager.playerModel.getScore()>e._eventCdByMoney[o]&&e.DataManager.playerModel.getScore()<=e._eventCdByMoney[o+1]){this.curScoreTimeSp=o;break}}else this.curScoreTimeSp=e._eventCdByMoney.length-1;if(this._moneySyn++,this._moneySyn>100&&(this._moneySyn=0,this._curMoney!=e.DataManager.playerModel.getScore()&&(e.sendMessage("msg.BT_UpdateMoney",msg.BT_UpdateMoney.encode({roomid:e.BattleManager.getInstance().getRoomId(),userid:e.DataManager.playerModel.getUserId(),money:e.DataManager.playerModel.getScore()})),this._curMoney=e.DataManager.playerModel.getScore())),this._doubleTime>0?(this._doubleTime--,this._doubleTime<=180?this.showLight():this.hideLight(),this.showDouble()):this.stopDouble(),this._boomBrick.length>0)for(var o=this._boomBrick.length-1;o>=0;o--){var n=this._boomBrick[o];this._boomBrick.splice(o,1),this.destroyBrick(n)}this._currentFrame++,this.moveBrick(),120==this._currentFrame&&(this._currentFrame=0,this.generateBrick());var i=e.gameFrame;this._lastTime=t;for(var o=this._ballPool.list.length-1;o>=0;o--){var a=this._ballPool.list[o];if(a.updateView(),this._blackHoleList.length>0)for(var r=0,s=this._blackHoleList;r<s.length;r++){var l=s[r];if(!l.isCheck(a,t)){var c=l.checkMeet(a.x,a.y);if(c){l.meetBall(a,t),a.updateView();break}}}(a.y>=this._diedY||a.meetFire)&&this._ballPool.destroyObject(a)}for(var h=0,u=this._buffList;h<u.length;h++){var d=u[h];d.updateView()}return this._world.step(i),!0},i.prototype.moveBrick=function(){for(var e=this._brickPool.list.length-1;e>=0;e--){var t=this._brickPool.list[e];t.needCountdown&&t.minusCountdown(),t.canMove&&(0==t.direction?t.x>=720?this.cleanBrick(t):(t.x+=t.speed,t.resetPosition()):t.x<=-72?this.cleanBrick(t):(t.x-=t.speed,t.resetPosition()))}},i.prototype.eventBrick=function(t){var o=[];if(this._nowEvent>=e._maxEvent){var n=1;n=Math.random()<=e._eventDifferent?1:2,e.DataManager.playerModel.getScore()<e._eventAddMin&&(n=1);var i=0,a=0;switch(n){case 1:i=e.lootEvent(e._goodBuffPro);for(var r=0;i>r;r++)o.push(e.lootPro(this._goodBuff));break;case 2:a=e.lootEvent(e._badBuffPro);for(var r=0;a>r;r++)o.push(e.lootPro(this._badBuff))}}return o},i.prototype.generateBrick=function(t){void 0===t&&(t=0);var o,n,i=e.DataManager.playerModel.getScore(),a=this.eventBrick(i);for(var r in this._lootList)if(this._lootList.hasOwnProperty(r)){if(i<=Number(r)){o=this._lootList[r];break}n=this._lootList[r]}o||(o=n);for(var s=o[0].limit,r=0;15>r;r++)if(!(Math.random()>.3)){var l=0;if(a.length>0){for(var c=0;c<a.length;c++){l=a[c],a.splice(c,1);break}0==a.length&&(this._nowEvent=0)}else{var h=e.loot(o);l=h.Id}var u=table.TBirckInfoById[l],d=u.Type,p={id:this._brickPool.list.length,type:l,row:r+1,column:r%2==0?-2+t:22-t};switch(d){case 3:case 5:case 6:case 7:if(this._topColumn.length<=10-s)return;p.row=0;var m=Math.floor(Math.random()*this._topColumn.length);p.column=this._topColumn[m],this._topColumn.splice(m,1)}var g=this._brickPool.createObject();g.setData(p,this._paddleMaterial,r%2,u,d),this.showGroup.addChild(g),this._world.addBody(g.body)}},i.prototype.addFire=function(e){if(Math.random()<.5){if(this._idleLeftFirewall.length>0){var t=Math.floor(Math.random()*this._idleLeftFirewall.length),o=this._idleLeftFirewall[t],n=this._firewallPool.createObject();n.setData(o),this.paddleGroup.addChild(n),n.x=e.x,n.y=e.y,n.scaleY=.5,this._idleLeftFirewall.splice(t,1),this._leftFirewall.push(o),e.leftFirewall.push(n),egret.Tween.get(n).to({x:0,y:o*gameConfig.perBrickSize},300),egret.Tween.get(n).wait(300).to({scaleY:1},250)
}}else if(this._idleRightFirewall.length>0){var t=Math.floor(Math.random()*this._idleRightFirewall.length),o=this._idleRightFirewall[t],n=this._firewallPool.createObject();n.setData(o),this.paddleGroup.addChild(n),n.x=e.x,n.y=e.y,n.scaleY=.5,this._idleRightFirewall.splice(t,1),this._rightFirewall.push(o),e.rightFirewall.push(n),egret.Tween.get(n).to({x:698,y:o*gameConfig.perBrickSize},300),egret.Tween.get(n).wait(300).to({scaleY:1},250)}},i.prototype.addIce=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,n,i;return __generator(this,function(a){switch(a.label){case 0:for(t=0,o=this._brickPool.list;t<o.length;t++)n=o[t],Math.random()<.5&&n.frozen(e);return i=this._icePool.createObject(),i.x=e.x,i.y=e.y,this.paddleGroup.addChild(i),[4,i.play()];case 1:return a.sent(),this._icePool.destroyObject(i),[2]}})})},i.prototype.gameEnd=function(){egret.stopTick(this.updateView,this),e.DataManager.playerModel.battleEnd(),this._firewallPool.destroyAllObject()},i.prototype.contactHandle=function(e){var t=e.bodyA,o=e.bodyB,n=t.displays[0],i=o.displays[0],a=n.battleBodyType,r=i.battleBodyType;if(1==a||1==r){if(1==a){if(n.addHitCount(),i==this._rightWall&&this._rightFirewall.length>0){var s=this.checkMeetFire(n.y,this._rightFirewall);if(s)return this.playBreakBallAnim(n),void(n.meetFire=!0)}else if(i==this._leftWall&&this._leftFirewall.length>0){var s=this.checkMeetFire(n.y,this._leftFirewall);if(s)return this.playBreakBallAnim(n),void(n.meetFire=!0)}}else if(i.addHitCount(),n==this._rightWall&&this._rightFirewall.length>0){var s=this.checkMeetFire(i.y,this._rightFirewall);if(s)return this.playBreakBallAnim(i),void(i.meetFire=!0)}else if(n==this._leftWall&&this._leftFirewall.length>0){var s=this.checkMeetFire(i.y,this._leftFirewall);if(s)return this.playBreakBallAnim(i),void(i.meetFire=!0)}3==r?n.isPenetration&&!i.isGoldShark()?(n.resetV(),i.hitByBall(n,this._lastTime,!0)):i.hitByBall(n,this._lastTime):3==a&&(i.isPenetration&&!n.isGoldShark()?(i.resetV(),n.hitByBall(i,this._lastTime,!0)):n.hitByBall(i,this._lastTime))}},i.prototype.checkMeetFire=function(e,t){for(var o=!1,n=Math.floor(e/gameConfig.perBrickSize),i=0;i<t.length;i++){var a=t[i],r=a+4;if(n>=a&&r>=n){o=!0;break}}return o},i.prototype.addSp=function(){this._spCool>0||this._nowSp<e._maxSp&&(this._nowSp+=1,this.updateSp())},i.prototype.runBuff=function(e,t){if(e.now!=t){e.now=t;var o=this._buffList.indexOf(e);if(-1!=o){switch(this._buffList.splice(o,1),e.buffId){case 1:break;case 2:break;case 3:}this._buffPool.destroyObject(e)}}},i.prototype.addBallBuff=function(){},i.prototype.addGoldBuff=function(){},i.prototype.getCurScoreTimeSp=function(){return this.curScoreTimeSp},i.prototype.updateSp=function(){this._nowSp=Math.min(this._nowSp,e._maxSp),this._paddle.setSp(this._nowSp/e._maxSp)},i.prototype.addHit=function(t){e.SoundManager.playEffect("pengzhuang",.8);var o=t.getScore();o&&(this._doubleTime>0&&(o*=2),this.showBattleText(o,t,2,-10),e.DataManager.playerModel.addScore(o),this._nowEvent+=o),this.hitCount++,this.hitLabel.text="连击数:"+this.hitCount},i.prototype.beforeRemove=function(){this._doubleTime=0,this._icePool.destroyAllObject(),this._brickPool.destroyAllObject(),this._ballPool.destroyAllObject(),this._paddlePool.destroyAllObject(),this._buffPool.destroyAllObject(),this._battleTextPool.destroyAllObject(),this._breakPool.destroyAllObject(),this._rewardBallPool.destroyAllObject(),this._blackHolePool.destroyAllObject(),this._boomPool.destroyAllObject(),this._timeBoomPool.destroyAllObject(),this._firewallPool.destroyAllObject(),this.touchGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),egret.stopTick(this.updateView,this)},i.prototype.showBoom=function(t,o){return void 0===o&&(o=!1),__awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(n){switch(n.label){case 0:return e.SoundManager.playEffect("zhadan",.5),o=this._boomPool.createObject(),o.x=t.x,o.y=t.y,this.showGroup.addChild(o),[4,o.play()];case 1:return n.sent(),this._boomPool.destroyObject(o),[2]}})})},i.prototype.showBattleText=function(e,t,o,n,i,a){void 0===o&&(o=1),void 0===n&&(n=0),void 0===i&&(i=null),void 0===a&&(a=!1);var r,s=this;i?(i.setData(e),r=i,a?(r.scaleX=r.scaleY=3,r.y=gameConfig.curHeight()-350,r.x=gameConfig.curWidth()/2-3*r.width/2):(r.scaleX=r.scaleY=1,r.y=t.y+n,r.x=t.x+t.width/2-r.width/2)):(r=s._battleTextPool.createObject(),r.size=22,r.y=t.y+n,r.alpha=0,r.textColor=gameConfig.TextColors.pinkRed,r.text=""+(e>0?"+":"")+e,r.fontFamily="DynoBold",3==t.battleBodyType?r.x=t.x+t.width/2-r.width/2:r.x=t.x-r.width/2,r.textAlign=egret.HorizontalAlign.CENTER),a?this.contains(r)||this.addChild(r):this.showGroup.contains(r)||this.showGroup.addChild(r);var l=function(){a?this.contains(r)&&(this.removeChild(r),i?s._rewardBallPool.destroyObject(i):s._battleTextPool.destroyObject(r)):this.showGroup.contains(r)&&(this.showGroup.removeChild(r),i?s._rewardBallPool.destroyObject(i):s._battleTextPool.destroyObject(r))};r.visible=!0,egret.Tween.get(r).to({alpha:1},300).to({alpha:0},1e3).call(l,this),egret.Tween.get(r).to({y:r.y-20},1300,egret.Ease.backOut)},i.prototype.destroyBrick=function(t){if(7==t.getBuffType())for(var o=0,n=this._brickPool.list;o<n.length;o++){var i=n[o];i.frozenBrick&&i.frozenBrick==t&&i.unFrozen()}if(t.rightFirewall.length>0)for(var a=t.rightFirewall.length-1;a>=0;a--){var r=t.rightFirewall[a],s=this._rightFirewall.indexOf(r.wallIndex);this._rightFirewall.splice(s,1),this._idleRightFirewall.push(r.wallIndex),t.rightFirewall.splice(a,1),this._firewallPool.destroyObject(r)}if(t.leftFirewall.length>0)for(var a=t.leftFirewall.length-1;a>=0;a--){var r=t.leftFirewall[a],s=this._leftFirewall.indexOf(r.wallIndex);this._leftFirewall.splice(s,1),this._idleLeftFirewall.push(r.wallIndex),t.leftFirewall.splice(a,1),this._firewallPool.destroyObject(r)}if(t.blackHoleList.length>0)for(var a=t.blackHoleList.length-1;a>=0;a--){var l=t.blackHoleList[a];this._blackHolePool.destroyObject(l),this._blackHoleList.splice(this._blackHoleList.indexOf(l),1)}e.SoundManager.playEffect("posui"),this._breakCount++;var c=t.getRewardBall(),h=t.getBreakScore(),u=t.getBuffType();if(c){e.DataManager.playerModel.addGold(c);var d=h?-70:-40;this.showBattleText(c,t,1,d,this._rewardBallPool.createObject())}switch(h&&(this._doubleTime>0&&(h*=2),e.DataManager.playerModel.addScore(h),this.showBattleText(h,t,1,-40)),this.playBreakAnim(t),this.cleanBrick(t),u){case 2:this._doubleTime=900;break;case 4:for(var p=0,m=this._brickPool.list;p<m.length;p++){var i=m[p];1==i.buffType&&i.hitBySp()}this.showBoom(t,!1);break;case 8:this._paddle.playChangeAnim(),e.DataManager.playerModel.addPenetration(3)}0==t.brickInfo.row&&this._topColumn.push(t.brickInfo.column),t.isBadBuff()&&(this._breakBad+=1,this.showBadPower())},i.prototype.playBreakAnim=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return t=this._breakPool.createObject(),t.setData(e),this.showGroup.addChild(t),[4,t.play()];case 1:return o.sent(),this._breakPool.destroyObject(t),[2]}})})},i.prototype.playBreakBallAnim=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return t=this._boomPool.createObject(),this.showGroup.addChild(t),t.x=e.x-40,t.y=e.y-10,[4,t.playBall()];case 1:return o.sent(),this._boomPool.destroyObject(t),[2]}})})},i.prototype.cleanBrick=function(e){this._brickPool.destroyObject(e)},i.prototype.addBlackHole=function(e){if(!(this._blackHoleList.length>10)){var t=this._blackHolePool.createObject(),o=this._blackHolePool.createObject();t.setLink(o),o.setLink(t),t.x=o.x=e.x,t.y=o.y=e.y,this.buffGroup.addChild(t),this.buffGroup.addChild(o);var n=Math.floor(19*Math.random())*gameConfig.perBrickSize,i=(Math.floor(18*Math.random())+1)*gameConfig.perBrickSize,a=Math.floor(19*Math.random())*gameConfig.perBrickSize,r=(Math.floor(18*Math.random())+1)*gameConfig.perBrickSize;t.showAnim.play(0),o.showAnim.play(0),this._blackHoleList.push(t,o),e.blackHoleList.push(t,o),egret.Tween.get(t).to({x:n,y:i},300),egret.Tween.get(o).to({x:a,y:r},300)}},i.prototype.showBadPower=function(){this._breakBad>e._breakBadBuffMax&&(this._breakBad=e._breakBadBuffMax),this.badbuffPanel.refreshView(this._breakBad)},i.prototype.openBadBox=function(e){var t=this,o=new eui.Image;o.source="lucky_json.goldAni_0000",this.addChild(o),o.anchorOffsetX=o.width/2,o.anchorOffsetY=o.height/2,o.x=gameConfig.curWidth()/2,o.y=gameConfig.curHeight()/2-150;var n=new eui.Label;n.text=e+"金币",n.textColor=16776067,n.strokeColor=16020998,n.stroke=3,n.textAlign=egret.HorizontalAlign.CENTER,n.size=36,n.bold=!0,this.addChild(n),n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,n.x=gameConfig.curWidth()/2,n.y=gameConfig.curHeight()/2-90,n.scaleX=0,n.scaleY=0;var i=0,a=egret.setInterval(function(){i++,i>7?(egret.setTimeout(function(){t.removeChild(o),t.removeChild(n)},t,700),egret.clearInterval(a),a=null):o.source="lucky_json.goldAni_000"+i},this,150);egret.Tween.get(n).to({scaleX:1.2,scaleY:1.2},500).to({scaleX:1,scaleY:1},200)},i.prototype.setBadPower=function(e){this._breakBad=e},i.prototype.userGoHandle=function(){e.openPanel(6)},i.prototype.luckyGoHandle=function(){e.openPanel(3)},i.prototype.rechargeGoHandle=function(){e.openPanel(10)},i.prototype.bagGoHandle=function(){e.openPanel(4)},i.prototype.backHandle=function(){var t=function(){egret.stopTick(this.updateView,this),this._firewallPool.destroyAllObject(),e.sendMessage("msg.BT_ReqQuitGameRoom",msg.BT_ReqQuitGameRoom.encode({roomid:e.BattleManager.getInstance().getRoomId(),userid:e.DataManager.playerModel.getUserId()})),e.SceneManager.changeScene(1)}.bind(this);this._nowSp>=e._maxSp/2||this._breakBad>=e._breakBadBuffMax?e.showDialog("现在退出游戏，能量将不保存哦！","确定",function(){t()}):t()},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(e.SceneComponent);e.BattleScene=n,__reflect(n.prototype,"game.BattleScene")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentIndex=0,e}return __extends(o,t),o.prototype.onCreate=function(){this.touchChildren=this.touchEnabled=!1},o.prototype.onDestroy=function(){this._playInterval&&(egret.clearInterval(this._playInterval),this._playInterval=null),this.removeFromParent()},o.prototype.getSkinName=function(){return BattleTimeBoomSkin},o.prototype.play=function(){var t=this,o=e.defer();return this._currentIndex=0,this.boomImage.source="cube_json.timeBoom_0000"+this._currentIndex,this._playInterval=egret.setInterval(function(){return t._currentIndex++,t._currentIndex>4?void o.resolve(null):void(t.boomImage.source="cube_json.timeBoom_0000"+t._currentIndex)},this,80),o.promise()},o}(e.GameComponent);e.BattleTimeBoom=t,__reflect(t.prototype,"game.BattleTimeBoom",["game.PoolItem"])}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){this.battleBodyType=4},t}(e.BattleBody);e.BattleWall=t,__reflect(t.prototype,"game.BattleWall")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getSkinName=function(){return AvatarSkin},t.prototype.setAvatar=function(e,t){this.avatarImage.source=e,this.selectImage.visible=t},t}(e.GameComponent);e.Avatar=t,__reflect(t.prototype,"game.Avatar")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getSkinName=function(){return CommonDialogSkin},t.prototype.init=function(){this.btn_goPay.bg="lucky_json.luckyBtn",this.btn_close.icon="lucky_json.luckycloseBtn",this._touchEvent=[{target:this.btn_close,callBackFunc:this.OnClosePanel},{target:this.btn_goPay,callBackFunc:this.OnClickGo}]},t.prototype.OnShowPanel=function(e,t,o,n){void 0===o&&(o=null),void 0===n&&(n=null),n?this.txt_content.textFlow=n:this.txt_content.text=e,this.btn_goPay.label=t,this._func=o,this.show(),this.open_tip.play(0)},t.prototype.OnClickGo=function(){this._func&&this._func(),this.OnClosePanel()},t.prototype.OnClosePanel=function(){this.remove()},t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t}(e.PanelComponent);e.CommonDialog=t,__reflect(t.prototype,"game.CommonDialog")}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.initView=function(){this.badBuffProgressBar.maximum=e._breakBadBuffMax,this.badBuffProgressBar.minimum=0,this._playInterval=null,this.boxBuffImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.boxTouchEvent,this)},o.prototype.startShake=function(){this.boxshake.play(0)},o.prototype.stopShake=function(){this.boxshake.stop()},o.prototype.playBoxAni=function(){var e=this,t=6;this._playInterval=egret.setInterval(function(){t++,t>6&&(t=0),e.boxBuffImg.source="lucky_json.badBox_000"+t},this,150)},o.prototype.boxTouchEvent=function(){if(this._curPower>=e._breakBadBuffMax){var t=e.lootEvent(e._breakBadBuffAddPro),o=e._breakBadBuffAdd[t-1];e.DataManager.playerModel.addScore(o),this._playInterval&&(this.boxBuffImg.source="ui_json.boxBuff1",egret.clearInterval(this._playInterval),this._playInterval=null),e.BattleScene.getInstance().setBadPower(0),this.refreshView(0),e.BattleScene.getInstance().openBadBox(o)}else e.showTips("能量积满时，将获得大量金币...",!0)},o.prototype.refreshView=function(t){this._curPower=t,this.badBuffProgressBar.value=t,this._curPower>=e._breakBadBuffMax&&null==this._playInterval&&this.playBoxAni()},o}(eui.Component);e.BadBuff=t,__reflect(t.prototype,"game.BadBuff"),window["game.BadBuff"]=e.BadBuff}(game||(game={}));var GameLayer=game.GameLayer,Main=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.addChild(new game.GameLayer),RES.setMaxLoadingThread(6),egret.lifecycle.onPause=function(){game.leaveTime=(new Date).getTime(),game.SoundManager.hideBgSound()},egret.lifecycle.onResume=function(){game.leaveTime=null,game.SoundManager.showBgSound()};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadResource()];case 1:return e.sent(),game.run(),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t,o;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,8,,9]),e="http://jump.test.giantfun.cn/egret_remote/resource/",RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,function(e){console.log("加载资源成功")},this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,function(e){console.log("加载资源出错！",e)},this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,function(e){console.log("加载资源项出错",e)},this),RES.addEventListener(RES.ResourceEvent.CONFIG_LOAD_ERROR,function(e){console.log("配置项出错",e)},this),[4,RES.loadConfig("default.res.json","resource/")];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,RES.loadConfig("default.res.json",e)];case 3:return n.sent(),[3,5];case 4:return t=n.sent(),console.warn("加载远端文件失败：",e,"default.res.json",t),[3,5];case 5:return[4,this.loadTheme()];case 6:return n.sent(),[4,RES.loadGroup("preload",0)];case 7:return n.sent(),document&&document.getElementById("preloading")&&(document.getElementById("preloading").style.display="none"),[3,9];case 8:return o=n.sent(),console.error(o),[3,9];case 9:return[2]}})})},t.prototype.loadTheme=function(){var e=this;return new Promise(function(t,o){var n=new eui.Theme("resource/default.thm.json",e.stage);n.addEventListener(eui.UIEvent.COMPLETE,function(){t()},e)})},t}(eui.UILayer);__reflect(Main.prototype,"Main");var game;!function(e){function t(){window.onerror=function(e,t,o,n,i){var a=e+" @"+t+" line: "+o+" col:"+n;i&&(a+="\n"+i.stack)},e.DataManager.init(),e.SoundManager.init(),e.ClientNet.getInstance().init(),e.BarrageManager.getInstance().init(),e.BattleManager.getInstance().init(),o()}function o(){e.wxAutoLogin()}function n(){e.SceneManager.changeScene(1),""!=e.wxCode&&""!=e.wxState&&""==e.DataManager.playerModel.getOpenId()&&(e.sendMessage("msg.C2GW_SendWechatAuthCode",msg.C2GW_SendWechatAuthCode.encode({code:e.wxCode})),e.showTips("绑定微信成功!")),e.NotificationCenter.postNotification("closeLoadingSkin"),e.NotificationCenter.once(this,i,e.ClientNet.SOCKET_CONNECT_CLOSE),this.startHeart(),window.onbeforeunload=function(){a(),e.ClientNet.getInstance().onConnectClose()}}function i(){a(),e.NetFailed.getInstance().show()}function a(){e.heartTimeout&&(clearTimeout(e.heartTimeout),e.heartTimeout=null)}function r(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){return e.heartTimeout?[2]:e.leaveTime&&(t=(new Date).getTime(),t-e.leaveTime>=3e5)?(a(),[2]):(e.sendMessage("msg.C2GW_HeartBeat",msg.C2GW_HeartBeat.encode({})),e.heartTimeout=setTimeout(function(){e.heartTimeout=null,r()},3e3),[2])})})}e.run=t,e.gameInit=o,e.createGameScene=n,e.connectFailed=i,e.stopHeart=a,e.startHeart=r}(game||(game={})),window.game=game;var game;!function(e){function t(){}e.gameTest=t}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"image",{set:function(e){this._image=e,this.imageDisplay&&(this.imageDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageScale",{set:function(e){this.imageDisplay&&(this.imageDisplay.scaleY=this.imageDisplay.scaleX=e)},enumerable:!0,configurable:!0}),t.prototype.setBgSize=function(e,t){this.bgDisplay&&(this.bgDisplay.width=e,this.bgDisplay.height=t)},Object.defineProperty(t.prototype,"bgScale",{set:function(e){this.bgDisplay&&(this.bgDisplay.scaleY=this.bgDisplay.scaleX=e)},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.ImageButton=t,__reflect(t.prototype,"game.ImageButton")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"bg",{set:function(e){this._bg=e,this.bgDisplay&&(this.bgDisplay.source=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{set:function(e){this._label=e,this.labelDisplay&&(this.labelDisplay.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelSize",{set:function(e){this.labelDisplay&&(this.labelDisplay.size=e)},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.LabelButton=t,__reflect(t.prototype,"game.LabelButton"),window["game.LabelButton"]=e.LabelButton}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.setItem=function(e,t){this.itemImg&&(this.itemImg.source=e),this.itemName&&(this.itemName.text=t)},t}(eui.Component);e.LuckyItem=t,__reflect(t.prototype,"game.LuckyItem"),window["game.LuckyItem"]=e.LuckyItem}(game||(game={}));var game;!function(e){function t(e){return"item_json."+e}function o(e){void 0===e&&(e=0),gameConfig.curStage().touchChildren=!1}function n(){gameConfig.curStage().touchChildren=!0}function i(e){var t=new egret.HtmlTextParser;return t.parser(e)}function a(t,o,n,i,a,r){void 0===t&&(t=""),void 0===o&&(o=!1),void 0===n&&(n=30),void 0===i&&(i=220);var s=e.TipsPool.createObject();s.size=n,a?s.y=a:s.y=gameConfig.curHeight()/2,r?(s.textColor=r,s.stroke=0):(s.stroke=2,o?s.strokeColor=gameConfig.TextColors.red:s.strokeColor=gameConfig.TextColors.blue,s.textColor=gameConfig.TextColors.white),s.alpha=1,s.text=t,s.x=gameConfig.curWidth()/2-s.width/2,s.bold=!0,s.textAlign=egret.HorizontalAlign.CENTER,e.GameLayer.maskLayer.contains(s)||e.GameLayer.maskLayer.addChild(s);var l=function(){e.GameLayer.maskLayer.contains(s)&&(e.GameLayer.maskLayer.removeChild(s),e.TipsPool.destroyObject(s))};s.visible=!0,egret.Tween.get(s).to({alpha:1},500).wait(500).to({alpha:1},500).call(l,this),egret.Tween.get(s).to({y:s.y-i},800,egret.Ease.backOut)}function r(t){var o=e.TipsImagePool.createObject();o.y=gameConfig.curHeight()/2,o.alpha=0,o.source="lang/"+t,o.horizontalCenter=0,e.GameLayer.effectLayer.contains(o)||e.GameLayer.effectLayer.addChild(o);var n=function(){e.GameLayer.effectLayer.contains(o)&&(e.GameLayer.effectLayer.removeChild(o),e.TipsImagePool.destroyObject(o))};o.visible=!0,egret.Tween.get(o).to({alpha:1},500).wait(500).to({alpha:0},500).call(n,this),egret.Tween.get(o).to({y:o.y-220},800,egret.Ease.backOut)}function s(t){var o=e.defer();return egret.setTimeout(function(){o.resolve(null)},this,t),o.promise()}function l(e){for(var t=[],o=[],n=!1,i="",a=0;a<e.length;++a){var r=e[a];n?'"'==r?(a<e.length-1&&'"'==e[a+1]&&(i+=r),n=!1):i+=r:","==r?(o.push(i),i=""):"\n"==r?(o.push(i),i="",t.push(o),o=[]):'"'==r?n=!0:i+=r}return t}function c(e,t,o){void 0===t&&(t="|"),void 0===o&&(o=";");for(var n=e.split(t),i=[],a=0;a<n.length;a++)""!=n[a]&&(n[a].indexOf(o)>-1?i.push(c(n[a],o)):i.push(Number(n[a])));return i}function h(t,o){var n=e.defer();return RES.getResByUrl(t,function(e,t){e?n.resolve(e):n.reject({message:"IOError:"+t})},this,o),n.promise()}function u(t){var o=e.defer();return RES.getResAsync(t,function(e,n){e?o.resolve(e):o.reject({message:"IOError:"+t})},this),o.promise()}function d(e,t){var o,n=0;for(o=0;o<e.length;o++)n+=e[o].pro;var i=0;i=t?t.Next(0,n):Math.random()*n;var a=0;for(o=0;o<e.length;o++)if(a+=e[o].pro,a>i)return e[o]}function p(e){for(var t=Math.random(),o=0,n=1,i=0;i<e.length;i++)if(o+=e[i],o>t){n=i+1;break}return n}function m(e){for(var t=Math.random(),o={id:6,pro:.33},n=0,i=0;i<e.length;i++)if(n+=e[i].pro,n>t){o=e[i];break}return o.id}function g(e){var t=Math.floor(e).toString(),o=t.length;switch(o){case 1:case 2:case 3:case 4:case 5:return t;case 6:case 7:case 8:var n=Math.floor(e/1e4),i=Math.floor((e-1e4*n)/1e3).toString().slice(0,1);t="0"==i?n+"万":n+"万";break;default:var n=Math.floor(e/1e8),i=Math.floor((e-1e8*n)/1e4).toString();t="0"==i?n+"亿":n+"亿"+i+"万"}return t}function f(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if(e&&t&&0!=t.length){for(var n=0;n<t.length;n++)null!=t[n]&&(e=e.replace("{"+n+"}",t[n].toString()));return e}}function y(e,t){void 0===t&&(t=null),t=t||{};for(var o in e)e.hasOwnProperty(o)&&("object"==typeof e[o]?e[o]?(t[o]=e[o].constructor===Array?[]:{},y(e[o],t[o])):t[o]=null:t[o]=e[o]);return t}function _(e){return e?Number(e):void 0}function v(e,t,o,n,i,a){return e>=o&&o+i>=e&&t>=n&&n+a>=t}function I(e){if(!e)return[];var t=e.match(/\[(.+?)\]/g),o=e.split(/\[.*?\]/),n=[];if(t){for(var i=0;i<t.length;i++)t[i]=t[i].substr(1,t[i].length-2);for(var i=1;i<o.length;i++)n.push({text:o[i],style:{textColor:b(t[i-1])}})}else for(var i=0;i<o.length;i++)n.push({text:o[i],color:0});return n}function b(e){return e=e.indexOf("#")>-1?e.replace("#","0x"):"0x"+e,Number(e)}function w(e){var t=I(e),o=new eui.Label;o.textFlow=[];for(var n=0;n<t.length;n++)o.textFlow.push(t[n]);return o.lineSpacing=10,o}function S(e,t,o,n){var i=o-e,a=n-t;return 360*Math.atan(a/i)/(2*Math.PI)}function B(e){return e.replace(/\s+/g,"")}function C(e,t){return e+(t-e)*Math.random()}function N(e,t,o){return t>e?t:e>o?o:e}function k(t,o,n){void 0===n&&(n=null),e.CommonDialog.getInstance().OnShowPanel(t,o,n)}function T(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length),document.execCommand("Copy"),document.body.removeChild(t),a("复制成功!")}e.getItemIconSource=t,e.showWaitPanel=o,e.hideWaitPanel=n,e.getTextFlow=i,e.TipsPool=new e.ObjectPool(egret.TextField),e.TipsImagePool=new e.ObjectPool(eui.Image),e.showTips=a,e.showTipsImage=r,e.delay=s,e.parseCSV=l,e.splitStringToNumberArray=c,e.loadUrl=h,e.loadRes=u,e.loot=d,e.lootEvent=p,e.lootPro=m,e.setNumber=g,e.formatString=f,e.copyObject=y,e.ToNumber=_,e.DarkRectPool=new e.ObjectPool(eui.Rect),e.checkPointAtRect=v,e.parseColorText=I,e.parse16Color=b,e.createColorText=w,e.angle=S,e.deleteBlank=B,e.randomRange=C,e.clamp=N,e.showDialog=k,e.TextCopy=T}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._checked=!0,t}return __extends(t,e),t.prototype.setItem=function(e,t){this.itemGold&&(this.itemGold.text=t+"金币"),this.itemRmb&&(this.itemRmb.text=e+"元")},t.prototype.isChecked=function(){return this._checked},t.prototype.setChecked=function(e){e?this.itemImg&&(this.itemImg.visible=!0):this.itemImg&&(this.itemImg.visible=!1)},t}(eui.Component);e.PayItem=t,__reflect(t.prototype,"game.PayItem"),window["game.PayItem"]=e.PayItem}(game||(game={}));var game;!function(e){var t=function(){function e(){}return e.guanbiyinyue="关闭音乐",e.dakaiyinyue="打开音乐",e.guanbiyinxiao="关闭音效",e.dakaiyinxiao="打开音效",e}();e.Lang=t,__reflect(t.prototype,"game.Lang")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._select=!1,t}return __extends(t,e),t.prototype.setIcon=function(e,t){this._normalIcon=e,this._selectIcon=t,this.select=this._select},Object.defineProperty(t.prototype,"select",{set:function(e){this._select=e,this.iconDisplay&&(e?this.iconDisplay.source=this._selectIcon:this.iconDisplay.source=this._normalIcon)},enumerable:!0,configurable:!0}),t}(e.EffectButton);e.ToggleButton=t,__reflect(t.prototype,"game.ToggleButton"),window["game.ToggleButton"]=e.ToggleButton}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getSkinName=function(){return LoginRewardSkin},t.prototype.init=function(){this.btn_ok.icon="lucky_json.loginrewardBtn",this._touchEvent=[{target:this.btn_ok,callBackFunc:this.OnClickOk}]},t.prototype.OnClickOk=function(){this.remove()},t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t}(e.PanelComponent);e.LoginReward=t,__reflect(t.prototype,"game.LoginReward")}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.getSkinName=function(){return LoginSceneSkin},o.prototype.init=function(){this.loginButton.icon="login_json.loginBtn"},o.prototype.beforeShow=function(){this._touchEvent=[{target:this.loginButton,callBackFunc:this.loginHandle},{target:this.btn_register,callBackFunc:this.registerHandle}],egret.localStorage.getItem("userName")&&egret.localStorage.getItem("password")&&(this.nameLabel.text=egret.localStorage.getItem("userName"),this.passwordLabel.text=egret.localStorage.getItem("password")),this.passwordLabel.inputType=egret.TextFieldInputType.PASSWORD,this.passwordLabel.displayAsPassword=!0},o.prototype.loginHandle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return e.wxAutoLogin(),[2]})})},o.prototype.registerHandle=function(){e.openPanel(5)},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.SceneComponent);e.LoginScene=t,__reflect(t.prototype,"game.LoginScene")}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.getSkinName=function(){return RegisterPanelSkin},o.prototype.init=function(){this.registerButton.icon="login_json.registerBtn",this.btn_authCode.icon="login_json.yzmbutton"},o.prototype.beforeShow=function(){this._touchEvent=[{target:this.registerButton,callBackFunc:this.registerHandle},{target:this.btn_authCode,callBackFunc:this.authCodeHandle},{target:this.btn_login,callBackFunc:this.closeHandle}],this.passwordLabel.inputType=egret.TextFieldInputType.PASSWORD,this.passwordLabel.displayAsPassword=!0,this.passwordokLabel.inputType=egret.TextFieldInputType.PASSWORD,this.passwordokLabel.displayAsPassword=!0},o.prototype.registerHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,o;return __generator(this,function(n){switch(n.label){case 0:return""==e.deleteBlank(this.phoneLabel.text)?(e.showTips("请输入您的手机号!",!0),[2]):""==e.deleteBlank(this.authCodeLabel.text)?(e.showTips("请输入您的验证码!",!0),[2]):""==e.deleteBlank(this.nameLabel.text)?(e.showTips("请输入您的用户名!",!0),[2]):""==e.deleteBlank(this.passwordLabel.text)||""==e.deleteBlank(this.passwordokLabel.text)?(e.showTips("请输入您的密码!",!0),[2]):this.passwordLabel.text!=this.passwordokLabel.text?(e.showTips("两次输入的密码不一致!",!0),[2]):(t=JSON.stringify({gmcmd:"registaccount",phone:this.phoneLabel.text,passwd:this.passwordLabel.text,authcode:this.authCodeLabel.text,nickname:this.nameLabel.text,invitationcode:this.comeonLabel.text}),[4,e.postHttpByJson(e.$registIp,t)]);case 1:return o=n.sent(),o&&(this.closeHandle(),e.loginUserInfo={account:this.phoneLabel.text,passwd:this.passwordLabel.text},e.LoginManager.getInstance().login(),egret.localStorage.setItem("userName",this.phoneLabel.text),egret.localStorage.setItem("password",this.passwordLabel.text)),[2]}})})},o.prototype.authCodeHandle=function(){return __awaiter(this,void 0,void 0,function(){var t,o,n,i,a,r=this;return __generator(this,function(s){switch(s.label){case 0:return""==e.deleteBlank(this.phoneLabel.text)?(e.showTips("请输入您的手机号!",!0),[2]):(t=JSON.stringify({gmcmd:"registauthcode",phone:this.phoneLabel.text}),this.yzmbtnLabel.text="59s后重新获取",[4,e.postHttpByJson(e.$registIp,t)]);case 1:return o=s.sent(),o&&(this.btn_authCode.touchEnabled=!1,n=0,i=59,a=egret.setInterval(function(){n++,n>60?(egret.clearInterval(a),a=null,r.btn_authCode.touchEnabled=!0,r.yzmbtnLabel.text="获取验证码"):r.yzmbtnLabel.text=i-n+"s后重新获取"},this,1e3)),[2]}})})},o.prototype.closeHandle=function(){this.remove()},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.PanelComponent);e.RegisterPanel=t,__reflect(t.prototype,"game.RegisterPanel")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=t.call(this)||this;return e.skinName=DeliveryItemSkin,e.itemImg.mask=e.itemMask,e}return __extends(o,t),o.prototype.dataChanged=function(){var t=table.ItemBaseDataById[this.data.itemid];return t?(this.data.remark?this.itemInfo.text=""+this.data.remark:this.data.time&&(this.itemInfo.text="下单时间: "+this.data.time),this.itemImg.source=e.getItemIconSource(t.Id),this.itemName.text=t.Name,void(this.itemNum.text=this.data.count)):(egret.log(this.data.itemid+"找不到道具!"),void(this.visible=!1))},o}(eui.ItemRenderer);e.DeliveryItem=t,__reflect(t.prototype,"game.DeliveryItem")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectType=1,e}return __extends(o,t),o.prototype.getSkinName=function(){return DeliveryPanelSkin},o.prototype.init=function(){this.closeButton.icon="lucky_json.luckycloseBtn",this.bagButton.icon="ui_json.backBagBtn",this._listProvider=new eui.ArrayCollection,this.deliveryList.dataProvider=this._listProvider,this.deliveryList.itemRenderer=e.DeliveryItem},o.prototype.beforeShow=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.bagButton,callBackFunc:this.bagHandle},{target:this.selOkImg,callBackFunc:this.selOKHandle},{target:this.selNoImg,callBackFunc:this.selNoHandle}],this.registerEvent(),this.updateView()},o.prototype.beforeRemove=function(){this.removeEvent()},o.prototype.registerEvent=function(){},o.prototype.removeEvent=function(){},o.prototype.selOKHandle=function(){this._selectType=1,this.updateView()},o.prototype.selNoHandle=function(){this._selectType=2,this.updateView()
},o.prototype.updateView=function(){this.selOkImg.alpha=1==this._selectType?1:0,this.selNoImg.alpha=2==this._selectType?1:0,this.selOkTxt.textColor=1==this._selectType?16777215:3640002,this.selNoTxt.textColor=2==this._selectType?16777215:3640002,this.deliveryTitle.source=1==this._selectType?"ui_json.deliveryOkTxt":"ui_json.deliveryNoTxt",this.updateList()},o.prototype.updateList=function(){return __awaiter(this,void 0,void 0,function(){var t,o,n,i;return __generator(this,function(a){switch(a.label){case 0:return this._listProvider.removeAll(),t=this,[4,e.DataManager.playerModel.getPlayerGoods()];case 1:for(t._playerGoodsInfo=a.sent(),o=0,n=this._playerGoodsInfo;o<n.length;o++)i=n[o],1!=this._selectType||"2"!=i.recordstate&&"3"!=i.recordstate?2==this._selectType&&"0"==i.recordstate&&this._listProvider.addItem(i):this._listProvider.addItem(i);return this.deliveryScr.viewport.scrollV=0,[2]}})})},o.prototype.closeHandle=function(){this.remove()},o.prototype.bagHandle=function(){this.closeHandle(),e.openPanel(4)},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.PanelComponent);e.DeliveryPanel=t,__reflect(t.prototype,"game.DeliveryPanel")}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.getSkinName=function(){return DeliverySettingSkin},o.prototype.init=function(){this.btn_close.icon="lucky_json.luckycloseBtn",this.btn_setting.icon="user_json.updateBtn"},o.prototype.beforeShow=function(){this._touchEvent=[{target:this.btn_close,callBackFunc:this.closeHandle},{target:this.btn_setting,callBackFunc:this.settingHandle}],this.initView()},o.prototype.initView=function(){if(e.DataManager.playerModel.getUserInfo().addrlist.length>0){var t=e.DataManager.playerModel.getUserInfo().addrlist[0];this.nameLabel.text=t.receiver,this.phoneLabel.text=t.phone,this.addressLabel.text=t.address}},o.prototype.closeHandle=function(){this.remove()},o.prototype.settingHandle=function(){if(""==e.deleteBlank(this.nameLabel.text))return void e.showTips("请输入您的姓名!",!0);if(""==e.deleteBlank(this.phoneLabel.text))return void e.showTips("请输入您的手机号!",!0);if(""==e.deleteBlank(this.addressLabel.text))return void e.showTips("请输入您的收货地址!",!0);var t={receiver:this.nameLabel.text,phone:this.phoneLabel.text,address:this.addressLabel.text};e.sendMessage("msg.C2GW_ChangeDeliveryAddress",msg.C2GW_ChangeDeliveryAddress.encode({index:0,info:t}))},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.PanelComponent);e.DeliverySetting=t,__reflect(t.prototype,"game.DeliverySetting")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=t.call(this)||this;return e.skinName=HistoryMoneyItemSkin,e.initView(),e}return __extends(o,t),o.prototype.initView=function(){this.descLabel=new egret.TextField,this.descLabel.width=580,this.descLabel.height=30,this.descLabel.x=5,this.descLabel.textAlign=egret.HorizontalAlign.LEFT,this.addChild(this.descLabel)},o.prototype.dataChanged=function(){var t=table.ItemBaseDataById[this.data.item];return t?void(this.descLabel.textFlow=[{text:e.formatTime(new Date(1e3*this.data.time)),style:{textColor:8421504,size:18}},{text:"抽中",style:{textColor:8421504,size:24}},{text:t.Name,style:{textColor:16752443,size:24,bold:!0}},{text:"价值",style:{textColor:8421504,size:24}},{text:""+this.data.worth,style:{textColor:16752443,size:24,bold:!0}},{text:"RMB",style:{textColor:8421504,size:24}}]):(egret.log(this.data.id+"找不到道具!"),void(this.visible=!1))},o}(eui.ItemRenderer);e.HistoryMoneyItem=t,__reflect(t.prototype,"game.HistoryMoneyItem")}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.getSkinName=function(){return HistoryMoneySkin},o.prototype.init=function(){this.closeButton.icon="lucky_json.luckycloseBtn",this.bagButton.icon="ui_json.backBagBtn",this._listProvider=new eui.ArrayCollection,this.historyList.dataProvider=this._listProvider,this.historyList.itemRenderer=e.HistoryMoneyItem},o.prototype.beforeShow=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.closeHandle},{target:this.bagButton,callBackFunc:this.bagHandle}],this.registerEvent(),this.updateList()},o.prototype.beforeRemove=function(){this.removeEvent()},o.prototype.registerEvent=function(){},o.prototype.removeEvent=function(){},o.prototype.updateList=function(){this._listProvider.removeAll();for(var t=0,o=e.DataManager.playerModel.getHistoryMoney();t<o.length;t++){var n=o[t];this._listProvider.addItem(n)}this.historyScr.viewport.scrollV=0,this.moneyTxt.text="￥"+e.DataManager.playerModel.getTotalMoney()},o.prototype.closeHandle=function(){this.remove()},o.prototype.bagHandle=function(){this.closeHandle(),e.openPanel(4)},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.PanelComponent);e.HistoryMoneyPanel=t,__reflect(t.prototype,"game.HistoryMoneyPanel")}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.init=function(){this.playButton.icon="ui_json.play",this.rankButton.icon="ui_json.paihang",this.userButton.icon="ui_json.userMainBtn",this.luckyButton.icon="ui_json.luckMainBtn",this.titleImage.y=.1*gameConfig.curHeight()},o.prototype.getSkinName=function(){return MainSceneSkin},o.prototype.beforeShow=function(){this._touchEvent=[{target:this.playButton,callBackFunc:this.playHandle},{target:this.rankButton,callBackFunc:this.rankHandle},{target:this.rankLabel,callBackFunc:this.rankHandle},{target:this.userButton,callBackFunc:this.userHandle},{target:this.luckyButton,callBackFunc:this.luckyHandle}],this.lightImage.rotation=0,egret.Tween.get(this.lightImage,{loop:!0}).to({rotation:360},1e4)},o.prototype.playHandle=function(){e.BattleManager.getInstance().isRetStartGame&&(e.BattleManager.getInstance().isRetStartGame=!1,e.sendMessage("msg.C2GW_ReqStartGame",msg.C2GW_ReqStartGame.encode({gamekind:0})))},o.prototype.rankHandle=function(){e.DataManager.playerModel.openRankPanel()},o.prototype.userHandle=function(){e.openPanel(6)},o.prototype.luckyHandle=function(){e.openPanel(3)},o.prototype.beforeRemove=function(){egret.Tween.removeTweens(this.lightImage)},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.SceneComponent);e.MainScene=t,__reflect(t.prototype,"game.MainScene")}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.getSkinName=function(){return UserPanelSkin},o.prototype.init=function(){this.img_userhead.mask=this.img_mask,this.closeButton.icon="lucky_json.luckycloseBtn",this.addressButton.icon="user_json.deliveryAdressBtn",this.inviteFriendButton.icon="login_json.inviteFriendsImg"},o.prototype.beforeShow=function(){this._touchEvent=[{target:this.closeButton,callBackFunc:this.backHandle},{target:this.addressButton,callBackFunc:this.addressHandle},{target:this.inviteFriendButton,callBackFunc:this.inviteFriendHandle}],this.initUser()},o.prototype.beforeRemove=function(){},o.prototype.initUser=function(){var t=e.DataManager.playerModel.userInfo;this.labelId.text="ID  "+t.userid,this.labelName.text=t.name,this.img_gameTask.visible=!1,this.img_becomeonTask.visible=!1,this.img_userhead.source=t.face},o.prototype.backHandle=function(){this.remove()},o.prototype.wxHandle=function(){var e="wx03789100061e5d6c",t="http%3a%2f%2fjump.test.giantfun.cn%2ftantanle",o=egret.localStorage.getItem("userName")+"-"+egret.localStorage.getItem("password"),n="https://open.weixin.qq.com/connect/qrconnect?appid="+e+"&redirect_uri="+t+"&response_type=code&scope=snsapi_login&state="+o;window.location.href=n},o.prototype.addressHandle=function(){e.openPanel(9)},o.prototype.copyHandle=function(){e.TextCopy("TJ"+e.DataManager.playerModel.userInfo.userid)},o.prototype.inviteFriendHandle=function(){e.showTips("功能暂未开放,敬请期待...",!0)},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.PanelComponent);e.UserPanel=t,__reflect(t.prototype,"game.UserPanel")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=t.call(this)||this;return e.skinName=RankItemSkin,e}return __extends(o,t),o.prototype.dataChanged=function(){this.setData(this.data),this.data.rank%50==0&&e.RankPanel.getInstance().updateRank(this.data.rank)},o.prototype.setData=function(e){if(e.rank){var t=e.rank;switch(this.rankLabel.text=t+".",this.scoreLabel.text=""+e.score,t){case 1:this.rankLabel.textColor=16384017;break;case 2:this.rankLabel.textColor=14921009;break;case 3:this.rankLabel.textColor=7574773;break;default:this.rankLabel.textColor=10248959}}else this.rankLabel.text="未入榜",this.rankLabel.textColor=10248959,this.scoreLabel.text="";this.setItemBg(e.rank),this.avatar.setAvatar(e.face,!1),this.nameLabel.text=e.name},o.prototype.setItemBg=function(e){this.itemBg.visible=e%2==0},o}(eui.ItemRenderer);e.RankItem=t,__reflect(t.prototype,"game.RankItem")}(game||(game={}));var game;!function(e){var t=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._onload=!1,e}return __extends(o,t),o.prototype.init=function(){var t=this;this.friendButton.icon="ui_json.rank_haoyou",this.worldButton.icon="ui_json.rank_shijie",this.backButton.icon="ui_json.win_back",this._rankData=new eui.ArrayCollection,this.rankList.itemRenderer=e.RankItem,this.rankList.dataProvider=this._rankData,this.friendGroup.addEventListener(egret.Event.ADDED_TO_STAGE,function(e){t.worldHandle()},this)},o.prototype.beforeShow=function(){this._touchEvent=[{target:this.friendButton,callBackFunc:this.friendHandle},{target:this.worldButton,callBackFunc:this.worldHandle},{target:this.backButton,callBackFunc:this.backHandle}],this._notify=[{source:e.DataManager.playerModel,target:this,callBackFunc:this.updateSelf,notifyName:e.PlayerModel.TOP_UPDATE,execute:!1}],e.NotificationCenter.addObserver(this,this.updateList,"msg.GW2C_RetSort")},o.prototype.updateList=function(e){this._onload&&(this._onload=!1);for(var t=0,o=e;t<o.length;t++){var n=o[t];this._rankData.addItem(n)}},o.prototype.friendHandle=function(){1!=this._currentType&&(this.friendGroup.visible=!0,this.worldGroup.visible=!1,this._rankData.removeAll(),this.rankNameLabel.text="好友排行榜",this._currentType=1)},o.prototype.updateSelf=function(){this.selfWorldGroup.removeChildren();var t=e.DataManager.playerModel.userInfo;t&&(this._selfRankItem||(this._selfRankItem=new e.RankItem),this._selfRankItem.setData({rank:t.rank,score:t.money,name:t.name,userid:t.userid,face:t.face}),this.selfWorldGroup.addChild(this._selfRankItem))},o.prototype.updateRank=function(t){this._onload||this._rankData.length>t||(this._onload=!0,e.DataManager.playerModel.requireRank(t))},o.prototype.worldHandle=function(){2!=this._currentType&&(this.friendGroup.visible=!1,this.worldGroup.visible=!0,this._rankData.removeAll(),this.rankNameLabel.text="世界排行榜",this._currentType=2,this.rankScroller.viewport.scrollV=0,e.DataManager.playerModel.requireRank(0),this.updateSelf())},o.prototype.backHandle=function(){this._currentType=0,this.remove()},o.prototype.getSkinName=function(){return RankPanelSkin},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(e.PanelComponent);e.RankPanel=t,__reflect(t.prototype,"game.RankPanel")}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.getSkinName=function(){return WinRankItemSkin},o.prototype.setInfo=function(t){var o=t.userid==e.DataManager.playerModel.userInfo.userid;this.avatar.setAvatar(t.face,o),this.nameLabel.text=t.name,this.scoreLabel.text=t.score.toString(),this.rankLabel.text=""+t.rank},o}(e.GameComponent);e.WinRankItem=t,__reflect(t.prototype,"game.WinRankItem")}(game||(game={}));var game;!function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.init=function(){this._rankItemList=[],this.recordLabel.fontFamily=this.scoreLabel.fontFamily="DynoBold",this.backButton.icon="ui_json.win_back",this.againButton.icon="ui_json.win_again",this.shareButton.icon="ui_json.win_fenxiang"},o.prototype.getSkinName=function(){return WinSceneSkin},o.prototype.beforeShow=function(){this._touchEvent=[{target:this.backButton,callBackFunc:this.backHandle},{target:this.rankLabel,callBackFunc:this.rankHandle},{target:this.againButton,callBackFunc:this.againHandle},{target:this.shareButton,callBackFunc:this.shareHandle}]},o.prototype.backHandle=function(){e.SceneManager.changeScene(1),this.remove()},o.prototype.rankHandle=function(){e.DataManager.playerModel.openRankPanel()},o.prototype.againHandle=function(){e.DataManager.playerModel.battleStart(),e.SceneManager.changeScene(0,!0),this.remove()},o.prototype.shareHandle=function(){this.shareWx()},o.prototype.shareWx=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,platform.shareAppMessage()];case 1:return e=t.sent(),[2]}})})},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o.prototype.setScore=function(t,o,n){this.rankGroup.removeChildren(),this.newRecordGroup.visible=t,this.normalGroup.visible=!t,this.recordLabel.text=this.scoreLabel.text=""+o;for(var i=0;i<n.length;i++){var a=this._rankItemList[i];a||(a=new e.WinRankItem,this._rankItemList[i]=a),a.setInfo(n[i]),this.rankGroup.addChild(a)}},o}(e.PanelComponent);e.WinScene=t,__reflect(t.prototype,"game.WinScene")}(game||(game={}));var game;!function(e){var t=function(){function e(){this._obj=null,this.pos0=null,this.pos1=null,this.pos2=null}return e.prototype.setObject=function(e){this._obj=e},Object.defineProperty(e.prototype,"factor",{get:function(){return 0},set:function(e){this._obj.x=(1-e)*(1-e)*this.pos0[0]+2*e*(1-e)*this.pos1[0]+e*e*this.pos2[0],this._obj.y=(1-e)*(1-e)*this.pos0[1]+2*e*(1-e)*this.pos1[1]+e*e*this.pos2[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"p1p2p3",{set:function(e){this.pos0=e[0],this.pos1=e[1],this.pos2=e[2]},enumerable:!0,configurable:!0}),e.prototype.play=function(e,t,o){egret.Tween.get(this).to({factor:1},e,o).call(function(){t&&t()},this)},e}();e.BeiSaiEr=t,__reflect(t.prototype,"game.BeiSaiEr")}(game||(game={}));var Delaunay;!function(e){function t(e){var t,o,n,i,a,r,s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(t=e.length;t--;)e[t][0]<s&&(s=e[t][0]),e[t][0]>c&&(c=e[t][0]),e[t][1]<l&&(l=e[t][1]),e[t][1]>h&&(h=e[t][1]);return o=c-s,n=h-l,i=Math.max(o,n),a=s+.5*o,r=l+.5*n,[[a-20*i,r-i],[a,r+20*i],[a+20*i,r-i]]}function o(e,t,o,n){var i,a,s,l,c,h,u,d,p,m,g=e[t][0],f=e[t][1],y=e[o][0],_=e[o][1],v=e[n][0],I=e[n][1],b=Math.abs(f-_),w=Math.abs(_-I);if(r>b&&r>w)throw new Error("Eek! Coincident points!");return r>b?(l=-((v-y)/(I-_)),h=(y+v)/2,d=(_+I)/2,i=(y+g)/2,a=l*(i-h)+d):r>w?(s=-((y-g)/(_-f)),c=(g+y)/2,u=(f+_)/2,i=(v+y)/2,a=s*(i-c)+u):(s=-((y-g)/(_-f)),l=-((v-y)/(I-_)),c=(g+y)/2,h=(y+v)/2,u=(f+_)/2,d=(_+I)/2,i=(s*c-l*h+d-u)/(s-l),a=b>w?s*(i-c)+u:l*(i-h)+d),p=y-i,m=_-a,{i:t,j:o,k:n,x:i,y:a,r:p*p+m*m}}function n(e){var t,o,n,i,a,r;for(o=e.length;o;)for(i=e[--o],n=e[--o],t=o;t;)if(r=e[--t],a=e[--t],n===a&&i===r||n===r&&i===a){e.splice(o,2),e.splice(t,2);break}}function i(e,i){var a,s,l,c,h,u,d,p,m,g,f,y,_=e.length;if(3>_)return[];if(e=e.slice(0),i)for(a=_;a--;)e[a]=e[a][i];for(l=new Array(_),a=_;a--;)l[a]=a;for(l.sort(function(t,o){return e[o][0]-e[t][0]}),c=t(e),e.push(c[0],c[1],c[2]),h=[o(e,_+0,_+1,_+2)],u=[],d=[],a=l.length;a--;d.length=0){for(y=l[a],s=h.length;s--;)p=e[y][0]-h[s].x,p>0&&p*p>h[s].r?(u.push(h[s]),h.splice(s,1)):(m=e[y][1]-h[s].y,p*p+m*m-h[s].r>r||(d.push(h[s].i,h[s].j,h[s].j,h[s].k,h[s].k,h[s].i),h.splice(s,1)));for(n(d),s=d.length;s;)f=d[--s],g=d[--s],h.push(o(e,g,f,y))}for(a=h.length;a--;)u.push(h[a]);for(h.length=0,a=u.length;a--;)u[a].i<_&&u[a].j<_&&u[a].k<_&&h.push(u[a].i,u[a].j,u[a].k);return h}function a(e,t){if(t[0]<e[0][0]&&t[0]<e[1][0]&&t[0]<e[2][0]||t[0]>e[0][0]&&t[0]>e[1][0]&&t[0]>e[2][0]||t[1]<e[0][1]&&t[1]<e[1][1]&&t[1]<e[2][1]||t[1]>e[0][1]&&t[1]>e[1][1]&&t[1]>e[2][1])return null;var o=e[1][0]-e[0][0],n=e[2][0]-e[0][0],i=e[1][1]-e[0][1],a=e[2][1]-e[0][1],r=o*a-n*i;if(0===r)return null;var s=(a*(t[0]-e[0][0])-n*(t[1]-e[0][1]))/r,l=(o*(t[1]-e[0][1])-i*(t[0]-e[0][0]))/r;return 0>s||0>l||s+l>1?null:[s,l]}var r=1/1048576;e.triangulate=i,e.contains=a}(Delaunay||(Delaunay={}));var effectUtils;!function(e){function t(e,t){if(void 0===t&&(t=1e3),null==this.rotationArr&&(this.rotationArr=[]),!this.rotationArr[e.hashCode]){null!=this.rotationArr[e.hashCode]&&this.rotationArr[e.hashCode]||(this.rotationArr[e.hashCode]=!0);var o=function(){this.rotationArr[e.hashCode]&&null!=e&&(e.rotation=0,egret.Tween.get(e).to({rotation:360},t).call(o,this))};e.rotation=0,egret.Tween.get(e).to({rotation:360},t).call(o,this)}}function o(e){null==this.rotationArr&&(this.rotationArr=[]),this.rotationArr[e.hashCode]=!1}function n(e){var t=80,o=e.x;egret.Tween.get(e).to({x:e.x-10},t),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},t)},this,2*t),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},t)},this,3*t),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},t)},this,4*t),egret.setTimeout(function(){egret.Tween.get(e).to({x:o},t)},this,5*t)}function i(e,t){void 0===t&&(t=1);var o=40,n=e.x,i=e.y;1==t?(egret.Tween.get(e).to({x:e.x-10},o),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},o)},this,2*o),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},o)},this,3*o),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},o)},this,4*o),egret.setTimeout(function(){egret.Tween.get(e).to({x:n},o)},this,5*o)):(egret.Tween.get(e).to({x:e.x-10,y:e.y},o),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20,y:e.y},o)},this,2*o),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+15},o)},this,3*o),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y-20},o)},this,4*o),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+10},o)},this,5*o),egret.setTimeout(function(){egret.Tween.get(e).to({x:n,y:i},o)},this,6*o))}function a(e,t){if(void 0===t&&(t=1),!this.isPlayEffectPlay){this.isPlayEffectPlay=!0;var o=function(){this.isPlayEffectPlay=!1},n=function(){1==t?egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},500,egret.Ease.elasticOut).call(o,this):2==t?egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},500,egret.Ease.backOut).call(o,this):3==t&&egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},100).call(o,this)};egret.Tween.get(e).to({scaleX:.5,scaleY:.5,x:e.x+e.width/4,y:e.y+e.height/4},100,egret.Ease.sineIn).call(n,this)}}function r(e){var t=function(){if(null!=e){var o=function(){e.scaleX=1,e.scaleY=1,egret.Tween.get(e).to({alpha:1},1e3).call(t,self)};e.alpha=1,egret.Tween.get(e).to({scaleX:1.5,scaleY:1.5,alpha:0},1e3).call(o,self)}};t()}function s(e,t,o){void 0===t&&(t=300),void 0===o&&(o=10);var n=function(){if(null!=e){var i=function(){egret.Tween.get(e).to({y:e.y-o},t).call(n,this)};egret.Tween.get(e).to({y:e.y+o},t).call(i,this)}};n()}function l(e,t,o){void 0===o&&(o=20);var n=function(){if(null!=e){var i=function(){egret.Tween.get(e).to({rotation:-o},t).call(n,this)};egret.Tween.get(e).to({rotation:o},t).call(i,this)}};n()}function c(e,t,o){void 0===t&&(t=""),void 0===o&&(o=200);for(var n=t.split(""),i=n.length,a=0;i>a;a++)egret.setTimeout(function(){e.appendText(n[Number(this)])},a,o*a)}e.rotationEffect=t,e.removeRotationEffect=o,e.shakeObj=n,e.shakeScreen=i;e.playEffect=a,e.playScaleEffect=r,e.flyObj=s,e.rockObj=l,e.typerEffect=c}(effectUtils||(effectUtils={}));var game;!function(e){var t=function(t){function o(){var e=t.call(this)||this;return e._isShow=!1,e}return __extends(o,t),o.prototype.show=function(){this._isShow||(e.GameLayer.maskLayer.addChild(this),this._isShow=!0)},o.prototype.hide=function(){this._isShow&&(e.GameLayer.maskLayer.removeChild(this),this._isShow=!1)},o.getInstance=function(){return o._instance||(o._instance=new o),o._instance},o}(eui.Component);e.WaitPanel=t,__reflect(t.prototype,"game.WaitPanel")}(game||(game={}));var game;!function(e){var t=function(){function t(){this.runTime=10,this.delayTime=1,this._posY=[200,280,360],this._curSystem=0}return t.prototype.init=function(){this.systemNotice=new Array,this.noticeRunY=new Array;for(var t=0;t<this._posY.length;t++)this.noticeRunY.push({index:t,isRun:!1});e.NotificationCenter.addObserver(this,this.OnGW2C_MsgNotify,"msg.GW2C_MsgNotify")},t.prototype.OnGW2C_MsgNotify=function(t){e.showTips(t.text)},t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t}();e.BarrageManager=t,__reflect(t.prototype,"game.BarrageManager")}(game||(game={}));var Pay;!function(e){function t(e){var t=new md5;return t.hex_md5(e).toUpperCase()}function o(){return Date.now().toString()}function n(e,t){return __awaiter(this,void 0,void 0,function(){var o,n,i;return __generator(this,function(a){return o="https://api.weixin.qq.com/sns/jscode2session?appid="+p+"&secret="+m+"&js_code="+e+"&grant_type=authorization_code",console.log(o),n=null,i=null,wx.request({url:o,data:{},header:{"content-type":"application/json"},method:"POST",dataType:"",success:function(e){n=e.data.openid,i=e.data.session_key,t&&t(n,i)},fail:function(e){return console.log("请求失败",e)},complete:null}),[2]})})}function i(e){for(var t='{ "goods_detail":[',o="] }",n="",i=0,a=e;i<a.length;i++){var r=a[i];n+=JSON.stringify(r)+","}return t+n+o}function a(e,o){var n="appid="+o.appid+"&body="+o.body,i="";e&&(i="&detail="+e);var a="&mch_id="+o.mch_id+"&nonce_str="+o.nonce_str+"&notify_url="+o.notify_url,r="";o.openid&&(r="&openid="+o.openid);var s="&out_trade_no="+o.out_trade_no+"&spbill_create_ip="+o.spbill_create_ip+"&total_fee="+o.total_fee+"&trade_type="+o.trade_type,l="&key="+g,c=n+i+a+r+s+l,h=t(c),u="<xml>\n   <appid>"+o.appid+"</appid>\n   <body>"+o.body+"</body>\n   <mch_id>"+o.mch_id+"</mch_id>\n   <detail>"+e+"</detail>\n   <nonce_str>"+o.nonce_str+"</nonce_str>\n   <notify_url>"+o.notify_url+"</notify_url>\n   <openid>"+o.openid+"</openid>\n   <out_trade_no>"+o.out_trade_no+"</out_trade_no>\n   <spbill_create_ip>"+o.spbill_create_ip+"</spbill_create_ip>\n   <total_fee>"+o.total_fee+"</total_fee>\n   <trade_type>"+o.trade_type+"</trade_type>\n   <sign>"+h+"</sign>\n</xml>";return u}function r(e,t,n,r){var s=i(r),l=o(),h="http://bf.giantfun.cn",u="127.0.0.1",m={appid:p,mch_id:d,session_key:t,body:"TEST JS PAY",nonce_str:"1add1a30ac87aa2db72f57a2375d8fec",notify_url:h,openid:e,out_trade_no:l,spbill_create_ip:u,total_fee:n,trade_type:"JSAPI"},g=a(s,m);return c(g),g}function s(e,t){var o=e.indexOf("<"+t+">"),n=e.indexOf("</"+t+">"),i=e.substring(o+("<"+t+">").length,n),a=i.indexOf("<![CDATA["),r=i.lastIndexOf("]]>");return i.substring(a+"<![CDATA[".length,r)}function l(e,o,n){var i="appid=${appid}&nonceStr=${nonceStr}&prepay_id=${prepay_id}&signType=MD5&timeStamp=${Date.now()}&key=${kSecKey}";return t(i)}function c(e){wx.request({url:"https://api.mch.weixin.qq.com/pay/unifiedorder",data:e,header:{},method:"POST",dataType:"application/json",success:function(e){console.log("支付统一下单成功:",e.data);var t=(egret.XML.parse(e.data),s(e.data,"appid")),o=s(e.data,"nonce_str"),n=s(e.data,"prepay_id");console.log(o,n);var i=l(t,o,n);console.log(i)},fail:function(e){return console.log("支付统一下单失败:",e)},complete:null})}function h(){console.log("启动选项： ",wx.getLaunchOptionsSync()),wx.getSystemInfo({success:function(e){return console.log("获取系统信息成功：",e)},fail:function(e){return console.log("获取系统信息失败：",e)},complete:null}),wx.onError(function(){return console.error("小程序出现错误")}),wx.login({success:function(t){console.log("微信登录成功",t),e.get_open_id_and_session_key(t.code,function(t,o){console.log(t,o);var n=e.push_order(t,o,1,[{goods_id:"iphone6s_16G",wxpay_goods_id:"0001",goods_name:"iPhone6s 16G",quantity:1,price:528800,goods_category:"123456",body:"苹果手机"},{goods_id:"iphone6s_32G",wxpay_goods_id:"1002",goods_name:"iPhone6s 32G",quantity:1,price:608800,goods_category:"123789",body:"苹果手机"}]);console.log(n)})},fail:function(e){return console.log("微信登陆失败",e)},complete:null}),wx.getSetting({success:function(e){return console.log("获取设置成功",e)},fail:function(e){return console.log("获取设置失败",e)},complete:null})}function u(e,t,o){void 0===e&&(e=10),void 0===t&&(t=null),void 0===o&&(o=null),wx.requestMidasPayment({mode:"game",env:1,offerId:"1450016022",currencyType:"CNY",platform:"android",buyQuantity:e,zoneId:"1",success:function(e){console.log("米大师支付成功",e),t&&t(e)},fail:function(e){console.log("米大师支付失败",e),o&&o(e)},complete:function(e){}})}var d="1495077762",p="wx50a65298622b1651",m="6934870a36e3d0e3f02e32ef9bd013cb",g="80a8c4a9d76c71e1701c001e3a41583e";e.gen_sign=t,e.get_open_id_and_session_key=n,e.push_order=r,e.testWxMiniPrgmPay=h,e.midasPay=u}(Pay||(Pay={}));var game;!function(e){function t(){return new m}function o(e){return t().resolve(e).promise()}function n(e){return t().reject(e).promise()}function i(e,o){var n=t(),i=new Array;return a(i,n,e,o),n.promise()}function a(t,o,n,i){var r=n(i);if(!r)return void o.resolve(t);for(;r.next&&r.promise.status==e.Status.Resolved;)if(t.push(r.promise.result),r=n(r.next),!r)return void o.resolve(t);r.promise.done(function(e){t.push(e),r.next?a(t,o,n,r.next):o.resolve(t)}).fail(function(e){o.reject(e)})}function r(e){var o=t();if(!e.length)return o.resolve([]),o.promise();var n=0,i=[];return e.forEach(function(t,a){t.done(function(t){i[a]=t,++n,n===e.length&&o.status!==d.Rejected&&o.resolve(i)}).fail(function(e){o.status!==d.Rejected&&o.reject(new Error("when: one or more promises were rejected"))})}),o.promise()}function s(e){return function(){return l(e())}}function l(e){return new g(e)}function c(e,o){var n=t();return h(n,e(),o),n.promise()}function h(e,t,o){t.advance().done(function(n){return n?(o(t.current),void h(e,t,o)):void e.resolve({})}).fail(function(t){return e.reject(t)})}function u(e){return"undefined"==typeof e}e.defer=t,e.resolve=o,e.reject=n,e.unfold=i;var d;!function(e){e[e.Unfulfilled=0]="Unfulfilled",e[e.Rejected=1]="Rejected",e[e.Resolved=2]="Resolved"}(d=e.Status||(e.Status={})),e.when=r;var p=function(){function e(e){this.deferred=e}return Object.defineProperty(e.prototype,"status",{get:function(){return this.deferred.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this.deferred.result},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this.deferred.error},enumerable:!0,configurable:!0}),e.prototype.done=function(e){return this.deferred.done(e),this},e.prototype.fail=function(e){return this.deferred.fail(e),this},e.prototype.always=function(e){return this.deferred.always(e),this},e.prototype.then=function(e){return this.deferred.then(e)},e.prototype.when=function(e){var t=this;return e.length?(e.forEach(function(e,o){e.done(function(e){t.status!==d.Rejected&&t.deferred.resolve(e)}).fail(function(e){t.status!==d.Rejected&&t.deferred.reject(new Error("when: one or more promises were rejected"))})},this),this):(this.deferred.resolve(void 0),this)},e}();__reflect(p.prototype,"PromiseI",["game.Promise","game.PromiseState"]);var m=function(){function e(){this._resolved=function(e){},this._rejected=function(e){},this._status=d.Unfulfilled,this._error={message:""},this._promise=new p(this)}return e.prototype.promise=function(){return this._promise},Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){if(this._status!=d.Resolved)throw new Error("Promise: result not available");return this._result},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){if(this._status!=d.Rejected)throw new Error("Promise: rejection reason not available");return this._error},enumerable:!0,configurable:!0}),e.prototype.then=function(e){var o=t();return this.done(function(t){var n=e(t);if(n instanceof p){var i=n;return i.done(function(e){return o.resolve(e)}).fail(function(e){return o.reject(e)}),i}o.resolve(n)}).fail(function(e){return o.reject(e)}),o.promise()},e.prototype.done=function(e){if(this.status===d.Resolved)return e(this._result),this;if(this.status!==d.Unfulfilled)return this;var t=this._resolved;return this._resolved=function(o){t(o),e(o)},this},e.prototype.fail=function(e){if(this.status===d.Rejected)return e(this._error),this;if(this.status!==d.Unfulfilled)return this;var t=this._rejected;return this._rejected=function(o){t(o),e(o)},this},e.prototype.always=function(e){return this.done(function(t){return e(t)}).fail(function(t){return e(null,t)}),this},e.prototype.resolve=function(e){return this._status!==d.Unfulfilled?this:(this._result=e,this._status=d.Resolved,this._resolved(e),this.detach(),this)},e.prototype.delayResolve=function(e,t){return setTimeout(this.resolve,this,t,e),this},e.prototype.reject=function(e){return this._status!==d.Unfulfilled?this:(this._error=e,this._status=d.Rejected,this._rejected(e),this.detach(),this)},e.prototype.detach=function(){this._resolved=function(){},this._rejected=function(){}},e}();__reflect(m.prototype,"DeferredI",["game.Deferred","game.PromiseState"]),e.generator=s,e.iterator=l;var g=function(){function e(e){this.f=e,this.current=void 0}return e.prototype.advance=function(){var e=this,t=this.f();return t.then(function(t){return u(t)?!1:(e.current=t,!0)})},e}();__reflect(g.prototype,"IteratorI",["game.Iterator"]),e.each=c,e.isUndefined=u}(game||(game={}));var game;!function(e){var t=function(){function e(e){this.SeedArray=[],this.MBIG=2147483647,this.MSEED=161803398,this.MZ=0,e||(e=(new Date).valueOf()%1e6|0);for(var t=0;56>t;t++)this.SeedArray.push(0);var o=-2147483648==e?2147483647:0|Math.abs(e),n=161803398-o;this.SeedArray[55]=n;for(var i=1,t=1;55>t;t++){var a=21*t%55|0;this.SeedArray[a]=i,i=n-i,0>i&&(i+=2147483647),n=this.SeedArray[a]}for(var r=1;5>r;r++)for(var s=1;56>s;s++)this.SeedArray[s]-=this.SeedArray[1+(s+30)%55],this.SeedArray[s]<0&&(this.SeedArray[s]+=2147483647);this.inext=0,this.inextp=21,e=1}return e.prototype.Sample=function(){return 4.656612875245797e-10*this.InternalSample()},e.prototype.InternalSample=function(){var e=this.inext,t=this.inextp;++e>=56&&(e=1),++t>=56&&(t=1);var o=this.SeedArray[e]-this.SeedArray[t];return 2147483647==o&&o--,0>o&&(o+=2147483647),this.SeedArray[e]=o,this.inext=e,this.inextp=t,o},e.prototype.Next=function(e,t){if(null==e&&null==t)return this.InternalSample();if(e>t)throw new Error("min > max");var o=t-e;return 2147483647>=o?(this.Sample()*o|0)+e:(this.GetSampleForLargeRange()*o|0)+e|0},e.prototype.GetSampleForLargeRange=function(){var e=this.InternalSample(),t=this.InternalSample()%2==0;t&&(e=-e);var o=e;return o+=2147483646,o/4294967293},e}();e.Random=t,__reflect(t.prototype,"game.Random")}(game||(game={}));var game;!function(e){function t(e){var t=Math.floor(e/3600),o=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return t+":"+(o>=10?o:"0"+o)+":"+(n>=10?n:"0"+n)}function o(e){var t=Math.floor(e%3600/60),o=Math.floor(e%3600%60);return(t>=10?t:"0"+t)+":"+(o>=10?o:"0"+o)}function n(e){var t=Math.floor(e);return t>=10?t.toString():"0"+t}function i(e,t){void 0===t&&(t="yyyy.MM.dd  hh:mm:ss");var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in o)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return t}function a(){var t=new Date;return t.setTime(t.getTime()+e.timeDelay),t
}function r(e){var t=Math.floor(e/86400),o=Math.floor(e%86400/3600);if(o>0)return t+"天  "+o+"小时";var n=Math.floor(e%86400%3600/60),i=Math.floor(e%86400%3600%60);return t+"天  "+o+"时"+(n>=10?n:"0"+n)+"分"+(i>=10?i:"0"+i)+"秒"}e.week=["周日","周一","周二","周三","周四","周五","周六"],e.weekNumber=["7","1","2","3","4","5","6"],e.timeDelay=0,e.s2hms=t,e.s2ms=o,e.s2s=n,e.formatTime=i,e.getNowTime=a,e.sDh=r}(game||(game={}));var gameJson;!function(e){e.game=JSON.parse('{"//":"免费赠送规则，每天1次，少于500，赠送1000","LuckDrawPrice":100,"LuckDrawHistroyLimlit":5,"FreePresentRule":{"Count":3,"FloorTrigger":500,"Money":1000}}')}(gameJson||(gameJson={}));var gameJson;!function(e){e.global=JSON.parse('{"//":"微信开放平台","string":"string field","int":20170927,"float":2017.0927,"bool":true,"objArray":[{"item":1001,"name":"新手礼包1"},{"item":1002,"name":"新手礼包2"},{"item":1003,"name":"新手礼包3"}],"strArray":["hello1","hello2","hello3"],"intArray":[8001,8002,8003,8004],"disconclean":0,"hearbeat":{"timeout":30000},"newuser":{"yuanbao":0,"coupon":0},"Delivery":{"UrlAPIJumpTest":"http://210.73.214.214:80/Api/V8/ReqDeliveryItem_PP","UrlAPIJump":"http://103.244.233.249:80/Api/V8/ReqDeliveryItem_PP","UrlAPI":"http://logistics.giantfun.cn:8083/v1/logistics/delivery","Cost":100,"Freelimit":2,"GameId":"10002","Dev":"1"},"PickYuanbaoNotice":100,"PresentFreeStep":5,"RechargeCallback":"http://210.73.214.67:19000","HongBaoAPI":{"secret2":"topjump","key2":"topjump","getaddress2":"http://open.std.tvmopt.com/public/user/GetDeliveryAddresses","recharge2":"http://open.std.tvmopt.com/public/finance/MultiRecharge","secret":"cec2795b1ce550ca63a27d3f1d61c91291d9bee2f5c1b1346dba011cae266607","key":"tope7b61803d1091f9b5e0bdcf2f486e","getaddress":"https://open.yx.tvyouxuan.com/public/user/GetDeliveryAddresses","recharge":"https://open.yx.tvyouxuan.com/public/finance/MultiRecharge","CharacterCreation":"https://open.yx.tvyouxuan.com/public/event/CharacterCreation","Online":"https://open.yx.tvyouxuan.com/public/event/Online","Battles":"https://open.yx.tvyouxuan.com/public/event/Battles","CharacterLevel":"https://open.yx.tvyouxuan.com/public/event/CharacterLevel","ConsumeMoney":"https://open.yx.tvyouxuan.com/public/event/ConsumeMoney","LootMoney":"https://open.yx.tvyouxuan.com/public/event/LootMoney","Victory":"https://open.yx.tvyouxuan.com/public/event/Victory","FinanceQuery":"https://open.yx.tvyouxuan.com/public/finance/Query","DecrCoins":"https://open.yx.tvyouxuan.com/public/finance/DecrCoins","IncrDiamonds":"https://open.yx.tvyouxuan.com/public/finance/IncrDiamonds","CheckWechatBound":"https://open.yx.tvyouxuan.com/public/user/CheckWechatBound"},"IntranetFlag":false,"Sms":{"UrlAPI":"http://211.147.239.62:9051/api/v1.0.0/message/mass/send","Account":"shjf@shjf","Passwd":"00ecUAHi","AuthCodeContent":"欢迎来到弹弹乐，您的验证码是"},"Wechat":{"AppId":"wx03789100061e5d6c","AppSecret":"81e8f7d08b55f0f4a0ea3c4b15f558c6","Mchid":"1500100872","PaySecret":"80a8c4a9d76c71e1701c001e3a41583e"}}')}(gameJson||(gameJson={}));var gameJson;!function(e){e.room=JSON.parse('{"//":"概率色子点数","griditem":{"YuanbaoRate":25,"ItemRate":3,"CouponRate":20,"FreeYuanbaoRate":35},"diamondroom":[{"grade":1,"total":8,"num":1,"pickpro":"0-1;1800-2;3600-3;5400-4;7200-5;9000-7;10800-9;12600-11;14400-13;16200-15;18000-17;19800-20"}],"diamondparts_to_diamond":10,"diamond_to_coins":10000,"rmb_to_conis":1000,"rmb_to_yuanbao":10,"diamondparts_to_coins":500,"must_be_out_diamond_step":4,"rebate":{"warning_line_min":67,"warning_line_max":73,"min_consume":30000,"group_gird":{"have_empty_parts_diamond":{"empty":20,"parts":62,"diamond":18},"have_parts_diamond":{"parts":83,"diamond":17}}},"step_diamond_probability":[{"step":1,"pro":0},{"step":2,"pro":0},{"step":3,"pro":0},{"step":4,"pro":10},{"step":5,"pro":30},{"step":6,"pro":50},{"step":7,"pro":70},{"step":8,"pro":100}]}')}(gameJson||(gameJson={}));var table;!function(e){function t(){for(var t=0,o=e.TBall;t<o.length;t++){var n=o[t];e.TBallById[n.Id]=n}}e.TBall=[{Id:1,Atk:1,Price:1},{Id:2,Atk:1,Price:1}],e.TBallById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TBallGift;t<o.length;t++){var n=o[t];e.TBallGiftById[n.Id]=n}}e.TBallGift=[{Id:1,Name:"200金币",Num:200,ItemId:6003,Path:"item_json.6003",Pro:1334,PushBag:1,Cost:1},{Id:2,Name:"50元京东卡",Num:1,ItemId:2006,Path:"item_json.2006",Pro:50,PushBag:1,Cost:50},{Id:3,Name:"10元电话卡",Num:1,ItemId:5004,Path:"item_json.5004",Pro:100,PushBag:1,Cost:10},{Id:4,Name:"1000金币",Num:1e3,ItemId:6003,Path:"item_json.6003",Pro:1e3,PushBag:1,Cost:1e3},{Id:5,Name:"600金币",Num:600,ItemId:6003,Path:"item_json.6003",Pro:1e3,PushBag:1,Cost:3},{Id:6,Name:"黄金吊坠",Num:1,ItemId:3018,Path:"item_json.3018",Pro:5,PushBag:1,Cost:840},{Id:7,Name:"2000金币",Num:2e3,ItemId:6003,Path:"item_json.6003",Pro:350,PushBag:1,Cost:2e3},{Id:8,Name:"200元京东卡",Num:1,ItemId:2004,Path:"item_json.2004",Pro:10,PushBag:1,Cost:200},{Id:9,Name:"5000金币",Num:5e3,ItemId:6003,Path:"item_json.6003",Pro:200,PushBag:1,Cost:5e3},{Id:10,Name:"iPhone X",Num:1,ItemId:1001,Path:"item_json.1001",Pro:1,PushBag:1,Cost:8488},{Id:11,Name:"400金币",Num:400,ItemId:6003,Path:"item_json.6003",Pro:1200,PushBag:1,Cost:2},{Id:12,Name:"30元电话卡",Num:1,ItemId:5003,Path:"item_json.5003",Pro:100,PushBag:1,Cost:30},{Id:13,Name:"200金币",Num:200,ItemId:6003,Path:"item_json.6003",Pro:1300,PushBag:1,Cost:1},{Id:14,Name:"50元京东卡",Num:1,ItemId:2006,Path:"item_json.2006",Pro:50,PushBag:1,Cost:50},{Id:15,Name:"10元电话卡",Num:1,ItemId:5004,Path:"item_json.5004",Pro:100,PushBag:1,Cost:10},{Id:16,Name:"1000金币",Num:1e3,ItemId:6003,Path:"item_json.6003",Pro:1e3,PushBag:1,Cost:1e3},{Id:17,Name:"600金币",Num:600,ItemId:6003,Path:"item_json.6003",Pro:1e3,PushBag:1,Cost:3},{Id:18,Name:"400金币",Num:400,ItemId:6003,Path:"item_json.6003",Pro:1200,PushBag:1,Cost:2}],e.TBallGiftById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TBirck;t<o.length;t++){var n=o[t];e.TBirckById[n.Id]=n}}e.TBirck=[{Id:1,High:36,Wide:72}],e.TBirckById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TBirckInfo;t<o.length;t++){var n=o[t];e.TBirckInfoById[n.Id]=n}}e.TBirckInfo=[{Id:1,Brickid:1,Info:"4-4-1-1",Pro:0,Bullet:0,Time:0,kind:0,Type:1},{Id:2,Brickid:1,Info:"9-6-1-2",Pro:0,Bullet:0,Time:0,kind:0,Type:1},{Id:3,Brickid:1,Info:"14-8-1-3",Pro:0,Bullet:0,Time:0,kind:0,Type:1},{Id:4,Brickid:1,Info:"19-10-2-4",Pro:0,Bullet:0,Time:0,kind:0,Type:1},{Id:5,Brickid:1,Info:"24-20-3-5",Pro:0,Bullet:0,Time:0,kind:0,Type:1},{Id:6,Brickid:1,Info:"1-0-0-1",Pro:4500,Bullet:0,Time:0,kind:1,Type:2},{Id:7,Brickid:1,Info:"20-0-0-1",Pro:3500,Bullet:0,Time:30,kind:2,Type:3},{Id:8,Brickid:1,Info:"4-0-0-1",Pro:2500,Bullet:0,Time:0,kind:1,Type:4},{Id:9,Brickid:1,Info:"20-0-0-1",Pro:2e3,Bullet:0,Time:60,kind:2,Type:5},{Id:10,Brickid:1,Info:"20-0-0-1",Pro:2500,Bullet:0,Time:60,kind:2,Type:6},{Id:11,Brickid:1,Info:"20-0-0-1",Pro:2e3,Bullet:0,Time:30,kind:2,Type:7},{Id:12,Brickid:1,Info:"4-0-0-1",Pro:3e3,Bullet:0,Time:0,kind:1,Type:8},{Id:13,Brickid:1,Info:"20-0-0-1",Pro:0,Bullet:0,Time:30,kind:2,Type:3},{Id:14,Brickid:1,Info:"20-0-0-1",Pro:0,Bullet:0,Time:45,kind:2,Type:5},{Id:15,Brickid:1,Info:"20-0-0-1",Pro:0,Bullet:0,Time:45,kind:2,Type:6},{Id:16,Brickid:1,Info:"20-0-0-1",Pro:0,Bullet:0,Time:40,kind:2,Type:7},{Id:17,Brickid:1,Info:"20-0-0-1",Pro:0,Bullet:0,Time:30,kind:2,Type:3},{Id:18,Brickid:1,Info:"20-0-0-1",Pro:0,Bullet:0,Time:30,kind:2,Type:5},{Id:19,Brickid:1,Info:"20-0-0-1",Pro:0,Bullet:0,Time:30,kind:2,Type:6},{Id:20,Brickid:1,Info:"20-0-0-1",Pro:0,Bullet:0,Time:25,kind:2,Type:7},{Id:21,Brickid:1,Info:"48-3000-1-6",Pro:0,Bullet:0,Time:0,kind:0,Type:9}],e.TBirckInfoById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TBirckItem;t<o.length;t++){var n=o[t];e.TBirckItemById[n.Id]=n}}e.TBirckItem=[{Id:1,Name:"分身球",Num:1,Pro:0},{Id:2,Name:"加长板",Num:1,Pro:0},{Id:3,Name:"元宝",Num:1,Pro:0}],e.TBirckItemById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TBirckRefresh;t<o.length;t++){var n=o[t];e.TBirckRefreshById[n.Id]=n}}e.TBirckRefresh=[{Id:1,Min:0,Max:99999999,Pro:"1-400;2-200;3-200;4-100;5-40;21-6",Limitnum:10}],e.TBirckRefreshById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TGiftPro;t<o.length;t++){var n=o[t];e.TGiftProById[n.Id]=n}}e.TGiftPro=[{Id:1,Limitmin:0,Limitmax:0,Pro:["1-1250","2-1000","3-750","4-750","5-500","6-500","7-390","8-250","9-200","10-100","11-25","12-10","13-1250","14-1000","15-750","16-750","17-500","18-25"]},{Id:2,Limitmin:1,Limitmax:200,Pro:["1-1250","2-1000","3-750","4-750","5-500","6-500","7-390","8-250","9-200","10-100","11-25","12-10","13-1250","14-1000","15-750","16-750","17-500","18-25"]},{Id:3,Limitmin:200,Limitmax:999999,Pro:["1-1250","2-1000","3-750","4-750","5-500","6-500","7-390","8-250","9-200","10-100","11-25","12-10","13-1250","14-1000","15-750","16-750","17-500","18-25"]}],e.TGiftProById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.ItemBaseData;t<o.length;t++){var n=o[t];e.ItemBaseDataById[n.Id]=n}}e.ItemBaseData=[{Id:10001,Name:"钻石",Desc:"",Sort:0,Type:10,Sold:0,RealPrice:100},{Id:10002,Name:"钻石券",Desc:"",Sort:0,Type:10,Sold:0,RealPrice:10},{Id:8001,Name:"广告联盟",Desc:"",Sort:0,Type:8,Sold:0,RealPrice:0},{Id:7001,Name:"PAPAGO记录仪",Desc:"名称:PAPAGO行车记录仪 特征：超高清 描述：迷你隐藏式 类型：固定发货",Sort:12,Type:7,Sold:289,RealPrice:2890},{Id:7002,Name:"小米记录仪",Desc:"名称:70迈小米行车记录仪 特征：高清夜视 描述：后视镜 类型：固定发货",Sort:23,Type:7,Sold:1299,RealPrice:12990},{Id:7003,Name:"家用洗车机",Desc:"名称:家用洗车机 特征：高压 描述：高压清洗机 类型：固定发货",Sort:31,Type:7,Sold:299,RealPrice:2990},{Id:7004,Name:"汽车腰靠垫",Desc:"名称:汽车腰靠垫 特征：倍逸舒 描述：人体工学 类型：固定发货",Sort:34,Type:7,Sold:189,RealPrice:1890},{Id:7005,Name:"车载手机支架",Desc:"名称:车载手机支架 特征：塑料 描述：风口式支架 类型：固定发货",Sort:38,Type:7,Sold:10,RealPrice:100},{Id:7006,Name:"车载充电器",Desc:"名称:车载充电器 特征：银色 描述：全金属 类型：固定发货",Sort:44,Type:7,Sold:26,RealPrice:260},{Id:7007,Name:"汽车香水",Desc:"名称:汽车香水 特征:黑色 描述:香水夹 类型:固定发货",Sort:46,Type:7,Sold:68,RealPrice:680},{Id:7008,Name:"汽车车载香水",Desc:"名称:汽车车载香水 特征:白色 描述:香水夹 类型:固定发货",Sort:49,Type:7,Sold:39,RealPrice:390},{Id:7009,Name:"汽车头枕腰靠",Desc:"名称:汽车腰靠垫 特征：织物 描述：人体工学 类型：固定发货",Sort:53,Type:7,Sold:179,RealPrice:1790},{Id:7010,Name:"车载充电器",Desc:"名称:飞利浦车载充电器 特征:双USB输出 描述:黑色 类型:固定发货",Sort:54,Type:7,Sold:129,RealPrice:1290},{Id:7011,Name:"小米净化器",Desc:"名称:小米净化器 特征:小米 描述:便携式 类型:固定发货",Sort:63,Type:7,Sold:389,RealPrice:3890},{Id:7012,Name:"海尔净化器",Desc:"名称:车载空气净化器 特征:CJ05A 描述:便携式 类型:固定发货",Sort:66,Type:7,Sold:199,RealPrice:1990},{Id:7013,Name:"车载吸尘器",Desc:"名称:车载吸尘器 特征:12V 描述:黑金色 类型:固定发货",Sort:70,Type:7,Sold:79,RealPrice:790},{Id:7014,Name:"车载灭火器",Desc:"名称:车载灭火器 特征：金属 描述：小型灭火器 类型：固定发货",Sort:72,Type:7,Sold:39,RealPrice:390},{Id:7015,Name:"对讲机",Desc:"名称:对讲机 特征：无线电 描述：自驾游对讲机 类型：固定发货",Sort:75,Type:7,Sold:158,RealPrice:1580},{Id:7016,Name:"汽车安全锤",Desc:"名称:汽车安全锤 特征:消防锤 描述:钨钢锤尖 类型:固定发货",Sort:80,Type:7,Sold:58,RealPrice:580},{Id:7017,Name:"保平安符",Desc:"名称:车载保平安符 特征：织物 描述：平安符 类型：随机发货",Sort:81,Type:7,Sold:89,RealPrice:890},{Id:7018,Name:"汽车U盘带音乐",Desc:"名称:车载mp3汽车U盘带音乐 特征:32g 描述:金色 类型:固定发货",Sort:85,Type:7,Sold:59,RealPrice:590},{Id:7019,Name:"汽车收纳箱",Desc:"名称:汽车收纳箱储物箱 特征:40升 描述:PP树脂 类型:固定发货",Sort:90,Type:7,Sold:129,RealPrice:1290},{Id:6001,Name:"元宝",Desc:"",Sort:0,Type:6,Sold:0,RealPrice:0},{Id:6002,Name:"人民币",Desc:"",Sort:0,Type:6,Sold:0,RealPrice:0},{Id:6003,Name:"金币",Desc:"",Sort:0,Type:6,Sold:0,RealPrice:0},{Id:6004,Name:"作废货币",Desc:"",Sort:0,Type:6,Sold:0,RealPrice:0},{Id:6005,Name:"免费次数",Desc:"",Sort:0,Type:6,Sold:0,RealPrice:0},{Id:5001,Name:"100元话费",Desc:"名称:话费直充 特征:100元 描述:虚拟卡 类型:固定发货",Sort:59,Type:5,Sold:100,RealPrice:1e3},{Id:5002,Name:"50元话费",Desc:"名称:话费直充 特征:50 描述:虚拟卡 类型:固定发货",Sort:76,Type:5,Sold:50,RealPrice:500},{Id:5003,Name:"30元话费",Desc:"提取直充30元电话卡",Sort:84,Type:5,Sold:30,RealPrice:300},{Id:5004,Name:"10元话费",Desc:"提取直充10元电话卡",Sort:91,Type:5,Sold:10,RealPrice:100},{Id:4001,Name:"毛怪苏利文",Desc:"名称:正版迪士尼-毛怪苏利文 特征:95cm 描述:PP棉 类型:固定发货",Sort:9,Type:4,Sold:350,RealPrice:3500},{Id:4002,Name:"Disney维尼熊",Desc:"名称:小熊维尼公仔 特征:高约52cm 描述:PP棉 类型:固定发货",Sort:18,Type:4,Sold:198,RealPrice:1980},{Id:4003,Name:"迪士尼基本款套装",Desc:"名称:迪士尼米奇&米妮套装 特征:43*50cm 描述:PP棉-超柔短毛绒 类型:固定发货",Sort:24,Type:4,Sold:119,RealPrice:1190},{Id:4004,Name:"创意十二萌犬礼盒",Desc:"名称:创意十二萌犬礼盒 特征:树脂 描述:饰物 类型:固定发货",Sort:25,Type:4,Sold:49,RealPrice:490},{Id:4005,Name:"正版迪士尼布鲁托",Desc:"名称:正版迪士尼布鲁托 特征:30-35cm 描述:PP棉 类型:固定发货",Sort:27,Type:4,Sold:40,RealPrice:400},{Id:4006,Name:"瘫倒仓鼠坐垫",Desc:"名称:瘫倒仓鼠坐垫 特征:45x90cm 描述:灰色/浅棕/深棕/粉色 类型:随机发货",Sort:29,Type:4,Sold:34,RealPrice:340},{Id:4007,Name:"初音ミク抱枕",Desc:"名称:初音ミク抱枕 特征:高约20cm 描述:超柔PP棉 类型:固定发货",Sort:32,Type:4,Sold:23,RealPrice:230},{Id:4008,Name:"旅かえる公仔",Desc:"名称:旅行青蛙公仔（旅かえる） 特征:高约20cm 描述:PP棉-超柔短毛绒 类型:固定发货",Sort:33,Type:4,Sold:20,RealPrice:200},{Id:4009,Name:"小丁丁",Desc:"名称:小丁丁 特征:高约20cm 描述:毛绒 类型:随机发货",Sort:39,Type:4,Sold:10,RealPrice:100},{Id:4010,Name:"仿真狗boo",Desc:"名称:仿真狗boo 特征:60cm 描述:PP棉 类型:固定发货",Sort:42,Type:4,Sold:199,RealPrice:1990},{Id:4011,Name:"大脸猫玩偶",Desc:"名称:白色泪眼猫 特征:60cm 描述:PP棉 类型:固定发货",Sort:47,Type:4,Sold:59,RealPrice:590},{Id:4012,Name:"变身蜡笔小新",Desc:"名称:变身蜡笔小新 特征:95cm 描述:PP棉 类型:固定发货",Sort:48,Type:4,Sold:348,RealPrice:3480},{Id:4013,Name:"冰雪奇缘艾莎",Desc:"名称:冰雪奇缘-艾莎 特征:28cm 描述:玩偶 类型:固定发货",Sort:55,Type:4,Sold:99,RealPrice:990},{Id:4014,Name:"大型抱抱熊公仔",Desc:"名称:大型抱抱熊公仔 特征:3.4米 描述:PP棉 类型:固定发货",Sort:58,Type:4,Sold:768,RealPrice:7680},{Id:4015,Name:"节日版维尼熊",Desc:"名称:正版迪士尼维尼熊 特征:41cm 描述:PP棉 类型:固定发货",Sort:60,Type:4,Sold:129,RealPrice:1290},{Id:4016,Name:"唐老鸭包包",Desc:"名称:大型抱抱熊公仔 特征:3.4米 描述:PP棉 类型:固定发货",Sort:61,Type:4,Sold:88,RealPrice:880},{Id:4017,Name:"粉红豹公仔",Desc:"名称:粉红顽皮豹 特征:55cm 描述:PP棉 类型:固定发货",Sort:64,Type:4,Sold:178,RealPrice:1780},{Id:4018,Name:"哈姆太郎",Desc:"名称:哈姆太郎 特征:40cm 描述:毛绒 类型:固定发货",Sort:71,Type:4,Sold:68,RealPrice:680},{Id:4019,Name:"雪儿公主",Desc:"名称:正版芭比婚纱娃娃 特征:60cm 描述:镶钻长拖尾款 类型:固定发货",Sort:73,Type:4,Sold:1499,RealPrice:14990},{Id:4020,Name:"长颈鹿公仔",Desc:"名称:可骑的长颈鹿公仔 特征:1.3米 描述:PP棉 类型:固定发货",Sort:78,Type:4,Sold:386,RealPrice:3860},{Id:4021,Name:"白虎背包",Desc:"名称:欧美个性潮白虎背包 特征:1.0kg 描述:PP棉 类型:随机发货",Sort:79,Type:4,Sold:309,RealPrice:3090},{Id:4022,Name:"皮卡丘玩偶",Desc:"名称:大型抱抱熊公仔 特征:90cm 描述:PP棉 类型:固定发货",Sort:83,Type:4,Sold:100,RealPrice:1e3},{Id:4023,Name:"音乐泰迪熊",Desc:"名称:七彩发光音乐泰迪熊 特征:100cm 描述:PP棉 类型:固定发货",Sort:87,Type:4,Sold:178,RealPrice:1780},{Id:4024,Name:"索尼子人形抱枕",Desc:"名称:索尼子人形抱枕 特征:160*50cm 描述:PP棉 类型:固定发货",Sort:88,Type:4,Sold:298,RealPrice:2980},{Id:4025,Name:"巡音人形抱枕",Desc:"名称:巡音人形抱枕 特征:160*50cm 描述:PP棉 类型:固定发货",Sort:92,Type:4,Sold:298,RealPrice:2980},{Id:4026,Name:"小礼品",Desc:"名称:小礼品 特征:时尚小挂件一个 描述:多种款式 类型:随机发货",Sort:94,Type:9,Sold:3,RealPrice:30},{Id:4027,Name:"贱贱猫",Desc:"名称:贱贱猫 特征:30-40cm 描述:毛绒 类型:随机发货",Sort:0,Type:4,Sold:11,RealPrice:110},{Id:3001,Name:"CL萝卜丁口红",Desc:"名称:萝卜丁丝绒口红唇膏 特征:丝滑缎光系列 描述:505M 001M 类型:固定发货",Sort:4,Type:3,Sold:898,RealPrice:8980},{Id:3002,Name:"莫杰小雏菊女士香水",Desc:"名称:莫杰小雏菊女士香水 特征:50ml 描述:花果香调 类型:固定发货",Sort:13,Type:3,Sold:315,RealPrice:3150},{Id:3003,Name:"DIOR魅惑润唇蜜",Desc:"名称:迪奥魅惑润唇蜜 特征:40g 描述:粉红色 类型:固定发货",Sort:16,Type:3,Sold:283,RealPrice:2830},{Id:3004,Name:"花王蒸汽眼罩",Desc:"名称:花王蒸汽眼罩（无香） 特征:170g 描述:14片 类型:固定发货",Sort:17,Type:3,Sold:78,RealPrice:780},{Id:3005,Name:"小甘菊护手霜",Desc:"名称:小甘菊 经典护手霜） 特征:75ml 描述:护手霜 类型:固定发货",Sort:20,Type:3,Sold:59,RealPrice:590},{Id:3006,Name:"吸盘牙刷架套装",Desc:"名称:吸盘牙刷架套装 特征:458.00g 描述:收纳 类型:固定发货",Sort:28,Type:3,Sold:39,RealPrice:390},{Id:3007,Name:"星球大战吸管杯带盖",Desc:"名称:创意十二萌犬礼盒 特征:480ml 描述:风暴兵/暗黑原力 类型:随机发货",Sort:35,Type:3,Sold:26,RealPrice:260},{Id:3008,Name:"施耐福四件套",Desc:"名称:施耐福 黑色四件套 特征: 黑色四件套 描述:不锈钢钢 类型:固定发货",Sort:36,Type:3,Sold:248,RealPrice:2480},{Id:3009,Name:"镁离子净水壶",Desc:"名称:镁离子净水壶 特征:1.5升 描述:PP树脂 类型:固定发货",Sort:40,Type:3,Sold:189,RealPrice:1890},{Id:3010,Name:"德尔玛加湿器",Desc:"名称:德尔玛加湿器 特征:5升 描述:PP树脂 类型:固定发货",Sort:45,Type:3,Sold:80,RealPrice:800},{Id:3011,Name:"飞利浦剃须刀",Desc:"名称:飞利浦剃须刀 特征:电动剃须刀 描述:环保材料 类型:固定发货",Sort:50,Type:3,Sold:1199,RealPrice:11990},{Id:3012,Name:"小熊咖啡机",Desc:"名称:小熊机 美式家用咖啡壶 特征:0.7L 描述:滴滤机 类型:固定发货",Sort:56,Type:3,Sold:129,RealPrice:1290},{Id:3013,Name:"忠臣电陶炉",Desc:"名称:忠臣电陶炉 特征:电陶炉 描述:黑色 类型:固定发货",Sort:57,Type:3,Sold:199,RealPrice:1990},{Id:3014,Name:"金正养生壶",Desc:"名称:金正养生壶 特征:1.5L 描述:养生壶 类型:固定发货",Sort:62,Type:3,Sold:99,RealPrice:990},{Id:3015,Name:"九洲鹿床垫",Desc:"名称:九洲鹿床垫 特征:床垫 描述:棉 类型:固定发货",Sort:65,Type:3,Sold:78,RealPrice:780},{Id:3016,Name:"悠佳脏衣篮",Desc:"名称:悠佳脏衣篮 特征:40升 描述:PP树脂 类型:固定发货",Sort:67,Type:3,Sold:79,RealPrice:790},{Id:3017,Name:"黄金金条10g",Desc:"名称:【中国黄金】黄金金条 特征:9999金砖10g黄金金条 描述:10克 类型:固定发货",Sort:68,Type:3,Sold:2893,RealPrice:28930},{Id:3018,Name:"黄金吊坠",Desc:"获得一个黄金吊坠",Sort:69,Type:3,Sold:840,RealPrice:8400},{Id:3019,Name:"南极人四件套",Desc:"名称:南极人四件套 特征:四件套 描述:棉 类型:固定发货",Sort:74,Type:3,Sold:149,RealPrice:1490},{Id:3020,Name:"小米空气净化器",Desc:"名称:小米净化器 特征:小米 描述:立式 类型:固定发货",Sort:82,Type:3,Sold:529,RealPrice:5290},{Id:3021,Name:"小熊养生壶",Desc:"名称:小熊养生壶 特征:1.5L 描述:养生壶 类型:固定发货",Sort:86,Type:3,Sold:129,RealPrice:1290},{Id:2001,Name:"京东e卡1000元",Desc:"名称:京东卡 特征:1000 描述:虚拟卡 类型:固定发货",Sort:15,Type:2,Sold:1e3,RealPrice:1e4},{Id:2002,Name:"京东e卡500元",Desc:"名称:京东卡 特征:500 描述:虚拟卡 类型:固定发货",Sort:22,Type:2,Sold:500,RealPrice:5e3},{Id:2003,Name:"京东e卡300元",Desc:"名称:京东卡 特征:300 描述:虚拟卡 类型:固定发货",Sort:30,Type:2,Sold:300,RealPrice:3e3},{Id:2004,Name:"京东e卡200元",Desc:"实物200元京东卡",Sort:37,Type:2,Sold:200,RealPrice:2e3},{Id:2005,Name:"爱奇艺VIP会员年卡",Desc:"名称:爱奇艺VIP会员卡 特征:1年 描述:虚拟卡 类型:固定发货",Sort:43,Type:2,Sold:190,RealPrice:1900},{Id:2006,Name:"京东e卡50元",Desc:"实物50元京东卡",Sort:77,Type:2,Sold:50,RealPrice:500},{Id:2007,Name:"爱奇艺1个月会员卡",Desc:"名称:爱奇艺VIP会员卡 特征:1个月 描述:虚拟卡 类型:固定发货",Sort:89,Type:2,Sold:20,RealPrice:200},{Id:2008,Name:"斗鱼直播充值10鱼翅",Desc:"名称:斗鱼TV 特征:10鱼翅 描述:虚拟卡 类型:固定发货",Sort:93,Type:2,Sold:10,RealPrice:100},{Id:1001,Name:"苹果iPhoneX",Desc:"获得一台iPhone X",Sort:1,Type:1,Sold:8488,RealPrice:84880},{Id:1002,Name:"PS4家用游戏机",Desc:"名称:PS4家用游戏机 特征:500G 描述:标配 类型:固定发货",Sort:2,Type:1,Sold:1960,RealPrice:19600},{Id:1003,Name:"小米5X美颜手机",Desc:"名称:小米5X美颜双摄拍照手机 特征:4GB+64GB 描述:金色 类型:固定发货",Sort:3,Type:1,Sold:1399,RealPrice:13990},{Id:1004,Name:"Beauty美容棒",Desc:"名称:Beauty BAR美容棒 特征:90g 描述:美容仪 类型:固定发货",Sort:5,Type:1,Sold:529,RealPrice:5290},{Id:1005,Name:"kindle",Desc:"名称:Kindle X咪咕 电纸书阅读器 特征:6英寸屏 描述:白色 类型:固定发货",Sort:6,Type:1,Sold:658,RealPrice:6580},{Id:1006,Name:"switch游戏机",Desc:"名称:任天堂NS switch 特征:32GB 描述:玫瑰金 类型:固定发货",Sort:7,Type:1,Sold:2300,RealPrice:23e3},{Id:1007,Name:"oppoR11S手机",Desc:"名称:OPPO R11s 星幕新年版  特征:4GB+64GB 描述:新年红 类型:固定发货",Sort:8,Type:1,Sold:3099,RealPrice:30990},{Id:1008,Name:"vivoX9S",Desc:"名称:vivo X9s 全网通手机 特征:4GB+64GB 描述:玫瑰金 类型:固定发货",Sort:10,Type:1,Sold:1998,RealPrice:19980},{Id:1009,Name:"VIVOX20",Desc:"名称:vivo X20 王者荣耀限量版 特征:6GB+64GB 描述:定制 类型:固定发货",Sort:11,Type:1,Sold:3498,RealPrice:34980},{Id:1010,Name:"荣耀9",Desc:"名称:荣耀9青春版 全网通 标配版 特征:3GB+32GB 描述:幻海蓝 类型:固定发货",Sort:14,Type:1,Sold:1199,RealPrice:11990},{Id:1011,Name:"荣耀V10",Desc:"名称:荣耀 V10全网通 标配版 特征:4GB+64GB 描述:极光蓝 类型:固定发货",Sort:19,Type:1,Sold:2699,RealPrice:26990},{Id:1012,Name:"荣耀体脂称",Desc:"名称:荣耀蓝牙APP智能电子秤 特征:智能体脂秤 描述:适配ios&安卓 类型:固定发货",Sort:21,Type:1,Sold:199,RealPrice:1990},{Id:1013,Name:"小方智能摄像机",Desc:"名称:小方智能摄像机 特征:1080p 描述:白色 类型:固定发货",Sort:26,Type:1,Sold:139,RealPrice:1390},{Id:1014,Name:"小米充电宝",Desc:"名称:小米充电宝 特征:移动电源 描述:10000毫安 类型:随机发货",Sort:41,Type:1,Sold:1399,RealPrice:13990},{Id:1015,Name:"小米手环",Desc:"名称:小米手环 特征:手环 描述:京东自营店 类型:随机发货",Sort:51,Type:1,Sold:149,RealPrice:1490},{Id:1016,Name:"智能水杯",Desc:"名称:麦开智能水杯 特征:智能水杯 描述:环保材料 类型:固定发货",Sort:52,Type:1,Sold:349,RealPrice:3490}],e.ItemBaseDataById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TLevel;t<o.length;t++){var n=o[t];e.TLevelById[n.Id]=n}}e.TLevel=[{Id:1,ExpNums:10,Reward:1},{Id:2,ExpNums:20,Reward:2},{Id:3,ExpNums:30,Reward:3},{Id:4,ExpNums:40,Reward:4},{Id:5,ExpNums:50,Reward:5},{Id:6,ExpNums:80,Reward:8},{Id:7,ExpNums:110,Reward:11},{Id:8,ExpNums:140,Reward:14},{Id:9,ExpNums:170,Reward:17},{Id:10,ExpNums:200,Reward:20},{Id:11,ExpNums:250,Reward:25},{Id:12,ExpNums:300,Reward:30},{Id:13,ExpNums:350,Reward:35},{Id:14,ExpNums:400,Reward:40},{Id:15,ExpNums:450,Reward:45},{Id:16,ExpNums:500,Reward:50},{Id:17,ExpNums:600,Reward:60},{Id:18,ExpNums:700,Reward:70},{Id:19,ExpNums:800,Reward:80},{Id:20,ExpNums:900,Reward:90},{Id:21,ExpNums:1e3,Reward:100},{Id:22,ExpNums:1500,Reward:150},{Id:23,ExpNums:2e3,Reward:200},{Id:24,ExpNums:2500,Reward:250},{Id:25,ExpNums:3e3,Reward:300},{Id:26,ExpNums:3500,Reward:350},{Id:27,ExpNums:4e3,Reward:400},{Id:28,ExpNums:4500,Reward:450},{Id:29,ExpNums:5e3,Reward:500},{Id:30,ExpNums:6e3,Reward:600},{Id:31,ExpNums:7e3,Reward:700},{Id:32,ExpNums:8e3,Reward:800},{Id:33,ExpNums:9e3,Reward:900},{Id:34,ExpNums:1e4,Reward:1e3},{Id:35,ExpNums:11e3,Reward:1100},{Id:36,ExpNums:12e3,Reward:1200},{Id:37,ExpNums:13e3,Reward:1300},{Id:38,ExpNums:14e3,Reward:1400},{Id:39,ExpNums:15e3,Reward:1500},{Id:40,ExpNums:16e3,Reward:1600},{Id:41,ExpNums:17e3,Reward:1700},{Id:42,ExpNums:18e3,Reward:1800},{Id:43,ExpNums:19e3,Reward:1900},{Id:44,ExpNums:2e4,Reward:2e3},{Id:45,ExpNums:21e3,Reward:2100},{Id:46,ExpNums:22e3,Reward:2200},{Id:47,ExpNums:23e3,Reward:2300},{Id:48,ExpNums:24e3,Reward:2400},{Id:49,ExpNums:25e3,Reward:2500},{Id:50,ExpNums:0,Reward:2500}],e.TLevelById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TMusic;t<o.length;t++){var n=o[t];e.TMusicById[n.Id]=n}}e.TMusic=[{Id:1,Pos:"非战斗界面背景音乐",Name:"Music_ZhuangYuan"},{Id:2,Pos:"战斗界面背景音乐",Name:"Music_City"},{Id:3,Pos:"按钮点击",Name:"UI_Click_Default"},{Id:4,Pos:"选中商品音效",Name:"UI_MenuOpen"},{Id:5,Pos:"返回或者关闭按钮音效",Name:"UI_MenuClose"},{Id:6,Pos:"go和sotp按钮音效",Name:"UI_Click_Login"},{Id:7,Pos:"主角跳跃音效",Name:"UI_ZYPickup"},{Id:8,Pos:"获得金币音效",Name:"UI_StarSucceed"},{Id:9,Pos:"获得小奖励音效",Name:"UI_LevelUp"},{Id:10,Pos:"获得大奖音效",Name:"Music_Victory"}],e.TMusicById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TName;t<o.length;t++){var n=o[t];e.TNameById[n.Id]=n}}e.TName=[{Id:1,Name:"伏姬"},{Id:2,Name:"乐正秀"},{Id:3,Name:"水莎"},{Id:4,Name:"柏青槐"},{Id:5,Name:"孔水云"},{Id:6,Name:"郑馥"},{Id:7,Name:"岑沛文"},{Id:8,Name:"魏琰"},{Id:9,Name:"楚薇"},{Id:10,Name:"秦春文"},{Id:11,Name:"戚露"},{Id:12,Name:"柳岚"},{Id:13,Name:"沈娅"},{Id:14,Name:"暴傲蕾"},{Id:15,Name:"第五冰露"},{Id:16,Name:"邹蕊"},{Id:17,Name:"堵茜"},{Id:18,Name:"云翠柔"},{Id:19,Name:"时冬儿"},{Id:20,Name:"阎婷"},{Id:21,Name:"羊舌凡"},{Id:22,Name:"井妙菡"},{Id:23,Name:"庚婉"},{Id:24,Name:"钱飘"},{Id:25,Name:"孔嘉"},{Id:26,Name:"钱可"},{Id:27,Name:"施凌珍"},{Id:28,Name:"凤婵"},{Id:29,Name:"蒙菲"},{Id:30,Name:"应怡"},{Id:31,Name:"权逯晶"},{Id:32,Name:"黄琦"},{Id:33,Name:"和韵"},{Id:34,Name:"柏访枫"},{Id:35,Name:"云柔"},{Id:36,Name:"汤之柔"},{Id:37,Name:"姜筠"},{Id:38,Name:"韩璧"},{Id:39,Name:"储乐萱"},{Id:40,Name:"封冬儿"},{Id:41,Name:"姬灵竹"},{Id:42,Name:"宗思"},{Id:43,Name:"姜之瑶"},{Id:44,Name:"曹媛"},{Id:45,Name:"吕月"},{Id:46,Name:"许绮菱"},{Id:47,Name:"任平夏"},{Id:48,Name:"平谷雪"},{Id:49,Name:"蔚之柔"},{Id:50,Name:"卫霭"},{Id:51,Name:"吕柔"},{Id:52,Name:"葛思"},{Id:53,Name:"韩乐"},{Id:54,Name:"时半芹"},{Id:55,Name:"郏怜寒"},{Id:56,Name:"赵贞"},{Id:57,Name:"卫桂"},{Id:58,Name:"穆水云"},{Id:59,Name:"仉琦"},{Id:60,Name:"汤荷"},{Id:61,Name:"沈妙海"},{Id:62,Name:"章平夏"},{Id:63,Name:"金痴梦"},{Id:64,Name:"邹访琴"},{Id:65,Name:"巩嘉"},{Id:66,Name:"秦荔"},{Id:67,Name:"李半芹"},{Id:68,Name:"皮馥"},{Id:69,Name:"曹荷"},{Id:70,Name:"魏寻文"},{Id:71,Name:"吕莉"},{Id:72,Name:"陈紫霜"},{Id:73,Name:"伊乐萱"},{Id:74,Name:"苏灵竹"},{Id:75,Name:"殷珊"},{Id:76,Name:"孙琴"},{Id:77,Name:"秦黛"},{Id:78,Name:"邹向萍"},{Id:79,Name:"周寻文"},{Id:80,Name:"韩宁"},{Id:81,Name:"杨佳"},{Id:82,Name:"毕娴"},{Id:83,Name:"时薇"},{Id:84,Name:"冯姬"},{Id:85,Name:"柏菁"},{Id:86,Name:"施枝"},{Id:87,Name:"施咏"},{Id:88,Name:"陶莺"},{Id:89,Name:"党翠安"},{Id:90,Name:"罗纨"},{Id:91,Name:"严妙海"},{Id:92,Name:"谢如天"},{Id:93,Name:"郑丹珍"},{Id:94,Name:"陶欣"},{Id:95,Name:"龚枝"},{Id:96,Name:"尤馨"},{Id:97,Name:"钱绮菱"},{Id:98,Name:"方蓓"},{Id:99,Name:"雷瑾"},{Id:100,Name:"云傲蕾"},{Id:101,Name:"弘丹"},{Id:102,Name:"戚元珊"},{Id:103,Name:"魏瑾"},{Id:104,Name:"家幻波"},{Id:105,Name:"章佳"},{Id:106,Name:"云馥"},{Id:107,Name:"闻人晶"},{Id:108,Name:"水凌旋"},{Id:109,Name:"卫黛"},{Id:110,Name:"陈咏"},{Id:111,Name:"郝乐之"},{Id:112,Name:"薛琼"},{Id:113,Name:"孔笑白"},{Id:114,Name:"尤雁"},{Id:115,Name:"彭青"},{Id:116,Name:"华霭"},{Id:117,Name:"任艺"},{Id:118,Name:"安宛海"},{Id:119,Name:"梁丘娅"},{Id:120,Name:"施凌雪"},{Id:121,Name:"鄢媛"},{Id:122,Name:"孙秀"},{Id:123,Name:"苏桂"},{Id:124,Name:"马茜"},{Id:125,Name:"沈叶"},{Id:126,Name:"段瑾"},{Id:127,Name:"秦乐之"},{Id:128,Name:"尹如霜"},{Id:129,Name:"糜锦"},{Id:130,Name:"乐滢"},{Id:131,Name:"许叶"},{Id:132,Name:"卞妙海"},{Id:133,Name:"朱乐萱"},{Id:134,Name:"尤夜白"},{Id:135,Name:"曹雪萍"},{Id:136,Name:"昝傲蕾"},{Id:137,Name:"杨婕"},{Id:138,Name:"严影"},{Id:139,Name:"樊寒"},{Id:140,Name:"魏访枫"},{Id:141,Name:"秦莺"},{Id:142,Name:"闾丘谷雪"},{Id:143,Name:"沈寒雁"},{Id:144,Name:"郑问筠"},{Id:145,Name:"秦婷"},{Id:146,Name:"吴琴"},{Id:147,Name:"赵艳"},{Id:148,Name:"赵傲蕾"},{Id:149,Name:"王痴梦"},{Id:150,Name:"邹艺"},{Id:151,Name:"向纨"},{Id:152,Name:"金韵"},{Id:153,Name:"佟馥"},{Id:154,Name:"张海莲"},{Id:155,Name:"娄莺"},{Id:156,Name:"孔苑"},{Id:157,Name:"逄雁"},{Id:158,Name:"孙乐萱"},{Id:159,Name:"方亦瑶"},{Id:160,Name:"吕夏青"},{Id:161,Name:"葛元珊"},{Id:162,Name:"水亦瑶"},{Id:163,Name:"倪莺"},{Id:164,Name:"喻晓"},{Id:165,Name:"喻访琴"},{Id:166,Name:"周荔"},{Id:167,Name:"谢姬"},{Id:168,Name:"空霄"},{Id:169,Name:"秦谷雪"},{Id:170,Name:"章怜寒"},{Id:171,Name:"陈晶"},{Id:172,Name:"杨半芹"},{Id:173,Name:"钱海莲"},{Id:174,Name:"陶涵菡"},{Id:175,Name:"何谷波"},{Id:176,Name:"冯仪"},{Id:177,Name:"郁婉"},{Id:178,Name:"褚薇"},{Id:179,Name:"唐丽丽"},{Id:180,Name:"窦叶"},{Id:181,Name:"庞松"},{Id:182,Name:"喻寻南"},{Id:183,Name:"冯芸"},{Id:184,Name:"曹乐萱"},{Id:185,Name:"冯易梦"},{Id:186,Name:"严紫霜"},{Id:187,Name:"邹姬"},{Id:188,Name:"秦姣"},{Id:189,Name:"蒋涵菡"},{Id:190,Name:"壤驷如霜"},{Id:191,Name:"冯筠"},{Id:192,Name:"戚笑白"},{Id:193,Name:"郁瑶"},{Id:194,Name:"芮园"},{Id:195,Name:"夏侯谷雪"},{Id:196,Name:"吕海莲"},{Id:197,Name:"蒋怜云"},{Id:198,Name:"杜娴"},{Id:199,Name:"惠夜白"},{Id:200,Name:"申屠园"}],e.TNameById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TNotice;t<o.length;t++){var n=o[t];e.TNoticeById[n.Id]=n}}e.TNotice=[{Id:1,Avatar:1,Info:"欢迎来到跳娃娃！"},{Id:2,Avatar:1,Info:"来玩就送，实物大奖领回家！"},{Id:3,Avatar:1,Info:"天天签到送元宝！"}],e.TNoticeById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.ProtoId;t<o.length;t++){var n=o[t];e.ProtoIdById[n.Id]=n}}function o(){for(var t=0,o=e.ProtoId;t<o.length;t++){var n=o[t];e.ProtoIdByName[n.Name]=n}}e.ProtoId=[{Id:1,Name:"msg.AccountInfo"},{Id:2,Name:"msg.AccountGateInfo"},{Id:3,Name:"msg.BattleUser"},{Id:4,Name:"msg.GridItem"},{Id:5,Name:"msg.BT_UploadGameUser"},{Id:6,Name:"msg.BT_ReqEnterRoom"},{Id:7,Name:"msg.BT_GameInit"},{Id:8,Name:"msg.BT_SendBattleUser"},{Id:9,Name:"msg.BT_GameStart"},{Id:10,Name:"msg.BT_GameEnd"},{Id:11,Name:"msg.BT_GameOver"},{Id:12,Name:"msg.BT_ReqQuitGameRoom"},{Id:13,Name:"msg.BT_PickItem"},{Id:14,Name:"msg.BT_UpdateMoney"},{Id:15,Name:"msg.C2GW_ReqLogin"},{Id:16,Name:"msg.GW2C_RetLogin"},{Id:17,Name:"msg.GW2C_SendUserInfo"},{Id:18,Name:"msg.GW2C_SendUserPlatformMoney"},{Id:19,Name:"msg.C2GW_HeartBeat"},{Id:20,Name:"msg.GW2C_HeartBeat"},{Id:21,Name:"msg.C2GW_ReqStartGame"},{Id:22,Name:"msg.GW2C_RetStartGame"},{Id:23,Name:"msg.GW2C_Ret7DayReward"},{Id:24,Name:"msg.C2GW_Get7DayReward"},{Id:25,Name:"msg.C2GW_SendWechatAuthCode"},{Id:26,Name:"msg.C2L_ReqLogin"},{Id:27,Name:"msg.C2L_ReqLoginWechat"},{Id:28,Name:"msg.L2C_RetLogin"},{Id:29,Name:"msg.C2L_ReqRegistAuthCode"},{Id:30,Name:"msg.C2L_ReqRegistAccount"},{Id:31,Name:"msg.L2C_RetRegistAccount"},{Id:32,Name:"msg.IpHost"},{Id:33,Name:"msg.PairNumItem"},{Id:34,Name:"msg.GW2L_ReqRegist"},{Id:35,Name:"msg.L2GW_RetRegist"},{Id:36,Name:"msg.GW2L_HeartBeat"},{Id:37,Name:"msg.L2GW_HeartBeat"},{Id:38,Name:"msg.L2GW_ReqRegistUser"},{Id:39,Name:"msg.GW2L_RegistUserRet"},{Id:40,Name:"msg.GW2MS_ReqRegist"},{Id:41,Name:"msg.MS2GW_RetRegist"},{Id:42,Name:"msg.GW2MS_HeartBeat"},{Id:43,Name:"msg.MS2GW_HeartBeat"},{Id:44,Name:"msg.GW2MS_ReqCreateRoom"},{Id:45,Name:"msg.MS2GW_RetCreateRoom"},{Id:46,Name:"msg.RS2GW_ReqRegist"},{Id:47,Name:"msg.GW2RS_RetRegist"},{Id:48,Name:"msg.GW2RS_UserDisconnect"},{Id:49,Name:"msg.RS2GW_RetUserDisconnect"},{Id:50,Name:"msg.GW2RS_MsgTransfer"},{Id:51,Name:"msg.RS2GW_MsgTransfer"},{Id:52,Name:"msg.C2GW_BuyItem"},{Id:53,Name:"msg.GW2C_AddPackageItem"},{Id:54,Name:"msg.GW2C_RemovePackageItem"},{Id:55,Name:"msg.GW2C_UpdateGold"},{Id:56,Name:"msg.GW2C_UpdateYuanbao"},{Id:57,Name:"msg.GW2C_UpdateCoupon"},{Id:58,Name:"msg.GW2C_UpdateFreeStep"},{Id:59,Name:"msg.DeliveryGoods"},{Id:60,Name:"msg.C2GW_ReqDeliveryGoods"},{Id:61,Name:"msg.C2GW_ReqDeliveryDiamond"},{Id:62,Name:"msg.GW2C_RetDeliveryDiamond"},{Id:63,Name:"msg.BigRewardItem"},{Id:64,Name:"msg.Sync_BigRewardPickNum"},{Id:65,Name:"msg.C2GW_UseBagItem"},{Id:66,Name:"msg.C2GW_SellBagItem"},{Id:67,Name:"msg.RS2MS_ReqRegist"},{Id:68,Name:"msg.MS2RS_RetRegist"},{Id:69,Name:"msg.RS2MS_HeartBeat"},{Id:70,Name:"msg.MS2RS_HeartBeat"},{Id:71,Name:"msg.GateSimpleInfo"},{Id:72,Name:"msg.MS2RS_GateInfo"},{Id:73,Name:"msg.MS2RS_CreateRoom"},{Id:74,Name:"msg.RS2MS_RetCreateRoom"},{Id:75,Name:"msg.RS2MS_DeleteRoom"},{Id:76,Name:"msg.RS2MS_UpdateRewardPool"},{Id:77,Name:"msg.GW2C_MsgNotify"},{Id:78,Name:"msg.GW2C_MsgNotice"},{Id:79,Name:"msg.GW2MS_MsgNotice"},{Id:80,Name:"msg.RS2MS_MsgNotice"},{Id:81,Name:"msg.MS2GW_MsgNotice"},{Id:82,Name:"msg.EntityBase"},{Id:83,Name:"msg.SimpleCounter"},{Id:84,Name:"msg.FreePresentMoney"},{Id:85,Name:"msg.UserWechat"},{Id:86,Name:"msg.UserTask"},{Id:87,Name:"msg.TaskData"},{Id:88,Name:"msg.LuckyDrawItem"},{Id:89,Name:"msg.LuckyDrawRecord"},{Id:90,Name:"msg.UserBase"},{Id:91,Name:"msg.UserAddress"},{Id:92,Name:"msg.ItemData"},{Id:93,Name:"msg.ItemBin"},{Id:94,Name:"msg.Serialize"},{Id:95,Name:"msg.MS2Server_BroadCast"},{Id:96,Name:"msg.C2GW_AddDeliveryAddress"},{Id:97,Name:"msg.C2GW_DelDeliveryAddress"},{Id:98,Name:"msg.C2GW_ChangeDeliveryAddress"},{Id:99,Name:"msg.GW2C_SendDeliveryAddressList"},{Id:100,Name:"msg.C2GW_ReqRechargeMoney"},{Id:101,Name:"msg.GW2C_RetRechargeMoney"},{Id:102,Name:"msg.C2GW_PlatformRechargeDone"},{Id:103,Name:"msg.GW2C_SendWechatInfo"},{Id:104,Name:"msg.C2GW_StartLuckyDraw"},{Id:105,Name:"msg.GW2C_LuckyDrawHit"},{Id:106,Name:"msg.GW2C_FreePresentNotify"},{Id:107,Name:"msg.GW2C_SendTaskList"},{Id:108,Name:"msg.GW2C_SendLuckyDrawRecord"}],e.ProtoIdById={},t(),e.ProtoIdByName={},o()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TRecharge;t<o.length;t++){var n=o[t];e.TRechargeById[n.Id]=n}}e.TRecharge=[{Id:1,Price:6,Info:"6元"},{Id:2,Price:30,Info:"30元"},{Id:3,Price:98,Info:"98元"},{Id:4,Price:128,Info:"128元"},{Id:5,Price:348,Info:"348元"},{Id:6,Price:648,Info:"648元"}],e.TRechargeById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TShop;t<o.length;t++){var n=o[t];e.TShopById[n.Id]=n}}e.TShop=[{Id:1,Itemid:1001,Name:"苹果iPhoneX",Type:1,Num:1,Rmb:8488,Price:169760,Send:0},{Id:2,Itemid:3017,Name:"【中国黄金】黄金金条10g",Type:1,Num:1,Rmb:2893,Price:57860,Send:0},{Id:3,Itemid:3018,Name:"【周大福】十二生肖狗吉星高照足金黄金吊坠2g",Type:1,Num:1,Rmb:840,Price:16800,Send:0},{Id:4,Itemid:3019,Name:"南极人纯棉四件套",Type:1,Num:1,Rmb:149,Price:2980,Send:0},{Id:5,Itemid:3020,Name:"小米空气净化器",Type:1,Num:1,Rmb:529,Price:10580,Send:0},{Id:6,Itemid:3021,Name:"小熊养生壶",Type:1,Num:1,Rmb:129,Price:2580,Send:0}],e.TShopById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TSign;t<o.length;t++){var n=o[t];e.TSignById[n.Id]=n}}e.TSign=[{Id:1,CostId:6005,Num:10},{Id:2,CostId:6005,Num:10},{Id:3,CostId:6005,Num:10},{Id:4,CostId:6005,Num:10},{Id:5,CostId:4027,Num:1},{Id:6,CostId:6005,Num:10},{Id:7,CostId:6005,Num:10}],e.TSignById={},t()}(table||(table={}));var table;!function(e){function t(){for(var t=0,o=e.TTask;t<o.length;t++){var n=o[t];e.TTaskById[n.Id]=n}}e.TTask=[{Id:1001,Desc:"注册账户",Count:1,Reward:"6002-100"},{Id:1002,Desc:"达到目标分数",Count:1e4,Reward:"6002-100"},{Id:1003,Desc:"被邀请人达到目标分数",Count:1e4,Reward:"6002-100"}],e.TTaskById={},t()}(table||(table={})),window.Main=Main;